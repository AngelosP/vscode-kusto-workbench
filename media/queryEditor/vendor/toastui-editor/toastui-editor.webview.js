"use strict";(()=>{var Vv=Object.create;var Ql=Object.defineProperty;var Uv=Object.getOwnPropertyDescriptor;var _v=Object.getOwnPropertyNames;var jv=Object.getPrototypeOf,Wv=Object.prototype.hasOwnProperty;var Zl=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var Gv=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of _v(e))!Wv.call(r,i)&&i!==t&&Ql(r,i,{get:()=>e[i],enumerable:!(n=Uv(e,i))||n.enumerable});return r};var Kv=(r,e,t)=>(t=r!=null?Vv(jv(r)):{},Gv(e||!r||!r.__esModule?Ql(t,"default",{value:r,enumerable:!0}):t,r));var Il=Zl((Fo,Nl)=>{(function(e,t){typeof Fo=="object"&&typeof Nl=="object"?Nl.exports=t():typeof define=="function"&&define.amd?define([],t):typeof Fo=="object"?Fo.colorPicker=t():(e.tui=e.tui||{},e.tui.colorPicker=t())})(window,function(){return(function(r){var e={};function t(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return r[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=r,t.c=e,t.d=function(n,i,o){t.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:o})},t.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,i){if(i&1&&(n=t(n)),i&8||i&4&&typeof n=="object"&&n&&n.__esModule)return n;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),i&2&&typeof n!="string")for(var a in n)t.d(o,a,function(s){return n[s]}.bind(null,a));return o},t.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(i,"a",i),i},t.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},t.p="dist",t(t.s=33)})([(function(r,e,t){"use strict";function n(i,o){var a=Object.prototype.hasOwnProperty,s,l,u,c;for(u=1,c=arguments.length;u<c;u+=1){s=arguments[u];for(l in s)a.call(s,l)&&(i[l]=s[l])}return i}r.exports=n}),(function(r,e,t){"use strict";function n(i){return i instanceof Array}r.exports=n}),(function(r,e,t){"use strict";var n=t(1),i=t(6),o=t(7);function a(s,l,u){n(s)?i(s,l,u):o(s,l,u)}r.exports=a}),(function(r,e,t){"use strict";function n(i){return i===void 0}r.exports=n}),(function(r,e,t){"use strict";var n=t(22),i=t(2),o=t(6),a=t(7),s=t(37),l=0,u={getLength:function(c){var f=0;return a(c,function(){f+=1}),f},map:function(c,f,d){var p=[];return i(c,function(){p.push(f.apply(d||null,arguments))}),p},filter:function(c,f,d){var p=[];return o(c,function(h){f.apply(d||null,arguments)&&p.push(h)}),p},generateId:function(){return l+=1,l},isOldBrowser:(function(){return n.msie&&n.version<9})(),sendHostName:function(){s("color-picker","UA-129987462-1")}};r.exports=u}),(function(r,e,t){"use strict";var n=t(1);function i(o,a,s){var l,u;if(s=s||0,!n(a))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(a,o,s);for(u=a.length,l=s;s>=0&&l<u;l+=1)if(a[l]===o)return l;return-1}r.exports=i}),(function(r,e,t){"use strict";function n(i,o,a){var s=0,l=i.length;for(a=a||null;s<l&&o.call(a,i[s],s,i)!==!1;s+=1);}r.exports=n}),(function(r,e,t){"use strict";function n(i,o,a){var s;a=a||null;for(s in i)if(i.hasOwnProperty(s)&&o.call(a,i[s],s,i)===!1)break}r.exports=n}),(function(r,e,t){"use strict";var n=t(39),i=t(13),o=t(41),a=t(3),s=t(9),l=t(19),u=t(4);function c(f,d){var p=u.generateId();f=f||{},a(d)&&(d=s.appendHTMLElement("div")),n(d,"tui-view-"+p),this.id=p,this.container=d,this.childs=new l(function(h){return h.id}),this.parent=null}c.prototype.addChild=function(f,d){d&&d.call(f,this),f.parent=this,this.childs.add(f)},c.prototype.removeChild=function(f,d){var p=o(f)?this.childs.items[f]:f;d&&d.call(p,this),this.childs.remove(p.id)},c.prototype.render=function(){this.childs.each(function(f){f.render()})},c.prototype.recursive=function(f,d){i(f)&&(d||f(this),this.childs.each(function(p){p.recursive(f)}))},c.prototype.resize=function(){for(var f=Array.prototype.slice.call(arguments),d=this.parent;d;)i(d._onResize)&&d._onResize.apply(d,f),d=d.parent},c.prototype._beforeDestroy=function(){},c.prototype._destroy=function(){this._beforeDestroy(),this.container.innerHTML="",this.id=this.parent=this.childs=this.container=null},c.prototype.destroy=function(f){this.childs&&(this.childs.each(function(d){d.destroy(!0),d._destroy()}),this.childs.clear()),!f&&this._destroy()},c.prototype.getViewBound=function(){var f=this.container.getBoundingClientRect();return{x:f.left,y:f.top,width:f.right-f.left,height:f.bottom-f.top}},r.exports=c}),(function(r,e,t){"use strict";var n={appendHTMLElement:function(i,o,a){var s=document.createElement(i);return s.className=a||"",o?o.appendChild(s):document.body.appendChild(s),s}};r.exports=n}),(function(r,e,t){"use strict";var n=t(0),i=t(20),o=t(11),a=t(21),s=t(1),l=t(13),u=t(2),c=/\s+/g;function f(){this.events=null,this.contexts=null}f.mixin=function(d){n(d.prototype,f.prototype)},f.prototype._getHandlerItem=function(d,p){var h={handler:d};return p&&(h.context=p),h},f.prototype._safeEvent=function(d){var p=this.events,h;return p||(p=this.events={}),d&&(h=p[d],h||(h=[],p[d]=h),p=h),p},f.prototype._safeContext=function(){var d=this.contexts;return d||(d=this.contexts=[]),d},f.prototype._indexOfContext=function(d){for(var p=this._safeContext(),h=0;p[h];){if(d===p[h][0])return h;h+=1}return-1},f.prototype._memorizeContext=function(d){var p,h;i(d)&&(p=this._safeContext(),h=this._indexOfContext(d),h>-1?p[h][1]+=1:p.push([d,1]))},f.prototype._forgetContext=function(d){var p,h;i(d)&&(p=this._safeContext(),h=this._indexOfContext(d),h>-1&&(p[h][1]-=1,p[h][1]<=0&&p.splice(h,1)))},f.prototype._bindEvent=function(d,p,h){var v=this._safeEvent(d);this._memorizeContext(h),v.push(this._getHandlerItem(p,h))},f.prototype.on=function(d,p,h){var v=this;o(d)?(d=d.split(c),u(d,function(m){v._bindEvent(m,p,h)})):a(d)&&(h=p,u(d,function(m,g){v.on(g,m,h)}))},f.prototype.once=function(d,p,h){var v=this;if(a(d)){h=p,u(d,function(g,w){v.once(w,g,h)});return}function m(){p.apply(h,arguments),v.off(d,m,h)}this.on(d,m,h)},f.prototype._spliceMatches=function(d,p){var h=0,v;if(s(d))for(v=d.length;h<v;h+=1)p(d[h])===!0&&(d.splice(h,1),v-=1,h-=1)},f.prototype._matchHandler=function(d){var p=this;return function(h){var v=d===h.handler;return v&&p._forgetContext(h.context),v}},f.prototype._matchContext=function(d){var p=this;return function(h){var v=d===h.context;return v&&p._forgetContext(h.context),v}},f.prototype._matchHandlerAndContext=function(d,p){var h=this;return function(v){var m=d===v.handler,g=p===v.context,w=m&&g;return w&&h._forgetContext(v.context),w}},f.prototype._offByEventName=function(d,p){var h=this,v=l(p),m=h._matchHandler(p);d=d.split(c),u(d,function(g){var w=h._safeEvent(g);v?h._spliceMatches(w,m):(u(w,function(y){h._forgetContext(y.context)}),h.events[g]=[])})},f.prototype._offByHandler=function(d){var p=this,h=this._matchHandler(d);u(this._safeEvent(),function(v){p._spliceMatches(v,h)})},f.prototype._offByObject=function(d,p){var h=this,v;this._indexOfContext(d)<0?u(d,function(m,g){h.off(g,m)}):o(p)?(v=this._matchContext(d),h._spliceMatches(this._safeEvent(p),v)):l(p)?(v=this._matchHandlerAndContext(p,d),u(this._safeEvent(),function(m){h._spliceMatches(m,v)})):(v=this._matchContext(d),u(this._safeEvent(),function(m){h._spliceMatches(m,v)}))},f.prototype.off=function(d,p){o(d)?this._offByEventName(d,p):arguments.length?l(d)?this._offByHandler(d):a(d)&&this._offByObject(d,p):(this.events={},this.contexts=[])},f.prototype.fire=function(d){this.invoke.apply(this,arguments)},f.prototype.invoke=function(d){var p,h,v,m;if(!this.hasListener(d))return!0;for(p=this._safeEvent(d),h=Array.prototype.slice.call(arguments,1),v=0;p[v];){if(m=p[v],m.handler.apply(m.context,h)===!1)return!1;v+=1}return!0},f.prototype.hasListener=function(d){return this.getListenerLength(d)>0},f.prototype.getListenerLength=function(d){var p=this._safeEvent(d);return p.length},r.exports=f}),(function(r,e,t){"use strict";function n(i){return typeof i=="string"||i instanceof String}r.exports=n}),(function(r,e,t){"use strict";var n=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,i={leadingZero:function(o,a){var s="",l=0;if((o+"").length>a)return o+"";for(;l<a-1;l+=1)s+="0";return(s+o).slice(a*-1)},isValidRGB:function(o){return n.test(o)},hexToRGB:function(o){var a,s,l;return i.isValidRGB(o)?(o=o.substring(1),a=parseInt(o.substr(0,2),16),s=parseInt(o.substr(2,2),16),l=parseInt(o.substr(4,2),16),[a,s,l]):!1},rgbToHEX:function(o,a,s){var l="#"+i.leadingZero(o.toString(16),2)+i.leadingZero(a.toString(16),2)+i.leadingZero(s.toString(16),2);return i.isValidRGB(l)?l:!1},rgbToHSV:function(o,a,s){var l,u,c,f,d,p;if(o/=255,a/=255,s/=255,l=Math.max(o,a,s),u=Math.min(o,a,s),d=l,p=l-u,f=l===0?0:p/l,l===u)c=0;else{switch(l){case o:c=(a-s)/p+(a<s?6:0);break;case a:c=(s-o)/p+2;break;case s:c=(o-a)/p+4;break}c/=6}return[Math.round(c*360),Math.round(f*100),Math.round(d*100)]},hsvToRGB:function(o,a,s){var l,u,c,f,d,p,h,v;if(o=Math.max(0,Math.min(360,o)),a=Math.max(0,Math.min(100,a)),s=Math.max(0,Math.min(100,s)),a/=100,s/=100,a===0)return l=u=c=s,[Math.round(l*255),Math.round(u*255),Math.round(c*255)];switch(o/=60,f=Math.floor(o),d=o-f,p=s*(1-a),h=s*(1-a*d),v=s*(1-a*(1-d)),f){case 0:l=s,u=v,c=p;break;case 1:l=h,u=s,c=p;break;case 2:l=p,u=s,c=v;break;case 3:l=p,u=h,c=s;break;case 4:l=v,u=p,c=s;break;default:l=s,u=p,c=h;break}return[Math.round(l*255),Math.round(u*255),Math.round(c*255)]}};r.exports=i}),(function(r,e,t){"use strict";function n(i){return i instanceof Function}r.exports=n}),(function(r,e,t){"use strict";var n=t(11),i=t(2),o=t(26);function a(u,c,f,d){if(n(c)){i(c.split(/\s+/g),function(p){s(u,p,f,d)});return}i(c,function(p,h){s(u,h,p,f)})}function s(u,c,f,d){function p(h){f.call(d||u,h||window.event)}"addEventListener"in u?u.addEventListener(c,p):"attachEvent"in u&&u.attachEvent("on"+c,p),l(u,c,f,p)}function l(u,c,f,d){var p=o(u,c),h=!1;i(p,function(v){return v.handler===f?(h=!0,!1):!0}),h||p.push({handler:f,wrappedHandler:d})}r.exports=a}),(function(r,e,t){"use strict";function n(i){if(i.preventDefault){i.preventDefault();return}i.returnValue=!1}r.exports=n}),(function(r,e,t){"use strict";function n(i){return i.replace(/([A-Z])/g,function(o){return"-"+o.toLowerCase()})}r.exports=n}),(function(r,e,t){"use strict";var n=t(11),i=t(2),o=t(26);function a(u,c,f){if(n(c)){i(c.split(/\s+/g),function(d){s(u,d,f)});return}i(c,function(d,p){s(u,p,d)})}function s(u,c,f){var d=o(u,c),p;f?(i(d,function(h,v){return f===h.handler?(l(u,c,h.wrappedHandler),p=v,!1):!0}),d.splice(p,1)):(i(d,function(h){l(u,c,h.wrappedHandler)}),d.splice(0,d.length))}function l(u,c,f){"removeEventListener"in u?u.removeEventListener(c,f):"detachEvent"in u&&u.detachEvent("on"+c,f)}r.exports=a}),(function(r,e,t){"use strict";var n=t(50);function i(o,a){var s=n(a.prototype);s.constructor=o,o.prototype=s}r.exports=i}),(function(r,e,t){"use strict";var n=t(6),i=t(7),o=t(0),a=t(1),s=t(20),l=t(13),u=t(21),c=t(4),f=Array.prototype.slice;function d(p){this.items={},this.length=0,l(p)&&(this.getItemID=p)}d.and=function(p){var h;return p=f.call(arguments),h=p.length,function(v){for(var m=0;m<h;m+=1)if(!p[m].call(null,v))return!1;return!0}},d.or=function(p){var h;return p=f.call(arguments),h=p.length,function(v){for(var m=1,g=p[0].call(null,v);m<h;m+=1)g=g||p[m].call(null,v);return g}},d.merge=function(p){var h={},v=new d(p.getItemID);return n(arguments,function(m){o(h,m.items)}),v.items=h,v.length=c.getLength(v.items),v},d.prototype.getItemID=function(p){return p._id+""},d.prototype.add=function(p){var h,v;if(arguments.length>1){n(f.call(arguments),function(m){this.add(m)},this);return}h=this.getItemID(p),v=this.items,v[h]||(this.length+=1),v[h]=p},d.prototype.remove=function(p){var h=[],v,m;return this.length?arguments.length>1?(h=c.map(f.call(arguments),function(g){return this.remove(g)},this),h):(v=this.items,u(p)&&(p=this.getItemID(p)),v[p]?(this.length-=1,m=v[p],delete v[p],m):h):h},d.prototype.clear=function(){this.items={},this.length=0},d.prototype.has=function(p){var h,v;return this.length?(h=l(p),v=!1,h?this.each(function(m){return p(m)===!0?(v=!0,!1):!0}):(p=u(p)?this.getItemID(p):p,v=s(this.items[p])),v):!1},d.prototype.doWhenHas=function(p,h,v){var m=this.items[p];s(m)&&h.call(v||this,m)},d.prototype.find=function(p){var h=new d;return this.hasOwnProperty("getItemID")&&(h.getItemID=this.getItemID),this.each(function(v){p(v)===!0&&h.add(v)}),h},d.prototype.groupBy=function(p,h){var v={},m=l(p),g=this.getItemID,w,y;if(a(p)){if(n(p,function(x){v[x+""]=new d(g)}),!h)return v;p=h,m=!0}return this.each(function(x){m?y=p(x):(y=x[p],l(y)&&(y=y.apply(x))),w=v[y],w||(w=v[y]=new d(g)),w.add(x)}),v},d.prototype.single=function(){var p;return this.each(function(h){return p=h,!1},this),p},d.prototype.sort=function(p){var h=[];return this.each(function(v){h.push(v)}),l(p)&&(h=h.sort(p)),h},d.prototype.each=function(p,h){i(this.items,p,h||this)},d.prototype.toArray=function(){return this.length?c.map(this.items,function(p){return p}):[]},r.exports=d}),(function(r,e,t){"use strict";var n=t(3),i=t(36);function o(a){return!n(a)&&!i(a)}r.exports=o}),(function(r,e,t){"use strict";function n(i){return i===Object(i)}r.exports=n}),(function(r,e,t){"use strict";var n={chrome:!1,firefox:!1,safari:!1,msie:!1,edge:!1,others:!1,version:0};typeof window<"u"&&window.navigator&&i();function i(){var o=window.navigator,a=o.appName.replace(/\s/g,"_"),s=o.userAgent,l=/MSIE\s([0-9]+[.0-9]*)/,u=/Trident.*rv:11\./,c=/Edge\/(\d+)\./,f={firefox:/Firefox\/(\d+)\./,chrome:/Chrome\/(\d+)\./,safari:/Version\/([\d.]+).*Safari\/(\d+)/},d,p,h={Microsoft_Internet_Explorer:function(){var m=s.match(l);m?(n.msie=!0,n.version=parseFloat(m[1])):n.others=!0},Netscape:function(){var m=!1;if(u.exec(s))n.msie=!0,n.version=11,m=!0;else if(c.exec(s))n.edge=!0,n.version=s.match(c)[1],m=!0;else for(d in f)if(f.hasOwnProperty(d)&&(p=s.match(f[d]),p&&p.length>1)){n[d]=m=!0,n.version=parseFloat(p[1]||0);break}m||(n.others=!0)}},v=h[a];v&&h[a]()}r.exports=n}),(function(r,e,t){"use strict";var n=t(3);function i(o){return!o||!o.className?"":n(o.className.baseVal)?o.className:o.className.baseVal}r.exports=i}),(function(r,e,t){"use strict";(function(n){var i=t(10),o=t(42),a=t(44),s=t(47),l=t(28),u=t(17),c=t(14),f=t(15),d=t(0);function p(h,v){c(v,"mousedown",this._onMouseDown,this),this.options=d({distance:10},h),this.container=v,this._isMoved=!1,this._distance=0,this._dragStartFired=!1,this._dragStartEventData=null}p.prototype.destroy=function(){u(this.container,"mousedown",this._onMouseDown),this.options=this.container=this._isMoved=this._distance=this._dragStartFired=this._dragStartEventData=null},p.prototype._toggleDragEvent=function(h){var v=this.container;h?(o(v),c(window,"dragstart",f),c(n.document,{mousemove:this._onMouseMove,mouseup:this._onMouseUp},this)):(a(v),u(window,"dragstart",f),u(n.document,{mousemove:this._onMouseMove,mouseup:this._onMouseUp}))},p.prototype._getEventData=function(h){return{target:l(h),originEvent:h}},p.prototype._onMouseDown=function(h){s(h)===0&&(this._distance=0,this._dragStartFired=!1,this._dragStartEventData=this._getEventData(h),this._toggleDragEvent(!0))},p.prototype._onMouseMove=function(h){var v=this.options.distance;if(f(h),this._isMoved=!0,this._distance<v){this._distance+=1;return}if(!this._dragStartFired&&(this._dragStartFired=!0,!this.invoke("dragStart",this._dragStartEventData))){this._toggleDragEvent(!1);return}this.fire("drag",this._getEventData(h))},p.prototype._onMouseUp=function(h){if(this._toggleDragEvent(!1),this._isMoved){this._isMoved=!1,this.fire("dragEnd",this._getEventData(h));return}this.fire("click",this._getEventData(h))},i.mixin(p),r.exports=p}).call(this,t(25))}),(function(r,e){var t;t=(function(){return this})();try{t=t||new Function("return this")()}catch{typeof window=="object"&&(t=window)}r.exports=t}),(function(r,e,t){"use strict";var n="_feEventKey";function i(o,a){var s=o[n],l;return s||(s=o[n]={}),l=s[a],l||(l=s[a]=[]),l}r.exports=i}),(function(r,e,t){"use strict";function n(i){var o=document.documentElement.style,a,s;for(a=0,s=i.length;a<s;a+=1)if(i[a]in o)return i[a];return!1}r.exports=n}),(function(r,e,t){"use strict";function n(i){return i.target||i.srcElement}r.exports=n}),(function(r,e,t){"use strict";var n=t(10),i=t(28),o=t(17),a=t(14),s=t(30),l=t(0),u=t(18),c=t(9),f=t(12),d=t(8),p=t(51);function h(v,m){this.options=l({cssPrefix:"tui-colorpicker-",preset:["#181818","#282828","#383838","#585858","#B8B8B8","#D8D8D8","#E8E8E8","#F8F8F8","#AB4642","#DC9656","#F7CA88","#A1B56C","#86C1B9","#7CAFC2","#BA8BAF","#A16946"],detailTxt:"Detail"},v),m=c.appendHTMLElement("div",m,this.options.cssPrefix+"palette-container"),d.call(this,v,m)}u(h,d),h.prototype._onClick=function(v){var m=this.options,g=i(v),w={};if(s(g,m.cssPrefix+"palette-button")){w.color=g.value,this.fire("_selectColor",w);return}s(g,m.cssPrefix+"palette-toggle-slider")&&this.fire("_toggleSlider")},h.prototype._onChange=function(v){var m=this.options,g=i(v),w={};s(g,m.cssPrefix+"palette-hex")&&(w.color=g.value,this.fire("_selectColor",w))},h.prototype._beforeDestroy=function(){this._toggleEvent(!1)},h.prototype._toggleEvent=function(v){var m=this.options,g=this.container,w=v?a:o,y;w(g,"click",this._onClick,this),y=g.querySelector("."+m.cssPrefix+"palette-hex",g),y&&w(y,"change",this._onChange,this)},h.prototype.render=function(v){var m=this.options,g="";this._toggleEvent(!1),g=p({cssPrefix:m.cssPrefix,preset:m.preset,detailTxt:m.detailTxt,color:v,isValidRGB:f.isValidRGB,getItemClass:function(w){return w?"":" "+m.cssPrefix+"color-transparent"},isSelected:function(w){return w===v?" "+m.cssPrefix+"selected":""}}),this.container.innerHTML=g,this._toggleEvent(!0)},n.mixin(h),r.exports=h}),(function(r,e,t){"use strict";var n=t(5),i=t(23);function o(a,s){var l;return a.classList?a.classList.contains(s):(l=i(a).split(/\s+/),n(s,l)>-1)}r.exports=o}),(function(r,e,t){"use strict";var n=t(10),i=t(53),o=t(54),a=t(30),s=t(0),l=t(18),u=t(9),c=t(32),f=t(12),d=t(8),p=t(24),h=t(57),v=-7,m=112,g=-3,w=115,y=359.99;function x(b,E){E=u.appendHTMLElement("div",E,b.cssPrefix+"slider-container"),E.style.display="none",d.call(this,b,E),this.options=s({color:"#f8f8f8",cssPrefix:"tui-colorpicker-"},b),this._dragDataCache={},this.sliderHandleElement=null,this.huebarHandleElement=null,this.baseColorElement=null,this.drag=new p({distance:0},E),this.colorSliderPosLimitRange=[v,m],this.huebarPosLimitRange=[g,w],this.drag.on({dragStart:this._onDragStart,drag:this._onDrag,dragEnd:this._onDragEnd,click:this._onClick},this)}l(x,d),x.prototype._beforeDestroy=function(){this.drag.off(),this.drag=this.options=this._dragDataCache=this.sliderHandleElement=this.huebarHandleElement=this.baseColorElement=null},x.prototype.toggle=function(b){this.container.style.display=b?"block":"none"},x.prototype.isVisible=function(){return this.container.style.display==="block"},x.prototype.render=function(b){var E=this.container,T=this.options,S=h.layout,A,q;f.isValidRGB(b)&&(S=S.replace(/{{slider}}/,h.slider),S=S.replace(/{{huebar}}/,h.huebar),S=S.replace(/{{cssPrefix}}/g,T.cssPrefix),S=S.replace(/{{id}}/g,T.id),this.container.innerHTML=S,this.sliderSvgElement=E.querySelector("."+T.cssPrefix+"svg-slider"),this.huebarSvgElement=E.querySelector("."+T.cssPrefix+"svg-huebar"),this.sliderHandleElement=E.querySelector("."+T.cssPrefix+"slider-handle"),this.huebarHandleElement=E.querySelector("."+T.cssPrefix+"huebar-handle"),this.baseColorElement=E.querySelector("."+T.cssPrefix+"slider-basecolor"),A=f.hexToRGB(b),q=f.rgbToHSV.apply(null,A),this.moveHue(q[0],!0),this.moveSaturationAndValue(q[1],q[2],!0))},x.prototype._setColorSliderPosMax=function(){var b=this.sliderSvgElement.getClientRects()[0];b&&(this.colorSliderPosLimitRange[1]=b.height-10)},x.prototype._moveColorSliderHandle=function(b,E,T){var S=this.sliderHandleElement,A;E=Math.max(this.colorSliderPosLimitRange[0],E),E=Math.min(this.colorSliderPosLimitRange[1],E),b=Math.max(this.colorSliderPosLimitRange[0],b),b=Math.min(this.colorSliderPosLimitRange[1],b),c.setTranslateXY(S,b,E),A=E>50?"white":"black",c.setStrokeColor(S,A),T||this.fire("_selectColor",{color:f.rgbToHEX.apply(null,this.getRGB())})},x.prototype.moveSaturationAndValue=function(b,E,T){var S,A,q,K;b=b||0,E=E||0,S=Math.abs(this.colorSliderPosLimitRange[0]),A=this.colorSliderPosLimitRange[1],q=b*A/100-S,K=A-E*A/100-S,this._moveColorSliderHandle(q,K,T)},x.prototype._moveColorSliderByPosition=function(b,E){var T=this.colorSliderPosLimitRange[0];this._moveColorSliderHandle(b+T,E+T)},x.prototype.getSaturationAndValue=function(){var b=Math.abs(this.colorSliderPosLimitRange[0]),E=b+this.colorSliderPosLimitRange[1],T=c.getTranslateXY(this.sliderHandleElement),S,A;return S=(T[1]+b)/E*100,A=100-(T[0]+b)/E*100,[S,A]},x.prototype._setHueBarPosMax=function(){var b=this.huebarSvgElement.getClientRects()[0];b&&(this.huebarPosLimitRange[1]=b.height-7)},x.prototype._moveHueHandle=function(b,E){var T=this.huebarHandleElement,S=this.baseColorElement,A,q;b=Math.max(this.huebarPosLimitRange[0],b),b=Math.min(this.huebarPosLimitRange[1],b),c.setTranslateY(T,b),A=f.hsvToRGB(this.getHue(),100,100),q=f.rgbToHEX.apply(null,A),c.setGradientColorStop(S,q),E||this.fire("_selectColor",{color:f.rgbToHEX.apply(null,this.getRGB())})},x.prototype.moveHue=function(b,E){var T=0,S,A;S=Math.abs(this.huebarPosLimitRange[0]),A=S+this.huebarPosLimitRange[1],b=b||0,T=A*b/y-S,this._moveHueHandle(T,E)},x.prototype._moveHueByPosition=function(b){var E=this.huebarPosLimitRange[0];this._moveHueHandle(b+E)},x.prototype.getHue=function(){var b=this.huebarHandleElement,E=c.getTranslateXY(b),T,S;return T=Math.abs(this.huebarPosLimitRange[0]),S=T+this.huebarPosLimitRange[1],(E[0]+T)*y/S},x.prototype.getHSV=function(){var b=this.getSaturationAndValue(),E=this.getHue();return[E].concat(b)},x.prototype.getRGB=function(){return f.hsvToRGB.apply(null,this.getHSV())},x.prototype._prepareColorSliderForMouseEvent=function(b){var E=this.options,T=o(b.target,"."+E.cssPrefix+"slider-part"),S;return S=this._dragDataCache={isColorSlider:a(T,E.cssPrefix+"slider-left"),parentElement:T},S},x.prototype._onClick=function(b){var E=this._prepareColorSliderForMouseEvent(b),T=i(b.originEvent,E.parentElement);E.isColorSlider?this._moveColorSliderByPosition(T[0],T[1]):this._moveHueByPosition(T[1]),this._dragDataCache=null},x.prototype._onDragStart=function(b){this._setColorSliderPosMax(),this._setHueBarPosMax(),this._prepareColorSliderForMouseEvent(b)},x.prototype._onDrag=function(b){var E=this._dragDataCache,T=i(b.originEvent,E.parentElement);E.isColorSlider?this._moveColorSliderByPosition(T[0],T[1]):this._moveHueByPosition(T[1])},x.prototype._onDragEnd=function(){this._dragDataCache=null},n.mixin(x),r.exports=x}),(function(r,e,t){"use strict";var n=t(4).isOldBrowser,i=/[\.\-0-9]+/g,o=-6,a={getTranslateXY:function(s){var l;return n?(l=s.style,[parseFloat(l.top),parseFloat(l.left)]):(l=s.getAttribute("transform"),l?(l=l.match(i),[parseFloat(l[1]),parseFloat(l[0])]):[0,0])},setTranslateXY:function(s,l,u){n?(s.style.left=l+"px",s.style.top=u+"px"):s.setAttribute("transform","translate("+l+","+u+")")},setTranslateY:function(s,l){n?s.style.top=l+"px":s.setAttribute("transform","translate("+o+","+l+")")},setStrokeColor:function(s,l){n?s.strokecolor=l:s.setAttribute("stroke",l)},setGradientColorStop:function(s,l){n?s.color=l:s.setAttribute("stop-color",l)}};r.exports=a}),(function(r,e,t){t(34),r.exports=t(35)}),(function(r,e,t){}),(function(r,e,t){"use strict";var n=t(19),i=t(8),o=t(24),a=t(48),s=t(29),l=t(31),u=t(12),c=t(32),f={Collection:n,View:i,Drag:o,create:a,Palette:s,Slider:l,colorutil:u,svgvml:c};r.exports=f}),(function(r,e,t){"use strict";function n(i){return i===null}r.exports=n}),(function(r,e,t){"use strict";var n=t(3),i=t(38),o=10080*60*1e3;function a(l){var u=new Date().getTime();return u-l>o}function s(l,u){var c="https://www.google-analytics.com/collect",f=location.hostname,d="event",p="use",h="TOAST UI "+l+" for "+f+": Statistics",v=window.localStorage.getItem(h);!n(window.tui)&&window.tui.usageStatistics===!1||v&&!a(v)||(window.localStorage.setItem(h,new Date().getTime()),setTimeout(function(){(document.readyState==="interactive"||document.readyState==="complete")&&i(c,{v:1,t:d,tid:u,cid:f,dp:f,dh:l,el:l,ec:p})},1e3))}r.exports=s}),(function(r,e,t){"use strict";var n=t(7);function i(o,a){var s=document.createElement("img"),l="";return n(a,function(u,c){l+="&"+c+"="+u}),l=l.substring(1),s.src=o+"?"+l,s.style.display="none",document.body.appendChild(s),document.body.removeChild(s),s}r.exports=i}),(function(r,e,t){"use strict";var n=t(2),i=t(5),o=t(23),a=t(40);function s(l){var u=Array.prototype.slice.call(arguments,1),c=l.classList,f=[],d;if(c){n(u,function(p){l.classList.add(p)});return}d=o(l),d&&(u=[].concat(d.split(/\s+/),u)),n(u,function(p){i(p,f)<0&&f.push(p)}),a(l,f)}r.exports=s}),(function(r,e,t){"use strict";var n=t(1),i=t(3);function o(a,s){if(s=n(s)?s.join(" "):s,s=s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),i(a.className.baseVal)){a.className=s;return}a.className.baseVal=s}r.exports=o}),(function(r,e,t){"use strict";function n(i){return typeof i=="number"||i instanceof Number}r.exports=n}),(function(r,e,t){"use strict";var n=t(14),i=t(15),o=t(43),a=t(27),s="onselectstart"in document,l="prevUserSelect",u=a(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);function c(f){f||(f=document),s?n(f,"selectstart",i):(f=f===document?document.documentElement:f,o(f,l,f.style[u]),f.style[u]="none")}r.exports=c}),(function(r,e,t){"use strict";var n=t(16);function i(o,a,s){if(o.dataset){o.dataset[a]=s;return}o.setAttribute("data-"+n(a),s)}r.exports=i}),(function(r,e,t){"use strict";var n=t(17),i=t(15),o=t(45),a=t(46),s=t(27),l="onselectstart"in document,u="prevUserSelect",c=s(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);function f(d){d||(d=document),l?n(d,"selectstart",i):(d=d===document?document.documentElement:d,d.style[c]=o(d,u)||"auto",a(d,u))}r.exports=f}),(function(r,e,t){"use strict";var n=t(16);function i(o,a){return o.dataset?o.dataset[a]:o.getAttribute("data-"+n(a))}r.exports=i}),(function(r,e,t){"use strict";var n=t(16);function i(o,a){if(o.dataset){delete o.dataset[a];return}o.removeAttribute("data-"+n(a))}r.exports=i}),(function(r,e,t){"use strict";var n=t(22),i=t(5),o=["0","1","3","5","7"],a=["2","6"],s=["4"];function l(c){return n.msie&&n.version<=8?u(c):c.button}function u(c){var f=String(c.button);return i(f,o)>-1?0:i(f,a)>-1?2:i(f,s)>-1?1:null}r.exports=l}),(function(r,e,t){"use strict";var n=t(10),i=t(0),o=t(4),a=t(12),s=t(49),l=t(29),u=t(31),c=0;function f(){return c+=1,c}function d(p){var h;if(!(this instanceof d))return new d(p);if(p=this.options=i({container:null,color:"#f8f8f8",preset:["#181818","#282828","#383838","#585858","#b8b8b8","#d8d8d8","#e8e8e8","#f8f8f8","#ab4642","#dc9656","#f7ca88","#a1b56c","#86c1b9","#7cafc2","#ba8baf","#a16946"],cssPrefix:"tui-colorpicker-",detailTxt:"Detail",id:f(),usageStatistics:!0},p),!p.container)throw new Error("ColorPicker(): need container option.");h=this.layout=new s(p,p.container),this.palette=new l(p,h.container),this.palette.on({_selectColor:this._onSelectColorInPalette,_toggleSlider:this._onToggleSlider},this),this.slider=new u(p,h.container),this.slider.on("_selectColor",this._onSelectColorInSlider,this),h.addChild(this.palette),h.addChild(this.slider),this.render(p.color),p.usageStatistics&&o.sendHostName()}d.prototype._onSelectColorInPalette=function(p){var h=p.color,v=this.options;if(!a.isValidRGB(h)&&h!==""){this.render();return}this.fire("selectColor",{color:h,origin:"palette"}),v.color!==h&&(v.color=h,this.render(h))},d.prototype._onToggleSlider=function(){this.slider.toggle(!this.slider.isVisible())},d.prototype._onSelectColorInSlider=function(p){var h=p.color,v=this.options;this.fire("selectColor",{color:h,origin:"slider"}),v.color!==h&&(v.color=h,this.palette.render(h))},d.prototype.setColor=function(p){if(!a.isValidRGB(p))throw new Error("ColorPicker#setColor(): need valid hex string color value");this.options.color=p,this.render(p)},d.prototype.getColor=function(){return this.options.color},d.prototype.toggle=function(p){this.layout.container.style.display=p?"block":"none"},d.prototype.render=function(p){this.layout.render(p||this.options.color)},d.prototype.destroy=function(){this.layout.destroy(),this.options.container.innerHTML="",this.layout=this.slider=this.palette=this.options=null},n.mixin(d),r.exports=d}),(function(r,e,t){"use strict";var n=t(0),i=t(18),o=t(9),a=t(8);function s(l,u){this.options=n({cssPrefix:"tui-colorpicker-"},l),u=o.appendHTMLElement("div",u,this.options.cssPrefix+"container"),a.call(this,l,u),this.render()}i(s,a),s.prototype.render=function(l){this.recursive(function(u){u.render(l)},!0)},r.exports=s}),(function(r,e,t){"use strict";function n(i){function o(){}return o.prototype=i,new o}r.exports=n}),(function(r,e,t){"use strict";var n=t(52);r.exports=function(i){var o=['<li><input class="{{cssPrefix}}palette-button{{isSelected @this}}{{getItemClass @this}}" type="button"',"{{if isValidRGB @this}}",' style="background-color:{{@this}};color:{{@this}}"',"{{/if}}",' title="{{@this}}" value="{{@this}}" /></li>'].join(""),a=['<ul class="{{cssPrefix}}clearfix">',"{{each preset}}",o,"{{/each}}","</ul>",'<div class="{{cssPrefix}}clearfix" style="overflow:hidden">','<input type="button" class="{{cssPrefix}}palette-toggle-slider" value="{{detailTxt}}" />','<input type="text" class="{{cssPrefix}}palette-hex" value="{{color}}" maxlength="7" />','<span class="{{cssPrefix}}palette-preview" style="background-color:{{color}};color:{{color}}">{{color}}</span>',"</div>"].join(`
`);return n(a,i)}}),(function(r,e,t){"use strict";var n=t(5),i=t(2),o=t(1),a=t(11),s=t(0),l=/{{\s?|\s?}}/g,u=/^[a-zA-Z0-9_@]+\[[a-zA-Z0-9_@"']+\]$/,c=/\[\s?|\s?\]/,f=/^[a-zA-Z_]+\.[a-zA-Z_]+$/,d=/\./,p=/^["']\w+["']$/,h=/"|'/g,v=/^-?\d+\.?\d*$/,m=2,g={if:E,each:T,with:S},w="a".split(/a/).length===3,y=(function(){return w?function(I,P){return I.split(P)}:function(I,P){var B=[],F=0,_,W;for(P.global||(P=new RegExp(P,"g")),_=P.exec(I);_!==null;)W=_.index,B.push(I.slice(F,W)),F=W+_[0].length,_=P.exec(I);return B.push(I.slice(F)),B}})();function x(I,P){var B,F=P[I];return I==="true"?F=!0:I==="false"?F=!1:p.test(I)?F=I.replace(h,""):u.test(I)?(B=I.split(c),F=x(B[0],P)[x(B[1],P)]):f.test(I)?(B=I.split(d),F=x(B[0],P)[B[1]]):v.test(I)&&(F=parseFloat(I)),F}function b(I,P){var B=[I],F=[],_=0,W=0;return i(P,function(Q,Y){Q.indexOf("if")===0?_+=1:Q==="/if"?_-=1:!_&&(Q.indexOf("elseif")===0||Q==="else")&&(B.push(Q==="else"?["true"]:Q.split(" ").slice(1)),F.push(P.slice(W,Y)),W=Y+1)}),F.push(P.slice(W)),{exps:B,sourcesInsideIf:F}}function E(I,P,B){var F=b(I,P),_=!1,W="";return i(F.exps,function(Q,Y){return _=K(Q,B),_&&(W=$e(F.sourcesInsideIf[Y],B)),!_}),W}function T(I,P,B){var F=K(I,B),_=o(F)?"@index":"@key",W={},Q="";return i(F,function(Y,ze){W[_]=ze,W["@this"]=Y,s(B,W),Q+=$e(P.slice(),B)}),Q}function S(I,P,B){var F=n("as",I),_=I[F+1],W=K(I.slice(0,F),B),Q={};return Q[_]=W,$e(P,s(B,Q))||""}function A(I,P,B){var F=I.splice(P+1,B-P);return F.pop(),F}function q(I,P,B){for(var F=g[I],_=1,W=0,Q,Y=W+m,ze=P[Y];_&&a(ze);)ze.indexOf(I)===0?_+=1:ze.indexOf("/"+I)===0&&(_-=1,Q=Y),Y+=m,ze=P[Y];if(_)throw Error(I+" needs {{/"+I+"}} expression.");return P[W]=F(P[W].split(" ").slice(1),A(P,W,Q),B),P}function K(I,P){var B=x(I[0],P);return B instanceof Function?ue(B,I.slice(1),P):B}function ue(I,P,B){var F=[];return i(P,function(_){F.push(x(_,B))}),I.apply(null,F)}function $e(I,P){for(var B=1,F=I[B],_,W,Q;a(F);)_=F.split(" "),W=_[0],g[W]?(Q=q(W,I.splice(B,I.length-B),P),I=I.concat(Q)):I[B]=K(_,P),B+=m,F=I[B];return I.join("")}function he(I,P){return $e(y(I,l),P)}r.exports=he}),(function(r,e,t){"use strict";var n=t(1);function i(o,a){var s=n(o),l=s?o[0]:o.clientX,u=s?o[1]:o.clientY,c;return a?(c=a.getBoundingClientRect(),[l-c.left-a.clientLeft,u-c.top-a.clientTop]):[l,u]}r.exports=i}),(function(r,e,t){"use strict";var n=t(55);function i(o,a){var s=o.parentNode;if(n(o,a))return o;for(;s&&s!==document;){if(n(s,a))return s;s=s.parentNode}return null}r.exports=i}),(function(r,e,t){"use strict";var n=t(5),i=t(56),o=Element.prototype,a=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||function(l){var u=this.document||this.ownerDocument;return n(this,i(u.querySelectorAll(l)))>-1};function s(l,u){return a.call(l,u)}r.exports=s}),(function(r,e,t){"use strict";var n=t(6);function i(o){var a;try{a=Array.prototype.slice.call(o)}catch{a=[],n(o,function(l){a.push(l)})}return a}r.exports=i}),(function(r,e,t){"use strict";(function(n){var i=t(4).isOldBrowser,o=['<div class="{{cssPrefix}}slider-left {{cssPrefix}}slider-part">{{slider}}</div>','<div class="{{cssPrefix}}slider-right {{cssPrefix}}slider-part">{{huebar}}</div>'].join(`
`),a=['<svg class="{{cssPrefix}}svg {{cssPrefix}}svg-slider">',"<defs>",'<linearGradient id="{{cssPrefix}}svg-fill-color-{{id}}" x1="0%" y1="0%" x2="100%" y2="0%">','<stop offset="0%" stop-color="rgb(255,255,255)" />','<stop class="{{cssPrefix}}slider-basecolor" offset="100%" stop-color="rgb(255,0,0)" />',"</linearGradient>",'<linearGradient id="{{cssPrefix}}svn-fill-black-{{id}}" x1="0%" y1="0%" x2="0%" y2="100%">','<stop offset="0%" style="stop-color:rgb(0,0,0);stop-opacity:0" />','<stop offset="100%" style="stop-color:rgb(0,0,0);stop-opacity:1" />',"</linearGradient>","</defs>",'<rect width="100%" height="100%" fill="url(#{{cssPrefix}}svg-fill-color-{{id}})"></rect>','<rect width="100%" height="100%" fill="url(#{{cssPrefix}}svn-fill-black-{{id}})"></rect>','<path transform="translate(0,0)" class="{{cssPrefix}}slider-handle" d="M0 7.5 L15 7.5 M7.5 15 L7.5 0 M2 7 a5.5 5.5 0 1 1 0 1 Z" stroke="black" stroke-width="0.75" fill="none" />',"</svg>"].join(`
`),s=['<div class="{{cssPrefix}}vml-slider">','<v:rect strokecolor="none" class="{{cssPrefix}}vml {{cssPrefix}}vml-slider-bg">','<v:fill class="{{cssPrefix}}vml {{cssPrefix}}slider-basecolor" type="gradient" method="none" color="#ff0000" color2="#fff" angle="90" />',"</v:rect>",'<v:rect strokecolor="#ccc" class="{{cssPrefix}}vml {{cssPrefix}}vml-slider-bg">','<v:fill type="gradient" method="none" color="black" color2="white" o:opacity2="0%" class="{{cssPrefix}}vml" />',"</v:rect>",'<v:shape class="{{cssPrefix}}vml {{cssPrefix}}slider-handle" coordsize="1 1" style="width:1px;height:1px;"path="m 0,7 l 14,7 m 7,14 l 7,0 ar 12,12 2,2 z" filled="false" stroked="true" />',"</div>"].join(`
`),l=['<svg class="{{cssPrefix}}svg {{cssPrefix}}svg-huebar">',"<defs>",'<linearGradient id="g-{{id}}" x1="0%" y1="0%" x2="0%" y2="100%">','<stop offset="0%" stop-color="rgb(255,0,0)" />','<stop offset="16.666%" stop-color="rgb(255,255,0)" />','<stop offset="33.333%" stop-color="rgb(0,255,0)" />','<stop offset="50%" stop-color="rgb(0,255,255)" />','<stop offset="66.666%" stop-color="rgb(0,0,255)" />','<stop offset="83.333%" stop-color="rgb(255,0,255)" />','<stop offset="100%" stop-color="rgb(255,0,0)" />',"</linearGradient>","</defs>",'<rect width="18px" height="100%" fill="url(#g-{{id}})"></rect>','<path transform="translate(-6,-3)" class="{{cssPrefix}}huebar-handle" d="M0 0 L4 4 L0 8 L0 0 Z" fill="black" stroke="none" />',"</svg>"].join(`
`),u=['<div class="{{cssPrefix}}vml-huebar">','<v:rect strokecolor="#ccc" class="{{cssPrefix}}vml {{cssPrefix}}vml-huebar-bg">','<v:fill type="gradient" method="none" colors="0% rgb(255,0,0), 16.666% rgb(255,255,0), 33.333% rgb(0,255,0), 50% rgb(0,255,255), 66.666% rgb(0,0,255), 83.333% rgb(255,0,255), 100% rgb(255,0,0)" angle="180" class="{{cssPrefix}}vml" />',"</v:rect>",'<v:shape class="{{cssPrefix}}vml {{cssPrefix}}huebar-handle" coordsize="1 1" style="width:1px;height:1px;position:absolute;z-index:1;right:22px;top:-3px;"path="m 0,0 l 4,4 l 0,8 l 0,0 z" filled="true" fillcolor="black" stroked="false" />',"</div>"].join(`
`);i&&n.document.namespaces.add("v","urn:schemas-microsoft-com:vml"),r.exports={layout:o,slider:i?s:a,huebar:i?u:l}}).call(this,t(25))})])})});var Iv=Zl(($o,Rl)=>{(function(e,t){typeof $o=="object"&&typeof Rl=="object"?Rl.exports=t(Il()):typeof define=="function"&&define.amd?define(["tui-color-picker"],t):typeof $o=="object"?$o.toastui=t(Il()):(e.toastui=e.toastui||{},e.toastui.Editor=e.toastui.Editor||{},e.toastui.Editor.plugin=e.toastui.Editor.plugin||{},e.toastui.Editor.plugin.uml=t(e.tui.colorPicker))})(self,function(r){return(function(){"use strict";var e={858:(function(o){o.exports=r})},t={};function n(o){var a=t[o];if(a!==void 0)return a.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,n),s.exports}(function(){n.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return n.d(a,{a}),a}})(),(function(){n.d=function(o,a){for(var s in a)n.o(a,s)&&!n.o(o,s)&&Object.defineProperty(o,s,{enumerable:!0,get:a[s]})}})(),(function(){n.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)}})();var i={};return(function(){n.d(i,{default:function(){return w}});var o=n(858),a=n.n(o);function s(y){y.setLanguage("ar",{"Text color":"\u0644\u0648\u0646 \u0627\u0644\u0646\u0635"}),y.setLanguage(["cs","cs-CZ"],{"Text color":"Barva textu"}),y.setLanguage(["de","de-DE"],{"Text color":"Textfarbe"}),y.setLanguage(["en","en-US"],{"Text color":"Text color"}),y.setLanguage(["es","es-ES"],{"Text color":"Color del texto"}),y.setLanguage(["fi","fi-FI"],{"Text color":"Tekstin v\xE4ri"}),y.setLanguage(["fr","fr-FR"],{"Text color":"Couleur du texte"}),y.setLanguage(["gl","gl-ES"],{"Text color":"Cor do texto"}),y.setLanguage(["hr","hr-HR"],{"Text color":"Boja teksta"}),y.setLanguage(["it","it-IT"],{"Text color":"Colore del testo"}),y.setLanguage(["ja","ja-JP"],{"Text color":"\u6587\u5B57\u8272\u76F8"}),y.setLanguage(["ko","ko-KR"],{"Text color":"\uAE00\uC790 \uC0C9\uC0C1"}),y.setLanguage(["nb","nb-NO"],{"Text color":"Tekstfarge"}),y.setLanguage(["nl","nl-NL"],{"Text color":"Tekstkleur"}),y.setLanguage(["pl","pl-PL"],{"Text color":"Kolor tekstu"}),y.setLanguage(["pt","pt-BR"],{"Text color":"Cor do texto"}),y.setLanguage(["ru","ru-RU"],{"Text color":"\u0426\u0432\u0435\u0442 \u0442\u0435\u043A\u0441\u0442\u0430"}),y.setLanguage(["sv","sv-SE"],{"Text color":"Textf\xE4rg"}),y.setLanguage(["tr","tr-TR"],{"Text color":"Metin rengi"}),y.setLanguage(["uk","uk-UA"],{"Text color":"\u041A\u043E\u043B\u0456\u0440 \u0442\u0435\u043A\u0441\u0442\u0443"}),y.setLanguage("zh-CN",{"Text color":"\u6587\u5B57\u989C\u8272"}),y.setLanguage("zh-TW",{"Text color":"\u6587\u5B57\u984F\u8272"})}function l(y,x){return y.classList.contains(x)}function u(y,x){for(var b=y;b&&!l(b,x);)b=b.parentElement;return b}function c(y){var x=/<img class="ProseMirror-separator" alt="">/g,b=/ class="ProseMirror-trailingBreak"/g,E=y;return E=E.replace(x,""),E=E.replace(b,""),E}var f="toastui-editor-";function d(y){var x=document.createElement("button");return x.setAttribute("type","button"),x.textContent=y,x}function p(y,x){return{name:"color",tooltip:x.get("Text color"),className:f+"toolbar-icons color",popup:{className:f+"popup-color",body:y,style:{width:"auto"}}}}function h(y,x,b,E,T){var S=y.mapping,A=y.doc,q=x.from,K=x.to,ue=x.empty,$e=S.map(q)+E.length,he=S.map(K)-T.length;return ue?b.create(A,he,he):b.create(A,$e,he)}function v(y,x){var b=u(y,f+"defaultUI");return b.querySelector("."+x+" .ProseMirror")}var m,g;function w(y,x){x===void 0&&(x={});var b=y.eventEmitter,E=y.i18n,T=y.usageStatistics,S=T===void 0?!0:T,A=y.pmState,q=x.preset,K=document.createElement("div"),ue={container:K,usageStatistics:S};s(E),q&&(ue.preset=q);var $e=a().create(ue),he=d(E.get("OK"));b.listen("focus",function(P){m=""+f+(P==="markdown"?"md":"ww")+"-container"}),K.addEventListener("click",function(P){if(P.target.getAttribute("type")==="button"){var B=$e.getColor();g=v(K,m),b.emit("command","color",{selectedColor:B}),b.emit("closePopup"),g.focus()}}),$e.slider.toggle(!0),K.appendChild(he);var I=p(K,E);return{markdownCommands:{color:function(P,B,F){var _=P.selectedColor,W=B.tr,Q=B.selection,Y=B.schema;if(_){var ze=Q.content(),oe=ze.content.textBetween(0,ze.content.size,`
`),er='<span style="color: '+_+'">',Ht="</span>",bn=""+er+oe+Ht;return W.replaceSelectionWith(Y.text(bn)).setSelection(h(W,Q,A.TextSelection,er,Ht)),F(W),!0}return!1}},wysiwygCommands:{color:function(P,B,F){var _=P.selectedColor,W=B.tr,Q=B.selection,Y=B.schema;if(_){var ze=Q.from,oe=Q.to,er={htmlAttrs:{style:"color: "+_}},Ht=Y.marks.span.create(er);return W.addMark(ze,oe,Ht),F(W),!0}return!1}},toolbarItems:[{groupIndex:0,itemIndex:3,item:I}],toHTMLRenderers:{htmlInline:{span:function(P,B){var F=B.entering;return F?{type:"openTag",tagName:"span",attributes:P.attrs}:{type:"closeTag",tagName:"span"}}}}}}})(),i=i.default,i})()})});function Le(r){this.content=r}Le.prototype={constructor:Le,find:function(r){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===r)return e;return-1},get:function(r){var e=this.find(r);return e==-1?void 0:this.content[e+1]},update:function(r,e,t){var n=t&&t!=r?this.remove(t):this,i=n.find(r),o=n.content.slice();return i==-1?o.push(t||r,e):(o[i+1]=e,t&&(o[i]=t)),new Le(o)},remove:function(r){var e=this.find(r);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new Le(t)},addToStart:function(r,e){return new Le([r,e].concat(this.remove(r).content))},addToEnd:function(r,e){var t=this.remove(r).content.slice();return t.push(r,e),new Le(t)},addBefore:function(r,e,t){var n=this.remove(e),i=n.content.slice(),o=n.find(r);return i.splice(o==-1?i.length:o,0,e,t),new Le(i)},forEach:function(r){for(var e=0;e<this.content.length;e+=2)r(this.content[e],this.content[e+1])},prepend:function(r){return r=Le.from(r),r.size?new Le(r.content.concat(this.subtract(r).content)):this},append:function(r){return r=Le.from(r),r.size?new Le(this.subtract(r).content.concat(r.content)):this},subtract:function(r){var e=this;r=Le.from(r);for(var t=0;t<r.content.length;t+=2)e=e.remove(r.content[t]);return e},toObject:function(){var r={};return this.forEach(function(e,t){r[e]=t}),r},get size(){return this.content.length>>1}};Le.from=function(r){if(r instanceof Le)return r;var e=[];if(r)for(var t in r)e.push(t,r[t]);return new Le(e)};var Xo=Le;function uu(r,e,t){for(let n=0;;n++){if(n==r.childCount||n==e.childCount)return r.childCount==e.childCount?null:t;let i=r.child(n),o=e.child(n);if(i==o){t+=i.nodeSize;continue}if(!i.sameMarkup(o))return t;if(i.isText&&i.text!=o.text){for(let a=0;i.text[a]==o.text[a];a++)t++;return t}if(i.content.size||o.content.size){let a=uu(i.content,o.content,t+1);if(a!=null)return a}t+=i.nodeSize}}function cu(r,e,t,n){for(let i=r.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:t,b:n};let a=r.child(--i),s=e.child(--o),l=a.nodeSize;if(a==s){t-=l,n-=l;continue}if(!a.sameMarkup(s))return{a:t,b:n};if(a.isText&&a.text!=s.text){let u=0,c=Math.min(a.text.length,s.text.length);for(;u<c&&a.text[a.text.length-u-1]==s.text[s.text.length-u-1];)u++,t--,n--;return{a:t,b:n}}if(a.content.size||s.content.size){let u=cu(a.content,s.content,t-1,n-1);if(u)return u}t-=l,n-=l}}var M=class r{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,t,n,i=0,o){for(let a=0,s=0;s<t;a++){let l=this.content[a],u=s+l.nodeSize;if(u>e&&n(l,i+s,o||null,a)!==!1&&l.content.size){let c=s+1;l.nodesBetween(Math.max(0,e-c),Math.min(l.content.size,t-c),n,i+c)}s=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,i){let o="",a=!0;return this.nodesBetween(e,t,(s,l)=>{let u=s.isText?s.text.slice(Math.max(e,l)-l,t-l):s.isLeaf?i?typeof i=="function"?i(s):i:s.type.spec.leafText?s.type.spec.leafText(s):"":"";s.isBlock&&(s.isLeaf&&u||s.isTextblock)&&n&&(a?a=!1:o+=n),o+=u},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,i=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(n)&&(i[i.length-1]=t.withText(t.text+n.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new r(i,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let n=[],i=0;if(t>e)for(let o=0,a=0;a<t;o++){let s=this.content[o],l=a+s.nodeSize;l>e&&((a<e||l>t)&&(s.isText?s=s.cut(Math.max(0,e-a),Math.min(s.text.length,t-a)):s=s.cut(Math.max(0,e-a-1),Math.min(s.content.size,t-a-1))),n.push(s),i+=s.nodeSize),a=l}return new r(n,i)}cutByIndex(e,t){return e==t?r.empty:e==0&&t==this.content.length?this:new r(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let i=this.content.slice(),o=this.size+t.nodeSize-n.nodeSize;return i[e]=t,new r(i,o)}addToStart(e){return new r([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new r(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let i=this.content[t];e(i,n,t),n+=i.nodeSize}}findDiffStart(e,t=0){return uu(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return cu(this,e,t,n)}findIndex(e){if(e==0)return si(0,e);if(e==this.size)return si(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let t=0,n=0;;t++){let i=this.child(t),o=n+i.nodeSize;if(o>=e)return o==e?si(t+1,o):si(t,n);n=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return r.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new r(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return r.empty;let t,n=0;for(let i=0;i<e.length;i++){let o=e[i];n+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(t||(t=e.slice(0,i)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new r(t||e,n)}static from(e){if(!e)return r.empty;if(e instanceof r)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new r([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}};M.empty=new M([],0);var Yo={index:0,offset:0};function si(r,e){return Yo.index=r,Yo.offset=e,Yo}function ui(r,e){if(r===e)return!0;if(!(r&&typeof r=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(r);if(Array.isArray(e)!=t)return!1;if(t){if(r.length!=e.length)return!1;for(let n=0;n<r.length;n++)if(!ui(r[n],e[n]))return!1}else{for(let n in r)if(!(n in e)||!ui(r[n],e[n]))return!1;for(let n in e)if(!(n in r))return!1}return!0}var j=class r{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!n&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),n=!0),t&&t.push(o)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&ui(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError(`There is no mark type ${t.type} in this schema`);let i=n.create(t.attrs);return n.checkAttrs(i.attrs),i}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return r.none;if(e instanceof r)return[e];let t=e.slice();return t.sort((n,i)=>n.type.rank-i.type.rank),t}};j.none=[];var nr=class extends Error{},L=class r{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=du(this.content,e+this.openStart,t);return n&&new r(n,this.openStart,this.openEnd)}removeBetween(e,t){return new r(fu(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return r.empty;let n=t.openStart||0,i=t.openEnd||0;if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new r(M.fromJSON(e,t.content),n,i)}static maxOpen(e,t=!0){let n=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)n++;for(let o=e.lastChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.lastChild)i++;return new r(e,n,i)}};L.empty=new L(M.empty,0,0);function fu(r,e,t){let{index:n,offset:i}=r.findIndex(e),o=r.maybeChild(n),{index:a,offset:s}=r.findIndex(t);if(i==e||o.isText){if(s!=t&&!r.child(a).isText)throw new RangeError("Removing non-flat range");return r.cut(0,e).append(r.cut(t))}if(n!=a)throw new RangeError("Removing non-flat range");return r.replaceChild(n,o.copy(fu(o.content,e-i-1,t-i-1)))}function du(r,e,t,n){let{index:i,offset:o}=r.findIndex(e),a=r.maybeChild(i);if(o==e||a.isText)return n&&!n.canReplace(i,i,t)?null:r.cut(0,e).append(t).append(r.cut(e));let s=du(a.content,e-o-1,t,a);return s&&r.replaceChild(i,a.copy(s))}function Jv(r,e,t){if(t.openStart>r.depth)throw new nr("Inserted content deeper than insertion position");if(r.depth-t.openStart!=e.depth-t.openEnd)throw new nr("Inconsistent open depths");return pu(r,e,t,0)}function pu(r,e,t,n){let i=r.index(n),o=r.node(n);if(i==e.index(n)&&n<r.depth-t.openStart){let a=pu(r,e,t,n+1);return o.copy(o.content.replaceChild(i,a))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&r.depth==n&&e.depth==n){let a=r.parent,s=a.content;return rr(a,s.cut(0,r.parentOffset).append(t.content).append(s.cut(e.parentOffset)))}else{let{start:a,end:s}=Xv(t,r);return rr(o,vu(r,a,s,e,n))}else return rr(o,ci(r,e,n))}function hu(r,e){if(!e.type.compatibleContent(r.type))throw new nr("Cannot join "+e.type.name+" onto "+r.type.name)}function Zo(r,e,t){let n=r.node(t);return hu(n,e.node(t)),n}function tr(r,e){let t=e.length-1;t>=0&&r.isText&&r.sameMarkup(e[t])?e[t]=r.withText(e[t].text+r.text):e.push(r)}function kn(r,e,t,n){let i=(e||r).node(t),o=0,a=e?e.index(t):i.childCount;r&&(o=r.index(t),r.depth>t?o++:r.textOffset&&(tr(r.nodeAfter,n),o++));for(let s=o;s<a;s++)tr(i.child(s),n);e&&e.depth==t&&e.textOffset&&tr(e.nodeBefore,n)}function rr(r,e){return r.type.checkContent(e),r.copy(e)}function vu(r,e,t,n,i){let o=r.depth>i&&Zo(r,e,i+1),a=n.depth>i&&Zo(t,n,i+1),s=[];return kn(null,r,i,s),o&&a&&e.index(i)==t.index(i)?(hu(o,a),tr(rr(o,vu(r,e,t,n,i+1)),s)):(o&&tr(rr(o,ci(r,e,i+1)),s),kn(e,t,i,s),a&&tr(rr(a,ci(t,n,i+1)),s)),kn(n,null,i,s),new M(s)}function ci(r,e,t){let n=[];if(kn(null,r,t,n),r.depth>t){let i=Zo(r,e,t+1);tr(rr(i,ci(r,e,t+1)),n)}return kn(e,null,t,n),new M(n)}function Xv(r,e){let t=e.depth-r.openStart,i=e.node(t).copy(r.content);for(let o=t-1;o>=0;o--)i=e.node(o).copy(M.from(i));return{start:i.resolveNoCache(r.openStart+t),end:i.resolveNoCache(i.content.size-r.openEnd-t)}}var fi=class r{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],i=e.child(t);return n?e.child(t).cut(n):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[t*3],i=t==0?0:this.path[t*3-1]+1;for(let o=0;o<e;o++)i+=n.child(o).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return j.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),i=e.maybeChild(t);if(!n){let s=n;n=i,i=s}let o=n.marks;for(var a=0;a<o.length;a++)o[a].type.spec.inclusive===!1&&(!i||!o[a].isInSet(i.marks))&&(o=o[a--].removeFromSet(o));return o}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<n.length;o++)n[o].type.spec.inclusive===!1&&(!i||!n[o].isInSet(i.marks))&&(n=n[o--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new ir(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],i=0,o=t;for(let a=e;;){let{index:s,offset:l}=a.content.findIndex(o),u=o-l;if(n.push(a,s,i+l),!u||(a=a.child(s),a.isText))break;o=u-1,i+=l+1}return new r(t,n,o)}static resolveCached(e,t){let n=eu.get(e);if(n)for(let o=0;o<n.elts.length;o++){let a=n.elts[o];if(a.pos==t)return a}else eu.set(e,n=new ea);let i=n.elts[n.i]=r.resolve(e,t);return n.i=(n.i+1)%Yv,i}},ea=class{constructor(){this.elts=[],this.i=0}},Yv=12,eu=new WeakMap,ir=class{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}},Qv=Object.create(null),Ge=class r{constructor(e,t,n,i=j.none){this.type=e,this.attrs=t,this.marks=i,this.content=n||M.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,i=0){this.content.nodesBetween(e,t,n,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,i){return this.content.textBetween(e,t,n,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&ui(this.attrs,t||e.defaultAttrs||Qv)&&j.sameSet(this.marks,n||j.none)}copy(e=null){return e==this.content?this:new r(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new r(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){if(e==t)return L.empty;let i=this.resolve(e),o=this.resolve(t),a=n?0:i.sharedDepth(t),s=i.start(a),u=i.node(a).content.cut(i.pos-s,o.pos-s);return new L(u,i.depth-a,o.depth-a)}replace(e,t,n){return Jv(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let i=this.content.child(t-1);return{node:i,index:t-1,offset:n-i.nodeSize}}resolve(e){return fi.resolveCached(this,e)}resolveNoCache(e){return fi.resolve(this,e)}rangeHasMark(e,t,n){let i=!1;return t>e&&this.nodesBetween(e,t,o=>(n.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),mu(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,n=M.empty,i=0,o=n.childCount){let a=this.contentMatchAt(e).matchFragment(n,i,o),s=a&&a.matchFragment(this.content,t);if(!s||!s.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0}canReplaceWith(e,t,n,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(n),a=o&&o.matchFragment(this.content,t);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=j.none;for(let t=0;t<this.marks.length;t++){let n=this.marks[t];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!j.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let i=M.fromJSON(e,t.content),o=e.nodeType(t.type).create(t.attrs,i,n);return o.type.checkAttrs(o.attrs),o}};Ge.prototype.text=void 0;var ta=class r extends Ge{constructor(e,t,n,i){if(super(e,t,null,i),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):mu(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new r(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new r(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}};function mu(r,e){for(let t=r.length-1;t>=0;t--)e=r[t].type.name+"("+e+")";return e}var or=class r{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new ra(e,t);if(n.next==null)return r.empty;let i=gu(n);n.next&&n.err("Unexpected trailing text");let o=om(im(i));return am(o,n),o}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,n=e.childCount){let i=this;for(let o=t;i&&o<n;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e,t=!1,n=0){let i=[this];function o(a,s){let l=a.matchFragment(e,n);if(l&&(!t||l.validEnd))return M.from(s.map(u=>u.createAndFill()));for(let u=0;u<a.next.length;u++){let{type:c,next:f}=a.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let d=o(f,s.concat(c));if(d)return d}}return null}return o(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let i=n.shift(),o=i.match;if(o.matchType(e)){let a=[];for(let s=i;s.type;s=s.via)a.push(s.type);return a.reverse()}for(let a=0;a<o.next.length;a++){let{type:s,next:l}=o.next[a];!s.isLeaf&&!s.hasRequiredAttrs()&&!(s.name in t)&&(!i.type||l.validEnd)&&(n.push({match:s.contentMatch,type:s,via:i}),t[s.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(n){e.push(n);for(let i=0;i<n.next.length;i++)e.indexOf(n.next[i].next)==-1&&t(n.next[i].next)}return t(this),e.map((n,i)=>{let o=i+(n.validEnd?"*":" ")+" ";for(let a=0;a<n.next.length;a++)o+=(a?", ":"")+n.next[a].type.name+"->"+e.indexOf(n.next[a].next);return o}).join(`
`)}};or.empty=new or(!0);var ra=class{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}};function gu(r){let e=[];do e.push(Zv(r));while(r.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Zv(r){let e=[];do e.push(em(r));while(r.next&&r.next!=")"&&r.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function em(r){let e=nm(r);for(;;)if(r.eat("+"))e={type:"plus",expr:e};else if(r.eat("*"))e={type:"star",expr:e};else if(r.eat("?"))e={type:"opt",expr:e};else if(r.eat("{"))e=tm(r,e);else break;return e}function tu(r){/\D/.test(r.next)&&r.err("Expected number, got '"+r.next+"'");let e=Number(r.next);return r.pos++,e}function tm(r,e){let t=tu(r),n=t;return r.eat(",")&&(r.next!="}"?n=tu(r):n=-1),r.eat("}")||r.err("Unclosed braced range"),{type:"range",min:t,max:n,expr:e}}function rm(r,e){let t=r.nodeTypes,n=t[e];if(n)return[n];let i=[];for(let o in t){let a=t[o];a.isInGroup(e)&&i.push(a)}return i.length==0&&r.err("No node type or group '"+e+"' found"),i}function nm(r){if(r.eat("(")){let e=gu(r);return r.eat(")")||r.err("Missing closing paren"),e}else if(/\W/.test(r.next))r.err("Unexpected token '"+r.next+"'");else{let e=rm(r,r.next).map(t=>(r.inline==null?r.inline=t.isInline:r.inline!=t.isInline&&r.err("Mixing inline and block content"),{type:"name",value:t}));return r.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function im(r){let e=[[]];return i(o(r,0),t()),e;function t(){return e.push([])-1}function n(a,s,l){let u={term:l,to:s};return e[a].push(u),u}function i(a,s){a.forEach(l=>l.to=s)}function o(a,s){if(a.type=="choice")return a.exprs.reduce((l,u)=>l.concat(o(u,s)),[]);if(a.type=="seq")for(let l=0;;l++){let u=o(a.exprs[l],s);if(l==a.exprs.length-1)return u;i(u,s=t())}else if(a.type=="star"){let l=t();return n(s,l),i(o(a.expr,l),l),[n(l)]}else if(a.type=="plus"){let l=t();return i(o(a.expr,s),l),i(o(a.expr,l),l),[n(l)]}else{if(a.type=="opt")return[n(s)].concat(o(a.expr,s));if(a.type=="range"){let l=s;for(let u=0;u<a.min;u++){let c=t();i(o(a.expr,l),c),l=c}if(a.max==-1)i(o(a.expr,l),l);else for(let u=a.min;u<a.max;u++){let c=t();n(l,c),i(o(a.expr,l),c),l=c}return[n(l)]}else{if(a.type=="name")return[n(s,void 0,a.value)];throw new Error("Unknown expr type")}}}}function yu(r,e){return e-r}function ru(r,e){let t=[];return n(e),t.sort(yu);function n(i){let o=r[i];if(o.length==1&&!o[0].term)return n(o[0].to);t.push(i);for(let a=0;a<o.length;a++){let{term:s,to:l}=o[a];!s&&t.indexOf(l)==-1&&n(l)}}}function om(r){let e=Object.create(null);return t(ru(r,0));function t(n){let i=[];n.forEach(a=>{r[a].forEach(({term:s,to:l})=>{if(!s)return;let u;for(let c=0;c<i.length;c++)i[c][0]==s&&(u=i[c][1]);ru(r,l).forEach(c=>{u||i.push([s,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let o=e[n.join(",")]=new or(n.indexOf(r.length-1)>-1);for(let a=0;a<i.length;a++){let s=i[a][1].sort(yu);o.next.push({type:i[a][0],next:e[s.join(",")]||t(s)})}return o}}function am(r,e){for(let t=0,n=[r];t<n.length;t++){let i=n[t],o=!i.validEnd,a=[];for(let s=0;s<i.next.length;s++){let{type:l,next:u}=i.next[s];a.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),n.indexOf(u)==-1&&n.push(u)}o&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function bu(r){let e=Object.create(null);for(let t in r){let n=r[t];if(!n.hasDefault)return null;e[t]=n.default}return e}function wu(r,e){let t=Object.create(null);for(let n in r){let i=e&&e[n];if(i===void 0){let o=r[n];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+n)}t[n]=i}return t}function Cu(r,e,t,n){for(let i in e)if(!(i in r))throw new RangeError(`Unsupported attribute ${i} for ${t} of type ${i}`);for(let i in r){let o=r[i];o.validate&&o.validate(e[i])}}function xu(r,e){let t=Object.create(null);if(e)for(let n in e)t[n]=new na(r,n,e[n]);return t}var di=class r{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=xu(e,n.attrs),this.defaultAttrs=bu(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==or.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:wu(this.attrs,e)}create(e=null,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ge(this,this.computeAttrs(e),M.from(t),j.setFrom(n))}createChecked(e=null,t,n){return t=M.from(t),this.checkContent(t),new Ge(this,this.computeAttrs(e),t,j.setFrom(n))}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),t=M.from(t),t.size){let a=this.contentMatch.fillBefore(t);if(!a)return null;t=a.append(t)}let i=this.contentMatch.matchFragment(t),o=i&&i.fillBefore(M.empty,!0);return o?new Ge(this,e,t.append(o),j.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){Cu(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:j.none:e}static compile(e,t){let n=Object.create(null);e.forEach((o,a)=>n[o]=new r(o,t,a));let i=t.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function sm(r,e,t){let n=t.split("|");return i=>{let o=i===null?"null":typeof i;if(n.indexOf(o)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${r}, got ${o}`)}}var na=class{constructor(e,t,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?sm(e,t,n.validate):n.validate}get isRequired(){return!this.hasDefault}},En=class r{constructor(e,t,n,i){this.name=e,this.rank=t,this.schema=n,this.spec=i,this.attrs=xu(e,i.attrs),this.excluded=null;let o=bu(this.attrs);this.instance=o?new j(this,o):null}create(e=null){return!e&&this.instance?this.instance:new j(this,wu(this.attrs,e))}static compile(e,t){let n=Object.create(null),i=0;return e.forEach((o,a)=>n[o]=new r(o,i++,t,a)),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){Cu(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}},Sn=class{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=Xo.from(e.nodes),t.marks=Xo.from(e.marks||{}),this.nodes=di.compile(this.spec.nodes,this),this.marks=En.compile(this.spec.marks,this);let n=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],a=o.spec.content||"",s=o.spec.marks;if(o.contentMatch=n[a]||(n[a]=or.parse(a,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=s=="_"?null:s?nu(this,s.split(" ")):s==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],a=o.spec.excludes;o.excluded=a==null?[o]:a==""?[]:nu(this,a.split(" "))}this.nodeFromJSON=i=>Ge.fromJSON(this,i),this.markFromJSON=i=>j.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof di){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,n,i)}text(e,t){let n=this.nodes.text;return new ta(n,n.defaultAttrs,e,j.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}};function nu(r,e){let t=[];for(let n=0;n<e.length;n++){let i=e[n],o=r.marks[i],a=o;if(o)t.push(o);else for(let s in r.marks){let l=r.marks[s];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&t.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return t}function lm(r){return r.tag!=null}function um(r){return r.style!=null}var $t=class r{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let n=this.matchedStyles=[];t.forEach(i=>{if(lm(i))this.tags.push(i);else if(um(i)){let o=/[^=]*/.exec(i.style)[0];n.indexOf(o)<0&&n.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=e.nodes[i.node];return o.contentMatch.matchType(o)})}parse(e,t={}){let n=new pi(this,t,!1);return n.addAll(e,j.none,t.from,t.to),n.finish()}parseSlice(e,t={}){let n=new pi(this,t,!0);return n.addAll(e,j.none,t.from,t.to),L.maxOpen(n.finish())}matchTag(e,t,n){for(let i=n?this.tags.indexOf(n)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(dm(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||t.matchesContext(o.context))){if(o.getAttrs){let a=o.getAttrs(e);if(a===!1)continue;o.attrs=a||void 0}return o}}}matchStyle(e,t,n,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let a=this.styles[o],s=a.style;if(!(s.indexOf(e)!=0||a.context&&!n.matchesContext(a.context)||s.length>e.length&&(s.charCodeAt(e.length)!=61||s.slice(e.length+1)!=t))){if(a.getAttrs){let l=a.getAttrs(t);if(l===!1)continue;a.attrs=l||void 0}return a}}}static schemaRules(e){let t=[];function n(i){let o=i.priority==null?50:i.priority,a=0;for(;a<t.length;a++){let s=t[a];if((s.priority==null?50:s.priority)<o)break}t.splice(a,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(a=>{n(a=ou(a)),a.mark||a.ignore||a.clearMark||(a.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(a=>{n(a=ou(a)),a.node||a.ignore||a.mark||(a.node=i)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new r(e,r.schemaRules(e)))}},ku={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},cm={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Tu={ol:!0,ul:!0},Mn=1,ia=2,Tn=4;function iu(r,e,t){return e!=null?(e?Mn:0)|(e==="full"?ia:0):r&&r.whitespace=="pre"?Mn|ia:t&~Tn}var $r=class{constructor(e,t,n,i,o,a){this.type=e,this.attrs=t,this.marks=n,this.solid=i,this.options=a,this.content=[],this.activeMarks=j.none,this.match=o||(a&Tn?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(M.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let n=this.type.contentMatch,i;return(i=n.findWrapping(e.type))?(this.match=n,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Mn)){let n=this.content[this.content.length-1],i;if(n&&n.isText&&(i=/[ \t\r\n\u000c]+$/.exec(n.text))){let o=n;n.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let t=M.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(M.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!ku.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}},pi=class{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let i=t.topNode,o,a=iu(null,t.preserveWhitespace,0)|(n?Tn:0);i?o=new $r(i.type,i.attrs,j.none,!0,t.topMatch||i.type.contentMatch,a):n?o=new $r(null,null,j.none,!0,null,a):o=new $r(e.schema.topNodeType,null,j.none,!0,null,a),this.nodes=[o],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let n=e.nodeValue,i=this.top,o=i.options&ia?"full":this.localPreserveWS||(i.options&Mn)>0,{schema:a}=this.parser;if(o==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(o)if(o==="full")n=n.replace(/\r\n?/g,`
`);else if(a.linebreakReplacement&&/[\r\n]/.test(n)&&this.top.findWrapping(a.linebreakReplacement.create())){let s=n.split(/\r?\n|\r/);for(let l=0;l<s.length;l++)l&&this.insertNode(a.linebreakReplacement.create(),t,!0),s[l]&&this.insertNode(a.text(s[l]),t,!/\S/.test(s[l]));n=""}else n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let s=i.content[i.content.length-1],l=e.previousSibling;(!s||l&&l.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(n=n.slice(1))}n&&this.insertNode(a.text(n),t,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,t,n){let i=this.localPreserveWS,o=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),s;Tu.hasOwnProperty(a)&&this.parser.normalizeLists&&fm(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(s=this.parser.matchTag(e,this,n));e:if(l?l.ignore:cm.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,t);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let u,c=this.needsBlock;if(ku.hasOwnProperty(a))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),u=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let f=l&&l.skip?t:this.readStyles(e,t);f&&this.addAll(e,f),u&&this.sync(o),this.needsBlock=c}else{let u=this.readStyles(e,t);u&&this.addElementByRule(e,l,u,l.consuming===!1?s:void 0)}this.localPreserveWS=i}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let n=e.style;if(n&&n.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],a=n.getPropertyValue(o);if(a)for(let s=void 0;;){let l=this.parser.matchStyle(o,a,this,s);if(!l)break;if(l.ignore)return null;if(l.clearMark?t=t.filter(u=>!l.clearMark(u)):t=t.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)s=l;else break}}return t}addElementByRule(e,t,n,i){let o,a;if(t.node)if(a=this.parser.schema.nodes[t.node],a.isLeaf)this.insertNode(a.create(t.attrs),n,e.nodeName=="BR")||this.leafFallback(e,n);else{let l=this.enter(a,t.attrs||null,n,t.preserveWhitespace);l&&(o=!0,n=l)}else{let l=this.parser.schema.marks[t.mark];n=n.concat(l.create(t.attrs))}let s=this.top;if(a&&a.isLeaf)this.findInside(e);else if(i)this.addElement(e,n,i);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,n,!1));else{let l=e;typeof t.contentElement=="string"?l=e.querySelector(t.contentElement):typeof t.contentElement=="function"?l=t.contentElement(e):t.contentElement&&(l=t.contentElement),this.findAround(e,l,!0),this.addAll(l,n),this.findAround(e,l,!1)}o&&this.sync(s)&&this.open--}addAll(e,t,n,i){let o=n||0;for(let a=n?e.childNodes[n]:e.firstChild,s=i==null?null:e.childNodes[i];a!=s;a=a.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(a,t);this.findAtPoint(e,o)}findPlace(e,t,n){let i,o;for(let a=this.open,s=0;a>=0;a--){let l=this.nodes[a],u=l.findWrapping(e);if(u&&(!i||i.length>u.length+s)&&(i=u,o=l,!u.length))break;if(l.solid){if(n)break;s+=2}}if(!i)return null;this.sync(o);for(let a=0;a<i.length;a++)t=this.enterInner(i[a],null,t,!1);return t}insertNode(e,t,n){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(t=this.enterInner(o,null,t))}let i=this.findPlace(e,t,n);if(i){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let a=j.none;for(let s of i.concat(e.marks))(o.type?o.type.allowsMarkType(s.type):au(s.type,e.type))&&(a=s.addToSet(a));return o.content.push(e.mark(a)),!0}return!1}enter(e,t,n,i){let o=this.findPlace(e.create(t),n,!1);return o&&(o=this.enterInner(e,t,n,!0,i)),o}enterInner(e,t,n,i=!1,o){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let s=iu(e,o,a.options);a.options&Tn&&a.content.length==0&&(s|=Tn);let l=j.none;return n=n.filter(u=>(a.type?a.type.allowsMarkType(u.type):au(u.type,e))?(l=u.addToSet(l),!1):!0),this.nodes.push(new $r(e,t,l,i,null,s)),this.open++,n}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=Mn)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let i=n.length-1;i>=0;i--)e+=n[i].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(n?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,i=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),o=-(n?n.depth+1:0)+(i?0:1),a=(s,l)=>{for(;s>=0;s--){let u=t[s];if(u==""){if(s==t.length-1||s==0)continue;for(;l>=o;l--)if(a(s-1,l))return!0;return!1}else{let c=l>0||l==0&&i?this.nodes[l].type:n&&l>=o?n.node(l-o).type:null;if(!c||c.name!=u&&!c.isInGroup(u))return!1;l--}}return!0};return a(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let t in this.parser.schema.nodes){let n=this.parser.schema.nodes[t];if(n.isTextblock&&n.defaultAttrs)return n}}};function fm(r){for(let e=r.firstChild,t=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&Tu.hasOwnProperty(n)&&t?(t.appendChild(e),e=t):n=="li"?t=e:n&&(t=null)}}function dm(r,e){return(r.matches||r.msMatchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector).call(r,e)}function ou(r){let e={};for(let t in r)e[t]=r[t];return e}function au(r,e){let t=e.schema.nodes;for(let n in t){let i=t[n];if(!i.allowsMarkType(r))continue;let o=[],a=s=>{o.push(s);for(let l=0;l<s.edgeCount;l++){let{type:u,next:c}=s.edge(l);if(u==e||o.indexOf(c)<0&&a(c))return!0}};if(a(i.contentMatch))return!0}}var ar=class r{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},n){n||(n=Qo(t).createDocumentFragment());let i=n,o=[];return e.forEach(a=>{if(o.length||a.marks.length){let s=0,l=0;for(;s<o.length&&l<a.marks.length;){let u=a.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(o[s][0])||u.type.spec.spanning===!1)break;s++,l++}for(;s<o.length;)i=o.pop()[1];for(;l<a.marks.length;){let u=a.marks[l++],c=this.serializeMark(u,a.isInline,t);c&&(o.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(a,t))}),n}serializeNodeInner(e,t){let{dom:n,contentDOM:i}=li(Qo(t),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return n}serializeNode(e,t={}){let n=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n}serializeMark(e,t,n={}){let i=this.marks[e.type.name];return i&&li(Qo(n),i(e,t),null,e.attrs)}static renderSpec(e,t,n=null,i){return li(e,t,n,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new r(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=su(e.nodes);return t.text||(t.text=n=>n.text),t}static marksFromSchema(e){return su(e.marks)}};function su(r){let e={};for(let t in r){let n=r[t].spec.toDOM;n&&(e[t]=n)}return e}function Qo(r){return r.document||window.document}var lu=new WeakMap;function pm(r){let e=lu.get(r);return e===void 0&&lu.set(r,e=hm(r)),e}function hm(r){let e=null;function t(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let i=0;i<n.length;i++)t(n[i]);else for(let i in n)t(n[i])}return t(r),e}function li(r,e,t,n){if(typeof e=="string")return{dom:r.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(o=pm(n))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=i.indexOf(" ");a>0&&(t=i.slice(0,a),i=i.slice(a+1));let s,l=t?r.createElementNS(t,i):r.createElement(i),u=e[1],c=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){c=2;for(let f in u)if(u[f]!=null){let d=f.indexOf(" ");d>0?l.setAttributeNS(f.slice(0,d),f.slice(d+1),u[f]):f=="style"&&l.style?l.style.cssText=u[f]:l.setAttribute(f,u[f])}}for(let f=c;f<e.length;f++){let d=e[f];if(d===0){if(f<e.length-1||f>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:p,contentDOM:h}=li(r,d,t,n);if(l.appendChild(p),h){if(s)throw new RangeError("Multiple content holes");s=h}}}return{dom:l,contentDOM:s}}var Mu=65535,Ou=Math.pow(2,16);function vm(r,e){return r+e*Ou}function Eu(r){return r&Mu}function mm(r){return(r-(r&Mu))/Ou}var Lu=1,Au=2,hi=4,Du=8,An=class{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(this.delInfo&Du)>0}get deletedBefore(){return(this.delInfo&(Lu|hi))>0}get deletedAfter(){return(this.delInfo&(Au|hi))>0}get deletedAcross(){return(this.delInfo&hi)>0}},tt=class r{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&r.empty)return r.empty}recover(e){let t=0,n=Eu(e);if(!this.inverted)for(let i=0;i<n;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[n*3]+t+mm(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let i=0,o=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?i:0);if(l>e)break;let u=this.ranges[s+o],c=this.ranges[s+a],f=l+u;if(e<=f){let d=u?e==l?-1:e==f?1:t:t,p=l+i+(d<0?0:c);if(n)return p;let h=e==(t<0?l:f)?null:vm(s/3,e-l),v=e==l?Au:e==f?Lu:hi;return(t<0?e!=l:e!=f)&&(v|=Du),new An(p,v,h)}i+=c-u}return n?e+i:new An(e+i,0,null)}touches(e,t){let n=0,i=Eu(t),o=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?n:0);if(l>e)break;let u=this.ranges[s+o],c=l+u;if(e<=c&&s==i*3)return!0;n+=this.ranges[s+a]-u}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let a=this.ranges[i],s=a-(this.inverted?o:0),l=a+(this.inverted?0:o),u=this.ranges[i+t],c=this.ranges[i+n];e(s,s+u,l,l+c),o+=c-u}}invert(){return new r(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?r.empty:new r(e<0?[0,-e,0]:[0,0,e])}};tt.empty=new tt([]);var Dn=class r{constructor(e,t,n=0,i=e?e.length:0){this.mirror=t,this.from=n,this.to=i,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new r(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,n=this._maps.length;t<e._maps.length;t++){let i=e.getMirror(t);this.appendMap(e._maps[t],i!=null&&i<t?n+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this._maps.length+e._maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e._maps[t].invert(),i!=null&&i>t?n-i-1:void 0)}}invert(){let e=new r;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let i=0;for(let o=this.from;o<this.to;o++){let a=this._maps[o],s=a.mapResult(e,t);if(s.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,e=this._maps[l].recover(s.recover);continue}}i|=s.delInfo,e=s.pos}return n?e:new An(e,i,null)}},oa=Object.create(null),ve=class{getMap(){return tt.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=oa[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in oa)throw new RangeError("Duplicate use of step JSON ID "+e);return oa[e]=t,t.prototype.jsonID=e,t}},be=class r{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new r(e,null)}static fail(e){return new r(null,e)}static fromReplace(e,t,n,i){try{return r.ok(e.replace(t,n,i))}catch(o){if(o instanceof nr)return r.fail(o.message);throw o}}};function ca(r,e,t){let n=[];for(let i=0;i<r.childCount;i++){let o=r.child(i);o.content.size&&(o=o.copy(ca(o.content,e,o))),o.isInline&&(o=e(o,t,i)),n.push(o)}return M.fromArray(n)}var Nn=class r extends ve{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),i=n.node(n.sharedDepth(this.to)),o=new L(ca(t.content,(a,s)=>!a.isAtom||!s.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),t.openStart,t.openEnd);return be.fromReplace(e,this.from,this.to,o)}invert(){return new sr(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new r(t.pos,n.pos,this.mark)}merge(e){return e instanceof r&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new r(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new r(t.from,t.to,e.markFromJSON(t.mark))}};ve.jsonID("addMark",Nn);var sr=class r extends ve{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new L(ca(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return be.fromReplace(e,this.from,this.to,n)}invert(){return new Nn(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new r(t.pos,n.pos,this.mark)}merge(e){return e instanceof r&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new r(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new r(t.from,t.to,e.markFromJSON(t.mark))}};ve.jsonID("removeMark",sr);var In=class r extends ve{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return be.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return be.fromReplace(e,this.pos,this.pos+1,new L(M.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let n=this.mark.addToSet(t.marks);if(n.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(n))return new r(this.pos,t.marks[i]);return new r(this.pos,this.mark)}}return new zr(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new r(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new r(t.pos,e.markFromJSON(t.mark))}};ve.jsonID("addNodeMark",In);var zr=class r extends ve{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return be.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return be.fromReplace(e,this.pos,this.pos+1,new L(M.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new In(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new r(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new r(t.pos,e.markFromJSON(t.mark))}};ve.jsonID("removeNodeMark",zr);var Ue=class r extends ve{constructor(e,t,n,i=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=i}apply(e){return this.structure&&la(e,this.from,this.to)?be.fail("Structure replace would overwrite content"):be.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new tt([this.from,this.to-this.from,this.slice.size])}invert(e){return new r(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new r(t.pos,Math.max(t.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof r)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?L.empty:new L(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new r(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?L.empty:new L(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new r(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new r(t.from,t.to,L.fromJSON(e,t.slice),!!t.structure)}};ve.jsonID("replace",Ue);var ce=class r extends ve{constructor(e,t,n,i,o,a,s=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=i,this.slice=o,this.insert=a,this.structure=s}apply(e){if(this.structure&&(la(e,this.from,this.gapFrom)||la(e,this.gapTo,this.to)))return be.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return be.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?be.fromReplace(e,this.from,this.to,n):be.fail("Content does not fit in gap")}getMap(){return new tt([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new r(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),i=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||i<t.pos||o>n.pos?null:new r(t.pos,n.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new r(t.from,t.to,t.gapFrom,t.gapTo,L.fromJSON(e,t.slice),t.insert,!!t.structure)}};ve.jsonID("replaceAround",ce);function la(r,e,t){let n=r.resolve(e),i=t-e,o=n.depth;for(;i>0&&o>0&&n.indexAfter(o)==n.node(o).childCount;)o--,i--;if(i>0){let a=n.node(o).maybeChild(n.indexAfter(o));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function gm(r,e,t,n){let i=[],o=[],a,s;r.doc.nodesBetween(e,t,(l,u,c)=>{if(!l.isInline)return;let f=l.marks;if(!n.isInSet(f)&&c.type.allowsMarkType(n.type)){let d=Math.max(u,e),p=Math.min(u+l.nodeSize,t),h=n.addToSet(f);for(let v=0;v<f.length;v++)f[v].isInSet(h)||(a&&a.to==d&&a.mark.eq(f[v])?a.to=p:i.push(a=new sr(d,p,f[v])));s&&s.to==d?s.to=p:o.push(s=new Nn(d,p,n))}}),i.forEach(l=>r.step(l)),o.forEach(l=>r.step(l))}function ym(r,e,t,n){let i=[],o=0;r.doc.nodesBetween(e,t,(a,s)=>{if(!a.isInline)return;o++;let l=null;if(n instanceof En){let u=a.marks,c;for(;c=n.isInSet(u);)(l||(l=[])).push(c),u=c.removeFromSet(u)}else n?n.isInSet(a.marks)&&(l=[n]):l=a.marks;if(l&&l.length){let u=Math.min(s+a.nodeSize,t);for(let c=0;c<l.length;c++){let f=l[c],d;for(let p=0;p<i.length;p++){let h=i[p];h.step==o-1&&f.eq(i[p].style)&&(d=h)}d?(d.to=u,d.step=o):i.push({style:f,from:Math.max(s,e),to:u,step:o})}}}),i.forEach(a=>r.step(new sr(a.from,a.to,a.style)))}function fa(r,e,t,n=t.contentMatch,i=!0){let o=r.doc.nodeAt(e),a=[],s=e+1;for(let l=0;l<o.childCount;l++){let u=o.child(l),c=s+u.nodeSize,f=n.matchType(u.type);if(!f)a.push(new Ue(s,c,L.empty));else{n=f;for(let d=0;d<u.marks.length;d++)t.allowsMarkType(u.marks[d].type)||r.step(new sr(s,c,u.marks[d]));if(i&&u.isText&&t.whitespace!="pre"){let d,p=/\r?\n|\r/g,h;for(;d=p.exec(u.text);)h||(h=new L(M.from(t.schema.text(" ",t.allowedMarks(u.marks))),0,0)),a.push(new Ue(s+d.index,s+d.index+d[0].length,h))}}s=c}if(!n.validEnd){let l=n.fillBefore(M.empty,!0);r.replace(s,s,new L(l,0,0))}for(let l=a.length-1;l>=0;l--)r.step(a[l])}function bm(r,e,t){return(e==0||r.canReplace(e,r.childCount))&&(t==r.childCount||r.canReplace(0,t))}function Vr(r){let t=r.parent.content.cutByIndex(r.startIndex,r.endIndex);for(let n=r.depth,i=0,o=0;;--n){let a=r.$from.node(n),s=r.$from.index(n)+i,l=r.$to.indexAfter(n)-o;if(n<r.depth&&a.canReplace(s,l,t))return n;if(n==0||a.type.spec.isolating||!bm(a,s,l))break;s&&(i=1),l<a.childCount&&(o=1)}return null}function wm(r,e,t){let{$from:n,$to:i,depth:o}=e,a=n.before(o+1),s=i.after(o+1),l=a,u=s,c=M.empty,f=0;for(let h=o,v=!1;h>t;h--)v||n.index(h)>0?(v=!0,c=M.from(n.node(h).copy(c)),f++):l--;let d=M.empty,p=0;for(let h=o,v=!1;h>t;h--)v||i.after(h+1)<i.end(h)?(v=!0,d=M.from(i.node(h).copy(d)),p++):u++;r.step(new ce(l,u,a,s,new L(c.append(d),f,p),c.size-f,!0))}function Nu(r,e,t=null,n=r){let i=Cm(r,e),o=i&&xm(n,e);return o?i.map(Su).concat({type:e,attrs:t}).concat(o.map(Su)):null}function Su(r){return{type:r,attrs:null}}function Cm(r,e){let{parent:t,startIndex:n,endIndex:i}=r,o=t.contentMatchAt(n).findWrapping(e);if(!o)return null;let a=o.length?o[0]:e;return t.canReplaceWith(n,i,a)?o:null}function xm(r,e){let{parent:t,startIndex:n,endIndex:i}=r,o=t.child(n),a=e.contentMatch.findWrapping(o.type);if(!a)return null;let l=(a.length?a[a.length-1]:e).contentMatch;for(let u=n;l&&u<i;u++)l=l.matchType(t.child(u).type);return!l||!l.validEnd?null:a}function km(r,e,t){let n=M.empty;for(let a=t.length-1;a>=0;a--){if(n.size){let s=t[a].type.contentMatch.matchFragment(n);if(!s||!s.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=M.from(t[a].type.create(t[a].attrs,n))}let i=e.start,o=e.end;r.step(new ce(i,o,i,o,new L(n,0,0),t.length,!0))}function Tm(r,e,t,n,i){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=r.steps.length;r.doc.nodesBetween(e,t,(a,s)=>{let l=typeof i=="function"?i(a):i;if(a.isTextblock&&!a.hasMarkup(n,l)&&Em(r.doc,r.mapping.slice(o).map(s),n)){let u=null;if(n.schema.linebreakReplacement){let p=n.whitespace=="pre",h=!!n.contentMatch.matchType(n.schema.linebreakReplacement);p&&!h?u=!1:!p&&h&&(u=!0)}u===!1&&Ru(r,a,s,o),fa(r,r.mapping.slice(o).map(s,1),n,void 0,u===null);let c=r.mapping.slice(o),f=c.map(s,1),d=c.map(s+a.nodeSize,1);return r.step(new ce(f,d,f+1,d-1,new L(M.from(n.create(l,null,a.marks)),0,0),1,!0)),u===!0&&Iu(r,a,s,o),!1}})}function Iu(r,e,t,n){e.forEach((i,o)=>{if(i.isText){let a,s=/\r?\n|\r/g;for(;a=s.exec(i.text);){let l=r.mapping.slice(n).map(t+1+o+a.index);r.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function Ru(r,e,t,n){e.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let a=r.mapping.slice(n).map(t+1+o);r.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function Em(r,e,t){let n=r.resolve(e),i=n.index();return n.parent.canReplaceWith(i,i+1,t)}function Sm(r,e,t,n,i){let o=r.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");t||(t=o.type);let a=t.create(n,null,i||o.marks);if(o.isLeaf)return r.replaceWith(e,e+o.nodeSize,a);if(!t.validContent(o.content))throw new RangeError("Invalid content for node type "+t.name);r.step(new ce(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new L(M.from(a),0,0),1,!0))}function zt(r,e,t=1,n){let i=r.resolve(e),o=i.depth-t,a=n&&n[n.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=t-2;u>o;u--,c--){let f=i.node(u),d=i.index(u);if(f.type.spec.isolating)return!1;let p=f.content.cutByIndex(d,f.childCount),h=n&&n[c+1];h&&(p=p.replaceChild(0,h.type.create(h.attrs)));let v=n&&n[c]||f;if(!f.canReplace(d+1,f.childCount)||!v.type.validContent(p))return!1}let s=i.indexAfter(o),l=n&&n[0];return i.node(o).canReplaceWith(s,s,l?l.type:i.node(o+1).type)}function Mm(r,e,t=1,n){let i=r.doc.resolve(e),o=M.empty,a=M.empty;for(let s=i.depth,l=i.depth-t,u=t-1;s>l;s--,u--){o=M.from(i.node(s).copy(o));let c=n&&n[u];a=M.from(c?c.type.create(c.attrs,a):i.node(s).copy(a))}r.step(new Ue(e,e,new L(o.append(a),t,t),!0))}function da(r,e){let t=r.resolve(e),n=t.index();return Lm(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(n,n+1)}function Om(r,e){e.content.size||r.type.compatibleContent(e.type);let t=r.contentMatchAt(r.childCount),{linebreakReplacement:n}=r.type.schema;for(let i=0;i<e.childCount;i++){let o=e.child(i),a=o.type==n?r.type.schema.nodes.text:o.type;if(t=t.matchType(a),!t||!r.type.allowsMarks(o.marks))return!1}return t.validEnd}function Lm(r,e){return!!(r&&e&&!r.isLeaf&&Om(r,e))}function Am(r,e,t){let n=null,{linebreakReplacement:i}=r.doc.type.schema,o=r.doc.resolve(e-t),a=o.node().type;if(i&&a.inlineContent){let c=a.whitespace=="pre",f=!!a.contentMatch.matchType(i);c&&!f?n=!1:!c&&f&&(n=!0)}let s=r.steps.length;if(n===!1){let c=r.doc.resolve(e+t);Ru(r,c.node(),c.before(),s)}a.inlineContent&&fa(r,e+t-1,a,o.node().contentMatchAt(o.index()),n==null);let l=r.mapping.slice(s),u=l.map(e-t);if(r.step(new Ue(u,l.map(e+t,-1),L.empty,!0)),n===!0){let c=r.doc.resolve(u);Iu(r,c.node(),c.before(),r.steps.length)}return r}function Dm(r,e,t){let n=r.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),t))return e;if(n.parentOffset==0)for(let i=n.depth-1;i>=0;i--){let o=n.index(i);if(n.node(i).canReplaceWith(o,o,t))return n.before(i+1);if(o>0)return null}if(n.parentOffset==n.parent.content.size)for(let i=n.depth-1;i>=0;i--){let o=n.indexAfter(i);if(n.node(i).canReplaceWith(o,o,t))return n.after(i+1);if(o<n.node(i).childCount)return null}return null}function Pu(r,e,t){let n=r.resolve(e);if(!t.content.size)return e;let i=t.content;for(let o=0;o<t.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(t.openStart==0&&t.size?2:1);o++)for(let a=n.depth;a>=0;a--){let s=a==n.depth?0:n.pos<=(n.start(a+1)+n.end(a+1))/2?-1:1,l=n.index(a)+(s>0?1:0),u=n.node(a),c=!1;if(o==1)c=u.canReplace(l,l,i);else{let f=u.contentMatchAt(l).findWrapping(i.firstChild.type);c=f&&u.canReplaceWith(l,l,f[0])}if(c)return s==0?n.pos:s<0?n.before(a+1):n.after(a+1)}return null}function yi(r,e,t=e,n=L.empty){if(e==t&&!n.size)return null;let i=r.resolve(e),o=r.resolve(t);return Bu(i,o,n)?new Ue(e,t,n):new ua(i,o,n).fit()}function Bu(r,e,t){return!t.openStart&&!t.openEnd&&r.start()==e.start()&&r.parent.canReplace(r.index(),e.index(),t.content)}var ua=class{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=M.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=M.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(e<0?this.$to:n.doc.resolve(e));if(!i)return null;let o=this.placed,a=n.depth,s=i.depth;for(;a&&s&&o.childCount==1;)o=o.firstChild.content,a--,s--;let l=new L(o,a,s);return e>-1?new ce(n.pos,e,this.$to.pos,this.$to.end(),l,t):l.size||n.pos!=this.$to.pos?new Ue(n.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,n=0,i=this.unplaced.openEnd;n<e;n++){let o=t.firstChild;if(t.childCount>1&&(i=0),o.type.spec.isolating&&i<=n){e=n;break}t=o.content}for(let t=1;t<=2;t++)for(let n=t==1?e:this.unplaced.openStart;n>=0;n--){let i,o=null;n?(o=aa(this.unplaced.content,n-1).firstChild,i=o.content):i=this.unplaced.content;let a=i.firstChild;for(let s=this.depth;s>=0;s--){let{type:l,match:u}=this.frontier[s],c,f=null;if(t==1&&(a?u.matchType(a.type)||(f=u.fillBefore(M.from(a),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:n,frontierDepth:s,parent:o,inject:f};if(t==2&&a&&(c=u.findWrapping(a.type)))return{sliceDepth:n,frontierDepth:s,parent:o,wrap:c};if(o&&u.matchType(o.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,i=aa(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new L(e,t+1,Math.max(n,i.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,i=aa(e,t);if(i.childCount<=1&&t>0){let o=e.size-t<=t+i.size;this.unplaced=new L(On(e,t-1,1),t-1,o?t-1:n)}else this.unplaced=new L(On(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:i,wrap:o}){for(;this.depth>t;)this.closeFrontierNode();if(o)for(let v=0;v<o.length;v++)this.openFrontierNode(o[v]);let a=this.unplaced,s=n?n.content:a.content,l=a.openStart-e,u=0,c=[],{match:f,type:d}=this.frontier[t];if(i){for(let v=0;v<i.childCount;v++)c.push(i.child(v));f=f.matchFragment(i)}let p=s.size+e-(a.content.size-a.openEnd);for(;u<s.childCount;){let v=s.child(u),m=f.matchType(v.type);if(!m)break;u++,(u>1||l==0||v.content.size)&&(f=m,c.push(Hu(v.mark(d.allowedMarks(v.marks)),u==1?l:0,u==s.childCount?p:-1)))}let h=u==s.childCount;h||(p=-1),this.placed=Ln(this.placed,t,M.from(c)),this.frontier[t].match=f,h&&p<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let v=0,m=s;v<p;v++){let g=m.lastChild;this.frontier.push({type:g.type,match:g.contentMatchAt(g.childCount)}),m=g.content}this.unplaced=h?e==0?L.empty:new L(On(a.content,e-1,1),e-1,p<0?a.openEnd:e-1):new L(On(a.content,e,u),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!sa(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:n}=this.$to,i=this.$to.after(n);for(;n>1&&i==this.$to.end(--n);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:i}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),a=sa(e,t,i,n,o);if(a){for(let s=t-1;s>=0;s--){let{match:l,type:u}=this.frontier[s],c=sa(e,s,u,l,!0);if(!c||c.childCount)continue e}return{depth:t,fit:a,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Ln(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let i=e.node(n),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(n));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,t=null,n){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Ln(this.placed,this.depth,M.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(M.empty,!0);t.childCount&&(this.placed=Ln(this.placed,this.frontier.length,t))}};function On(r,e,t){return e==0?r.cutByIndex(t,r.childCount):r.replaceChild(0,r.firstChild.copy(On(r.firstChild.content,e-1,t)))}function Ln(r,e,t){return e==0?r.append(t):r.replaceChild(r.childCount-1,r.lastChild.copy(Ln(r.lastChild.content,e-1,t)))}function aa(r,e){for(let t=0;t<e;t++)r=r.firstChild.content;return r}function Hu(r,e,t){if(e<=0)return r;let n=r.content;return e>1&&(n=n.replaceChild(0,Hu(n.firstChild,e-1,n.childCount==1?t-1:0))),e>0&&(n=r.type.contentMatch.fillBefore(n).append(n),t<=0&&(n=n.append(r.type.contentMatch.matchFragment(n).fillBefore(M.empty,!0)))),r.copy(n)}function sa(r,e,t,n,i){let o=r.node(e),a=i?r.indexAfter(e):r.index(e);if(a==o.childCount&&!t.compatibleContent(o.type))return null;let s=n.fillBefore(o.content,!0,a);return s&&!Nm(t,o.content,a)?s:null}function Nm(r,e,t){for(let n=t;n<e.childCount;n++)if(!r.allowsMarks(e.child(n).marks))return!0;return!1}function Im(r){return r.spec.defining||r.spec.definingForContent}function Rm(r,e,t,n){if(!n.size)return r.deleteRange(e,t);let i=r.doc.resolve(e),o=r.doc.resolve(t);if(Bu(i,o,n))return r.step(new Ue(e,t,n));let a=$u(i,o);a[a.length-1]==0&&a.pop();let s=-(i.depth+1);a.unshift(s);for(let d=i.depth,p=i.pos-1;d>0;d--,p--){let h=i.node(d).type.spec;if(h.defining||h.definingAsContext||h.isolating)break;a.indexOf(d)>-1?s=d:i.before(d)==p&&a.splice(1,0,-d)}let l=a.indexOf(s),u=[],c=n.openStart;for(let d=n.content,p=0;;p++){let h=d.firstChild;if(u.push(h),p==n.openStart)break;d=h.content}for(let d=c-1;d>=0;d--){let p=u[d],h=Im(p.type);if(h&&!p.sameMarkup(i.node(Math.abs(s)-1)))c=d;else if(h||!p.type.isTextblock)break}for(let d=n.openStart;d>=0;d--){let p=(d+c+1)%(n.openStart+1),h=u[p];if(h)for(let v=0;v<a.length;v++){let m=a[(v+l)%a.length],g=!0;m<0&&(g=!1,m=-m);let w=i.node(m-1),y=i.index(m-1);if(w.canReplaceWith(y,y,h.type,h.marks))return r.replace(i.before(m),g?o.after(m):t,new L(Fu(n.content,0,n.openStart,p),p,n.openEnd))}}let f=r.steps.length;for(let d=a.length-1;d>=0&&(r.replace(e,t,n),!(r.steps.length>f));d--){let p=a[d];p<0||(e=i.before(p),t=o.after(p))}}function Fu(r,e,t,n,i){if(e<t){let o=r.firstChild;r=r.replaceChild(0,o.copy(Fu(o.content,e+1,t,n,o)))}if(e>n){let o=i.contentMatchAt(0),a=o.fillBefore(r).append(r);r=a.append(o.matchFragment(a).fillBefore(M.empty,!0))}return r}function Pm(r,e,t,n){if(!n.isInline&&e==t&&r.doc.resolve(e).parent.content.size){let i=Dm(r.doc,e,n.type);i!=null&&(e=t=i)}r.replaceRange(e,t,new L(M.from(n),0,0))}function Bm(r,e,t){let n=r.doc.resolve(e),i=r.doc.resolve(t),o=$u(n,i);for(let a=0;a<o.length;a++){let s=o[a],l=a==o.length-1;if(l&&s==0||n.node(s).type.contentMatch.validEnd)return r.delete(n.start(s),i.end(s));if(s>0&&(l||n.node(s-1).canReplace(n.index(s-1),i.indexAfter(s-1))))return r.delete(n.before(s),i.after(s))}for(let a=1;a<=n.depth&&a<=i.depth;a++)if(e-n.start(a)==n.depth-a&&t>n.end(a)&&i.end(a)-t!=i.depth-a&&n.start(a-1)==i.start(a-1)&&n.node(a-1).canReplace(n.index(a-1),i.index(a-1)))return r.delete(n.before(a),t);r.delete(e,t)}function $u(r,e){let t=[],n=Math.min(r.depth,e.depth);for(let i=n;i>=0;i--){let o=r.start(i);if(o<r.pos-(r.depth-i)||e.end(i)>e.pos+(e.depth-i)||r.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==r.depth&&i==e.depth&&r.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&t.push(i)}return t}var vi=class r extends ve{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return be.fail("No node at attribute step's position");let n=Object.create(null);for(let o in t.attrs)n[o]=t.attrs[o];n[this.attr]=this.value;let i=t.type.create(n,null,t.marks);return be.fromReplace(e,this.pos,this.pos+1,new L(M.from(i),0,t.isLeaf?0:1))}getMap(){return tt.empty}invert(e){return new r(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new r(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new r(t.pos,t.attr,t.value)}};ve.jsonID("attr",vi);var mi=class r extends ve{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let n=e.type.create(t,e.content,e.marks);return be.ok(n)}getMap(){return tt.empty}invert(e){return new r(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new r(t.attr,t.value)}};ve.jsonID("docAttr",mi);var qr=class extends Error{};qr=function r(e){let t=Error.call(this,e);return t.__proto__=r.prototype,t};qr.prototype=Object.create(Error.prototype);qr.prototype.constructor=qr;qr.prototype.name="TransformError";var gi=class{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Dn}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new qr(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=L.empty){let i=yi(this.doc,e,t,n);return i&&this.step(i),this}replaceWith(e,t,n){return this.replace(e,t,new L(M.from(n),0,0))}delete(e,t){return this.replace(e,t,L.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return Rm(this,e,t,n),this}replaceRangeWith(e,t,n){return Pm(this,e,t,n),this}deleteRange(e,t){return Bm(this,e,t),this}lift(e,t){return wm(this,e,t),this}join(e,t=1){return Am(this,e,t),this}wrap(e,t){return km(this,e,t),this}setBlockType(e,t=e,n,i=null){return Tm(this,e,t,n,i),this}setNodeMarkup(e,t,n=null,i){return Sm(this,e,t,n,i),this}setNodeAttribute(e,t,n){return this.step(new vi(e,t,n)),this}setDocAttribute(e,t){return this.step(new mi(e,t)),this}addNodeMark(e,t){return this.step(new In(e,t)),this}removeNodeMark(e,t){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(t instanceof j)t.isInSet(n.marks)&&this.step(new zr(e,t));else{let i=n.marks,o,a=[];for(;o=t.isInSet(i);)a.push(new zr(e,o)),i=o.removeFromSet(i);for(let s=a.length-1;s>=0;s--)this.step(a[s])}return this}split(e,t=1,n){return Mm(this,e,t,n),this}addMark(e,t,n){return gm(this,e,t,n),this}removeMark(e,t,n){return ym(this,e,t,n),this}clearIncompatible(e,t,n){return fa(this,e,t,n),this}};var pa=Object.create(null),V=class{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new qt(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=L.empty){let n=t.content.lastChild,i=null;for(let s=0;s<t.openEnd;s++)i=n,n=n.lastChild;let o=e.steps.length,a=this.ranges;for(let s=0;s<a.length;s++){let{$from:l,$to:u}=a[s],c=e.mapping.slice(o);e.replaceRange(c.map(l.pos),c.map(u.pos),s?L.empty:t),s==0&&Vu(e,o,(n?n.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:a,$to:s}=i[o],l=e.mapping.slice(n),u=l.map(a.pos),c=l.map(s.pos);o?e.deleteRange(u,c):(e.replaceRangeWith(u,c,t),Vu(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let i=e.parent.inlineContent?new G(e):Ur(e.node(0),e.parent,e.pos,e.index(),t,n);if(i)return i;for(let o=e.depth-1;o>=0;o--){let a=t<0?Ur(e.node(0),e.node(o),e.before(o+1),e.index(o),t,n):Ur(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,n);if(a)return a}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Ae(e.node(0))}static atStart(e){return Ur(e,e,0,0,1)||new Ae(e)}static atEnd(e){return Ur(e,e,e.content.size,e.childCount,-1)||new Ae(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=pa[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in pa)throw new RangeError("Duplicate use of selection JSON ID "+e);return pa[e]=t,t.prototype.jsonID=e,t}getBookmark(){return G.between(this.$anchor,this.$head).getBookmark()}};V.prototype.visible=!0;var qt=class{constructor(e,t){this.$from=e,this.$to=t}},zu=!1;function qu(r){!zu&&!r.parent.inlineContent&&(zu=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+r.parent.type.name+")"))}var G=class r extends V{constructor(e,t=e){qu(e),qu(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return V.near(n);let i=e.resolve(t.map(this.anchor));return new r(i.parent.inlineContent?i:n,n)}replace(e,t=L.empty){if(super.replace(e,t),t==L.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof r&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new wi(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new r(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){let i=e.resolve(t);return new this(i,n==t?i:e.resolve(n))}static between(e,t,n){let i=e.pos-t.pos;if((!n||i)&&(n=i>=0?1:-1),!t.parent.inlineContent){let o=V.findFrom(t,n,!0)||V.findFrom(t,-n,!0);if(o)t=o.$head;else return V.near(t,n)}return e.parent.inlineContent||(i==0?e=t:(e=(V.findFrom(e,-n,!0)||V.findFrom(e,n,!0)).$anchor,e.pos<t.pos!=i<0&&(e=t))),new r(e,t)}};V.jsonID("text",G);var wi=class r{constructor(e,t){this.anchor=e,this.head=t}map(e){return new r(e.map(this.anchor),e.map(this.head))}resolve(e){return G.between(e.resolve(this.anchor),e.resolve(this.head))}},$=class r extends V{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:i}=t.mapResult(this.anchor),o=e.resolve(i);return n?V.near(o):new r(o)}content(){return new L(M.from(this.node),0,0)}eq(e){return e instanceof r&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new va(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new r(e.resolve(t.anchor))}static create(e,t){return new r(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}};$.prototype.visible=!1;V.jsonID("node",$);var va=class r{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new wi(n,n):new r(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&$.isSelectable(n)?new $(t):V.near(t)}},Ae=class r extends V{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=L.empty){if(t==L.empty){e.delete(0,e.doc.content.size);let n=V.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new r(e)}map(e){return new r(e)}eq(e){return e instanceof r}getBookmark(){return Hm}};V.jsonID("all",Ae);var Hm={map(){return this},resolve(r){return new Ae(r)}};function Ur(r,e,t,n,i,o=!1){if(e.inlineContent)return G.create(r,t);for(let a=n-(i>0?0:1);i>0?a<e.childCount:a>=0;a+=i){let s=e.child(a);if(s.isAtom){if(!o&&$.isSelectable(s))return $.create(r,t-(i<0?s.nodeSize:0))}else{let l=Ur(r,s,t+i,i<0?s.childCount:0,i,o);if(l)return l}t+=s.nodeSize*i}return null}function Vu(r,e,t){let n=r.steps.length-1;if(n<e)return;let i=r.steps[n];if(!(i instanceof Ue||i instanceof ce))return;let o=r.mapping.maps[n],a;o.forEach((s,l,u,c)=>{a==null&&(a=c)}),r.setSelection(V.near(r.doc.resolve(a),t))}var Uu=1,bi=2,_u=4,ma=class extends gi{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Uu)&~bi,this.storedMarks=null,this}get selectionSet(){return(this.updated&Uu)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=bi,this}ensureMarks(e){return j.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&bi)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~bi,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||j.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let i=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(n==null&&(n=t),!e)return this.deleteRange(t,n);let o=this.storedMarks;if(!o){let a=this.doc.resolve(t);o=n==t?a.marks():a.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,i.text(e,o)),!this.selection.empty&&this.selection.to==t+e.length&&this.setSelection(V.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=_u,this}get scrolledIntoView(){return(this.updated&_u)>0}};function ju(r,e){return!e||!r?r:r.bind(e)}var lr=class{constructor(e,t,n){this.name=e,this.init=ju(t.init,n),this.apply=ju(t.apply,n)}},Fm=[new lr("doc",{init(r){return r.doc||r.schema.topNodeType.createAndFill()},apply(r){return r.doc}}),new lr("selection",{init(r,e){return r.selection||V.atStart(e.doc)},apply(r){return r.selection}}),new lr("storedMarks",{init(r){return r.storedMarks||null},apply(r,e,t,n){return n.selection.$cursor?r.storedMarks:null}}),new lr("scrollToSelection",{init(){return 0},apply(r,e){return r.scrolledIntoView?e+1:e}})],Rn=class{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Fm.slice(),t&&t.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new lr(n.key,n.spec.state,n))})}},Pn=class r{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let i=this.config.plugins[n];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),i=null;for(;;){let o=!1;for(let a=0;a<this.config.plugins.length;a++){let s=this.config.plugins[a];if(s.spec.appendTransaction){let l=i?i[a].n:0,u=i?i[a].state:this,c=l<t.length&&s.spec.appendTransaction.call(s,l?t.slice(l):t,u,n);if(c&&n.filterTransaction(c,a)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<a?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),o=!0}i&&(i[a]={state:n,n:t.length})}}if(!o)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new r(this.config),n=this.config.fields;for(let i=0;i<n.length;i++){let o=n[i];t[o.name]=o.apply(e,this[o.name],this,t)}return t}get tr(){return new ma(this)}static create(e){let t=new Rn(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new r(t);for(let i=0;i<t.fields.length;i++)n[t.fields[i].name]=t.fields[i].init(e,n);return n}reconfigure(e){let t=new Rn(this.schema,e.plugins),n=t.fields,i=new r(t);for(let o=0;o<n.length;o++){let a=n[o].name;i[a]=this.hasOwnProperty(a)?this[a]:n[o].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[n],o=i.spec.state;o&&o.toJSON&&(t[n]=o.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Rn(e.schema,e.plugins),o=new r(i);return i.fields.forEach(a=>{if(a.name=="doc")o.doc=Ge.fromJSON(e.schema,t.doc);else if(a.name=="selection")o.selection=V.fromJSON(o.doc,t.selection);else if(a.name=="storedMarks")t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let s in n){let l=n[s],u=l.spec.state;if(l.key==a.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(t,s)){o[a.name]=u.fromJSON.call(l,e,t[s],o);return}}o[a.name]=a.init(e,o)}}),o}};function Wu(r,e,t){for(let n in r){let i=r[n];i instanceof Function?i=i.bind(e):n=="handleDOMEvents"&&(i=Wu(i,e,{})),t[n]=i}return t}var ae=class{constructor(e){this.spec=e,this.props={},e.props&&Wu(e.props,this,this.props),this.key=e.key?e.key.key:Gu("plugin")}getState(e){return e[this.key]}},ha=Object.create(null);function Gu(r){return r in ha?r+"$"+ ++ha[r]:(ha[r]=0,r+"$")}var xt=class{constructor(e="key"){this.key=Gu(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}};var we=function(r){for(var e=0;;e++)if(r=r.previousSibling,!r)return e},Kr=function(r){let e=r.assignedSlot||r.parentNode;return e&&e.nodeType==11?e.host:e},xa=null,Tt=function(r,e,t){let n=xa||(xa=document.createRange());return n.setEnd(r,t??r.nodeValue.length),n.setStart(r,e||0),n},$m=function(){xa=null},vr=function(r,e,t,n){return t&&(Ku(r,e,t,n,-1)||Ku(r,e,t,n,1))},zm=/^(img|br|input|textarea|hr)$/i;function Ku(r,e,t,n,i){for(var o;;){if(r==t&&e==n)return!0;if(e==(i<0?0:Je(r))){let a=r.parentNode;if(!a||a.nodeType!=1||Vn(r)||zm.test(r.nodeName)||r.contentEditable=="false")return!1;e=we(r)+(i<0?0:1),r=a}else if(r.nodeType==1){let a=r.childNodes[e+(i<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((o=a.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)e+=i;else return!1;else r=a,e=i<0?Je(r):0}else return!1}}function Je(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function qm(r,e){for(;;){if(r.nodeType==3&&e)return r;if(r.nodeType==1&&e>0){if(r.contentEditable=="false")return null;r=r.childNodes[e-1],e=Je(r)}else if(r.parentNode&&!Vn(r))e=we(r),r=r.parentNode;else return null}}function Vm(r,e){for(;;){if(r.nodeType==3&&e<r.nodeValue.length)return r;if(r.nodeType==1&&e<r.childNodes.length){if(r.contentEditable=="false")return null;r=r.childNodes[e],e=0}else if(r.parentNode&&!Vn(r))e=we(r)+1,r=r.parentNode;else return null}}function Um(r,e,t){for(let n=e==0,i=e==Je(r);n||i;){if(r==t)return!0;let o=we(r);if(r=r.parentNode,!r)return!1;n=n&&o==0,i=i&&o==Je(r)}}function Vn(r){let e;for(let t=r;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==r||e.contentDOM==r)}var Di=function(r){return r.focusNode&&vr(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)};function ur(r,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=r,t.key=t.code=e,t}function _m(r){let e=r.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function jm(r,e,t){if(r.caretPositionFromPoint)try{let n=r.caretPositionFromPoint(e,t);if(n)return{node:n.offsetNode,offset:Math.min(Je(n.offsetNode),n.offset)}}catch{}if(r.caretRangeFromPoint){let n=r.caretRangeFromPoint(e,t);if(n)return{node:n.startContainer,offset:Math.min(Je(n.startContainer),n.startOffset)}}}var ut=typeof navigator<"u"?navigator:null,Ju=typeof document<"u"?document:null,Gt=ut&&ut.userAgent||"",ka=/Edge\/(\d+)/.exec(Gt),Mc=/MSIE \d/.exec(Gt),Ta=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Gt),qe=!!(Mc||Ta||ka),jt=Mc?document.documentMode:Ta?+Ta[1]:ka?+ka[1]:0,Xe=!qe&&/gecko\/(\d+)/i.test(Gt);Xe&&+(/Firefox\/(\d+)/.exec(Gt)||[0,0])[1];var Ea=!qe&&/Chrome\/(\d+)/.exec(Gt),me=!!Ea,Oc=Ea?+Ea[1]:0,Ie=!qe&&!!ut&&/Apple Computer/.test(ut.vendor),Jr=Ie&&(/Mobile\/\w+/.test(Gt)||!!ut&&ut.maxTouchPoints>2),Ke=Jr||(ut?/Mac/.test(ut.platform):!1),Lc=ut?/Win/.test(ut.platform):!1,Et=/Android \d/.test(Gt),Un=!!Ju&&"webkitFontSmoothing"in Ju.documentElement.style,Wm=Un?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Gm(r){let e=r.defaultView&&r.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:r.documentElement.clientWidth,top:0,bottom:r.documentElement.clientHeight}}function kt(r,e){return typeof r=="number"?r:r[e]}function Km(r){let e=r.getBoundingClientRect(),t=e.width/r.offsetWidth||1,n=e.height/r.offsetHeight||1;return{left:e.left,right:e.left+r.clientWidth*t,top:e.top,bottom:e.top+r.clientHeight*n}}function Xu(r,e,t){let n=r.someProp("scrollThreshold")||0,i=r.someProp("scrollMargin")||5,o=r.dom.ownerDocument;for(let a=t||r.dom;a;){if(a.nodeType!=1){a=Kr(a);continue}let s=a,l=s==o.body,u=l?Gm(o):Km(s),c=0,f=0;if(e.top<u.top+kt(n,"top")?f=-(u.top-e.top+kt(i,"top")):e.bottom>u.bottom-kt(n,"bottom")&&(f=e.bottom-e.top>u.bottom-u.top?e.top+kt(i,"top")-u.top:e.bottom-u.bottom+kt(i,"bottom")),e.left<u.left+kt(n,"left")?c=-(u.left-e.left+kt(i,"left")):e.right>u.right-kt(n,"right")&&(c=e.right-u.right+kt(i,"right")),c||f)if(l)o.defaultView.scrollBy(c,f);else{let p=s.scrollLeft,h=s.scrollTop;f&&(s.scrollTop+=f),c&&(s.scrollLeft+=c);let v=s.scrollLeft-p,m=s.scrollTop-h;e={left:e.left-v,top:e.top-m,right:e.right-v,bottom:e.bottom-m}}let d=l?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(d))break;a=d=="absolute"?a.offsetParent:Kr(a)}}function Jm(r){let e=r.dom.getBoundingClientRect(),t=Math.max(0,e.top),n,i;for(let o=(e.left+e.right)/2,a=t+1;a<Math.min(innerHeight,e.bottom);a+=5){let s=r.root.elementFromPoint(o,a);if(!s||s==r.dom||!r.dom.contains(s))continue;let l=s.getBoundingClientRect();if(l.top>=t-20){n=s,i=l.top;break}}return{refDOM:n,refTop:i,stack:Ac(r.dom)}}function Ac(r){let e=[],t=r.ownerDocument;for(let n=r;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),r!=t);n=Kr(n));return e}function Xm({refDOM:r,refTop:e,stack:t}){let n=r?r.getBoundingClientRect().top:0;Dc(t,n==0?0:n-e)}function Dc(r,e){for(let t=0;t<r.length;t++){let{dom:n,top:i,left:o}=r[t];n.scrollTop!=i+e&&(n.scrollTop=i+e),n.scrollLeft!=o&&(n.scrollLeft=o)}}var _r=null;function Ym(r){if(r.setActive)return r.setActive();if(_r)return r.focus(_r);let e=Ac(r);r.focus(_r==null?{get preventScroll(){return _r={preventScroll:!0},!0}}:void 0),_r||(_r=!1,Dc(e,0))}function Nc(r,e){let t,n=2e8,i,o=0,a=e.top,s=e.top,l,u;for(let c=r.firstChild,f=0;c;c=c.nextSibling,f++){let d;if(c.nodeType==1)d=c.getClientRects();else if(c.nodeType==3)d=Tt(c).getClientRects();else continue;for(let p=0;p<d.length;p++){let h=d[p];if(h.top<=a&&h.bottom>=s){a=Math.max(h.bottom,a),s=Math.min(h.top,s);let v=h.left>e.left?h.left-e.left:h.right<e.left?e.left-h.right:0;if(v<n){t=c,n=v,i=v&&t.nodeType==3?{left:h.right<e.left?h.right:h.left,top:e.top}:e,c.nodeType==1&&v&&(o=f+(e.left>=(h.left+h.right)/2?1:0));continue}}else h.top>e.top&&!l&&h.left<=e.left&&h.right>=e.left&&(l=c,u={left:Math.max(h.left,Math.min(h.right,e.left)),top:h.top});!t&&(e.left>=h.right&&e.top>=h.top||e.left>=h.left&&e.top>=h.bottom)&&(o=f+1)}}return!t&&l&&(t=l,i=u,n=0),t&&t.nodeType==3?Qm(t,i):!t||n&&t.nodeType==1?{node:r,offset:o}:Nc(t,i)}function Qm(r,e){let t=r.nodeValue.length,n=document.createRange(),i;for(let o=0;o<t;o++){n.setEnd(r,o+1),n.setStart(r,o);let a=Vt(n,1);if(a.top!=a.bottom&&za(e,a)){i={node:r,offset:o+(e.left>=(a.left+a.right)/2?1:0)};break}}return n.detach(),i||{node:r,offset:0}}function za(r,e){return r.left>=e.left-1&&r.left<=e.right+1&&r.top>=e.top-1&&r.top<=e.bottom+1}function Zm(r,e){let t=r.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<r.getBoundingClientRect().left?t:r}function eg(r,e,t){let{node:n,offset:i}=Nc(e,t),o=-1;if(n.nodeType==1&&!n.firstChild){let a=n.getBoundingClientRect();o=a.left!=a.right&&t.left>(a.left+a.right)/2?1:-1}return r.docView.posFromDOM(n,i,o)}function tg(r,e,t,n){let i=-1;for(let o=e,a=!1;o!=r.dom;){let s=r.docView.nearestDesc(o,!0),l;if(!s)return null;if(s.dom.nodeType==1&&(s.node.isBlock&&s.parent||!s.contentDOM)&&((l=s.dom.getBoundingClientRect()).width||l.height)&&(s.node.isBlock&&s.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(s.dom.nodeName)&&(!a&&l.left>n.left||l.top>n.top?i=s.posBefore:(!a&&l.right<n.left||l.bottom<n.top)&&(i=s.posAfter),a=!0),!s.contentDOM&&i<0&&!s.node.isText))return(s.node.isBlock?n.top<(l.top+l.bottom)/2:n.left<(l.left+l.right)/2)?s.posBefore:s.posAfter;o=s.dom.parentNode}return i>-1?i:r.docView.posFromDOM(e,t,-1)}function Ic(r,e,t){let n=r.childNodes.length;if(n&&t.top<t.bottom)for(let i=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-t.top)/(t.bottom-t.top))-2)),o=i;;){let a=r.childNodes[o];if(a.nodeType==1){let s=a.getClientRects();for(let l=0;l<s.length;l++){let u=s[l];if(za(e,u))return Ic(a,e,u)}}if((o=(o+1)%n)==i)break}return r}function rg(r,e){let t=r.dom.ownerDocument,n,i=0,o=jm(t,e.left,e.top);o&&({node:n,offset:i}=o);let a=(r.root.elementFromPoint?r.root:t).elementFromPoint(e.left,e.top),s;if(!a||!r.dom.contains(a.nodeType!=1?a.parentNode:a)){let u=r.dom.getBoundingClientRect();if(!za(e,u)||(a=Ic(r.dom,e,u),!a))return null}if(Ie)for(let u=a;n&&u;u=Kr(u))u.draggable&&(n=void 0);if(a=Zm(a,e),n){if(Xe&&n.nodeType==1&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let c=n.childNodes[i],f;c.nodeName=="IMG"&&(f=c.getBoundingClientRect()).right<=e.left&&f.bottom>e.top&&i++}let u;Un&&i&&n.nodeType==1&&(u=n.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&i--,n==r.dom&&i==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?s=r.state.doc.content.size:(i==0||n.nodeType!=1||n.childNodes[i-1].nodeName!="BR")&&(s=tg(r,n,i,e))}s==null&&(s=eg(r,a,e));let l=r.docView.nearestDesc(a,!0);return{pos:s,inside:l?l.posAtStart-l.border:-1}}function Yu(r){return r.top<r.bottom||r.left<r.right}function Vt(r,e){let t=r.getClientRects();if(t.length){let n=t[e<0?0:t.length-1];if(Yu(n))return n}return Array.prototype.find.call(t,Yu)||r.getBoundingClientRect()}var ng=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Rc(r,e,t){let{node:n,offset:i,atom:o}=r.docView.domFromPos(e,t<0?-1:1),a=Un||Xe;if(n.nodeType==3)if(a&&(ng.test(n.nodeValue)||(t<0?!i:i==n.nodeValue.length))){let l=Vt(Tt(n,i,i),t);if(Xe&&i&&/\s/.test(n.nodeValue[i-1])&&i<n.nodeValue.length){let u=Vt(Tt(n,i-1,i-1),-1);if(u.top==l.top){let c=Vt(Tt(n,i,i+1),-1);if(c.top!=l.top)return Bn(c,c.left<u.left)}}return l}else{let l=i,u=i,c=t<0?1:-1;return t<0&&!i?(u++,c=-1):t>=0&&i==n.nodeValue.length?(l--,c=1):t<0?l--:u++,Bn(Vt(Tt(n,l,u),c),c<0)}if(!r.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(t<0||i==Je(n))){let l=n.childNodes[i-1];if(l.nodeType==1)return ga(l.getBoundingClientRect(),!1)}if(o==null&&i<Je(n)){let l=n.childNodes[i];if(l.nodeType==1)return ga(l.getBoundingClientRect(),!0)}return ga(n.getBoundingClientRect(),t>=0)}if(o==null&&i&&(t<0||i==Je(n))){let l=n.childNodes[i-1],u=l.nodeType==3?Tt(l,Je(l)-(a?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return Bn(Vt(u,1),!1)}if(o==null&&i<Je(n)){let l=n.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?Tt(l,0,a?0:1):l.nodeType==1?l:null:null;if(u)return Bn(Vt(u,-1),!0)}return Bn(Vt(n.nodeType==3?Tt(n):n,-t),t>=0)}function Bn(r,e){if(r.width==0)return r;let t=e?r.left:r.right;return{top:r.top,bottom:r.bottom,left:t,right:t}}function ga(r,e){if(r.height==0)return r;let t=e?r.top:r.bottom;return{top:t,bottom:t,left:r.left,right:r.right}}function Pc(r,e,t){let n=r.state,i=r.root.activeElement;n!=e&&r.updateState(e),i!=r.dom&&r.focus();try{return t()}finally{n!=e&&r.updateState(n),i!=r.dom&&i&&i.focus()}}function ig(r,e,t){let n=e.selection,i=t=="up"?n.$from:n.$to;return Pc(r,e,()=>{let{node:o}=r.docView.domFromPos(i.pos,t=="up"?-1:1);for(;;){let s=r.docView.nearestDesc(o,!0);if(!s)break;if(s.node.isBlock){o=s.contentDOM||s.dom;break}o=s.dom.parentNode}let a=Rc(r,i.pos,1);for(let s=o.firstChild;s;s=s.nextSibling){let l;if(s.nodeType==1)l=s.getClientRects();else if(s.nodeType==3)l=Tt(s,0,s.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let c=l[u];if(c.bottom>c.top+1&&(t=="up"?a.top-c.top>(c.bottom-a.top)*2:c.bottom-a.bottom>(a.bottom-c.top)*2))return!1}}return!0})}var og=/[\u0590-\u08ac]/;function ag(r,e,t){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let i=n.parentOffset,o=!i,a=i==n.parent.content.size,s=r.domSelection();return s?!og.test(n.parent.textContent)||!s.modify?t=="left"||t=="backward"?o:a:Pc(r,e,()=>{let{focusNode:l,focusOffset:u,anchorNode:c,anchorOffset:f}=r.domSelectionRange(),d=s.caretBidiLevel;s.modify("move",t,"character");let p=n.depth?r.docView.domAfterPos(n.before()):r.dom,{focusNode:h,focusOffset:v}=r.domSelectionRange(),m=h&&!p.contains(h.nodeType==1?h:h.parentNode)||l==h&&u==v;try{s.collapse(c,f),l&&(l!=c||u!=f)&&s.extend&&s.extend(l,u)}catch{}return d!=null&&(s.caretBidiLevel=d),m}):n.pos==n.start()||n.pos==n.end()}var Qu=null,Zu=null,ec=!1;function sg(r,e,t){return Qu==e&&Zu==t?ec:(Qu=e,Zu=t,ec=t=="up"||t=="down"?ig(r,e,t):ag(r,e,t))}var Ye=0,tc=1,cr=2,ct=3,mr=class{constructor(e,t,n,i){this.parent=e,this.children=t,this.dom=n,this.contentDOM=i,this.dirty=Ye,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let i=this.children[t];if(i==e)return n;n+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let o,a;if(e==this.contentDOM)o=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(a)+a.size:this.posAtStart}else{let o,a;if(e==this.contentDOM)o=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(a):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=t>we(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&t==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),a;if(o&&(!t||o.node))if(n&&(a=o.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))n=!1;else return o}}getDesc(e){let t=e.pmViewDesc;for(let n=t;n;n=n.parent)if(n==this)return t}posFromDOM(e,t,n){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let i=this.children[t],o=n+i.size;if(n==e&&o!=n){for(;!i.border&&i.children.length;)for(let a=0;a<i.children.length;a++){let s=i.children[a];if(s.size){i=s;break}}return i}if(e<o)return i.descAt(e-n-i.border);n=o}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,i=0;for(let o=0;n<this.children.length;n++){let a=this.children[n],s=o+a.size;if(s>e||a instanceof ki){i=e-o;break}o=s}if(i)return this.children[n].domFromPos(i-this.children[n].border,t);for(let o;n&&!(o=this.children[n-1]).size&&o instanceof Ci&&o.side>=0;n--);if(t<=0){let o,a=!0;for(;o=n?this.children[n-1]:null,!(!o||o.dom.parentNode==this.contentDOM);n--,a=!1);return o&&t&&a&&!o.border&&!o.domAtom?o.domFromPos(o.size,t):{node:this.contentDOM,offset:o?we(o.dom)+1:0}}else{let o,a=!0;for(;o=n<this.children.length?this.children[n]:null,!(!o||o.dom.parentNode==this.contentDOM);n++,a=!1);return o&&a&&!o.border&&!o.domAtom?o.domFromPos(0,t):{node:this.contentDOM,offset:o?we(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let a=n,s=0;;s++){let l=this.children[s],u=a+l.size;if(i==-1&&e<=u){let c=a+l.border;if(e>=c&&t<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,t,c);e=a;for(let f=s;f>0;f--){let d=this.children[f-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){i=we(d.dom)+1;break}e-=d.size}i==-1&&(i=0)}if(i>-1&&(u>t||s==this.children.length-1)){t=u;for(let c=s+1;c<this.children.length;c++){let f=this.children[c];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){o=we(f.dom);break}t+=f.size}o==-1&&(o=this.contentDOM.childNodes.length);break}a=u}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(t.nodeType!=1||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,i=!1){let o=Math.min(e,t),a=Math.max(e,t);for(let p=0,h=0;p<this.children.length;p++){let v=this.children[p],m=h+v.size;if(o>h&&a<m)return v.setSelection(e-h-v.border,t-h-v.border,n,i);h=m}let s=this.domFromPos(e,e?-1:1),l=t==e?s:this.domFromPos(t,t?-1:1),u=n.root.getSelection(),c=n.domSelectionRange(),f=!1;if((Xe||Ie)&&e==t){let{node:p,offset:h}=s;if(p.nodeType==3){if(f=!!(h&&p.nodeValue[h-1]==`
`),f&&h==p.nodeValue.length)for(let v=p,m;v;v=v.parentNode){if(m=v.nextSibling){m.nodeName=="BR"&&(s=l={node:m.parentNode,offset:we(m)+1});break}let g=v.pmViewDesc;if(g&&g.node&&g.node.isBlock)break}}else{let v=p.childNodes[h-1];f=v&&(v.nodeName=="BR"||v.contentEditable=="false")}}if(Xe&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let p=c.focusNode.childNodes[c.focusOffset];p&&p.contentEditable=="false"&&(i=!0)}if(!(i||f&&Ie)&&vr(s.node,s.offset,c.anchorNode,c.anchorOffset)&&vr(l.node,l.offset,c.focusNode,c.focusOffset))return;let d=!1;if((u.extend||e==t)&&!(f&&Xe)){u.collapse(s.node,s.offset);try{e!=t&&u.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(e>t){let h=s;s=l,l=h}let p=document.createRange();p.setEnd(l.node,l.offset),p.setStart(s.node,s.offset),u.removeAllRanges(),u.addRange(p)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,i=0;i<this.children.length;i++){let o=this.children[i],a=n+o.size;if(n==a?e<=a&&t>=n:e<a&&t>n){let s=n+o.border,l=a-o.border;if(e>=s&&t<=l){this.dirty=e==n||t==a?cr:tc,e==s&&t==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=ct:o.markDirty(e-s,t-s);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?cr:ct}n=a}this.dirty=cr}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=e==1?cr:tc;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}},Ci=class extends mr{constructor(e,t,n,i){let o,a=t.type.toDOM;if(typeof a=="function"&&(a=a(n,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!t.type.spec.raw){if(a.nodeType!=1){let s=document.createElement("span");s.appendChild(a),a=s}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=t,this.widget=t,o=this}matchesWidget(e){return this.dirty==Ye&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}},Sa=class extends mr{constructor(e,t,n,i){super(e,[],t,null),this.textDOM=n,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}},Xr=class r extends mr{constructor(e,t,n,i,o){super(e,[],n,i),this.mark=t,this.spec=o}static create(e,t,n,i){let o=i.nodeViews[t.type.name],a=o&&o(t,i,n);return(!a||!a.dom)&&(a=ar.renderSpec(document,t.type.spec.toDOM(t,n),null,t.attrs)),new r(e,t,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&ct||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=ct&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=Ye){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=Ye}}slice(e,t,n){let i=r.create(this.parent,this.mark,!0,n),o=this.children,a=this.size;t<a&&(o=Aa(o,t,a,n)),e>0&&(o=Aa(o,0,e,n));for(let s=0;s<o.length;s++)o[s].parent=i;return i.children=o,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}},Wt=class r extends mr{constructor(e,t,n,i,o,a,s,l,u){super(e,[],o,a),this.node=t,this.outerDeco=n,this.innerDeco=i,this.nodeDOM=s}static create(e,t,n,i,o,a){let s=o.nodeViews[t.type.name],l,u=s&&s(t,o,()=>{if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)},n,i),c=u&&u.dom,f=u&&u.contentDOM;if(t.isText){if(!c)c=document.createTextNode(t.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:f}=ar.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!f&&!t.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),t.type.spec.draggable&&(c.draggable=!0));let d=c;return c=Fc(c,n,t),u?l=new Ma(e,t,n,i,c,f||null,d,u,o,a+1):t.isText?new xi(e,t,n,i,c,d,o):new r(e,t,n,i,c,f||null,d,o,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>M.empty)}return e}matchesNode(e,t,n){return this.dirty==Ye&&e.eq(this.node)&&Ti(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,i=t,o=e.composing?this.localCompositionInfo(e,t):null,a=o&&o.pos>-1?o:null,s=o&&o.pos<0,l=new La(this,a&&a.node,e);fg(this.node,this.innerDeco,(u,c,f)=>{u.spec.marks?l.syncToMarks(u.spec.marks,n,e):u.type.side>=0&&!f&&l.syncToMarks(c==this.node.childCount?j.none:this.node.child(c).marks,n,e),l.placeWidget(u,e,i)},(u,c,f,d)=>{l.syncToMarks(u.marks,n,e);let p;l.findNodeMatch(u,c,f,d)||s&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(p=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(u,c,f,p,e)||l.updateNextNode(u,c,f,e,d,i)||l.addNode(u,c,f,e,i),i+=u.nodeSize}),l.syncToMarks([],n,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==cr)&&(a&&this.protectLocalComposition(e,a),Bc(this.contentDOM,this.children,e),Jr&&dg(this.dom))}localCompositionInfo(e,t){let{from:n,to:i}=e.state.selection;if(!(e.state.selection instanceof G)||n<t||i>t+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let a=o.nodeValue,s=pg(this.node.content,a,n-t,i-t);return s<0?null:{node:o,pos:s,text:a}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:n,text:i}){if(this.getDesc(t))return;let o=t;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let a=new Sa(this,o,t,i);e.input.compositionNodes.push(a),this.children=Aa(this.children,n,n+i.length,e,a)}update(e,t,n,i){return this.dirty==ct||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,n,i),!0)}updateInner(e,t,n,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Ye}updateOuterDeco(e){if(Ti(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=Hc(this.dom,this.nodeDOM,Oa(this.outerDeco,this.node,t),Oa(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}};function rc(r,e,t,n,i){Fc(n,e,r);let o=new Wt(void 0,r,e,t,n,n,n,i,0);return o.contentDOM&&o.updateChildren(i,0),o}var xi=class r extends Wt{constructor(e,t,n,i,o,a,s){super(e,t,n,i,o,null,a,s,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,i){return this.dirty==ct||this.dirty!=Ye&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=Ye||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Ye,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,n){let i=this.node.cut(e,t),o=document.createTextNode(i.text);return new r(this.parent,i,this.outerDeco,this.innerDeco,o,o,n)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=ct)}get domAtom(){return!1}isText(e){return this.node.text==e}},ki=class extends mr{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Ye&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}},Ma=class extends Wt{constructor(e,t,n,i,o,a,s,l,u,c){super(e,t,n,i,o,a,s,u,c),this.spec=l}update(e,t,n,i){if(this.dirty==ct)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,t,n);return o&&this.updateInner(e,t,n,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,n,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,i){this.spec.setSelection?this.spec.setSelection(e,t,n.root):super.setSelection(e,t,n,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}};function Bc(r,e,t){let n=r.firstChild,i=!1;for(let o=0;o<e.length;o++){let a=e[o],s=a.dom;if(s.parentNode==r){for(;s!=n;)n=nc(n),i=!0;n=n.nextSibling}else i=!0,r.insertBefore(s,n);if(a instanceof Xr){let l=n?n.previousSibling:r.lastChild;Bc(a.contentDOM,a.children,t),n=l?l.nextSibling:r.firstChild}}for(;n;)n=nc(n),i=!0;i&&t.trackWrites==r&&(t.trackWrites=null)}var Hn=function(r){r&&(this.nodeName=r)};Hn.prototype=Object.create(null);var fr=[new Hn];function Oa(r,e,t){if(r.length==0)return fr;let n=t?fr[0]:new Hn,i=[n];for(let o=0;o<r.length;o++){let a=r[o].type.attrs;if(a){a.nodeName&&i.push(n=new Hn(a.nodeName));for(let s in a){let l=a[s];l!=null&&(t&&i.length==1&&i.push(n=new Hn(e.isInline?"span":"div")),s=="class"?n.class=(n.class?n.class+" ":"")+l:s=="style"?n.style=(n.style?n.style+";":"")+l:s!="nodeName"&&(n[s]=l))}}}return i}function Hc(r,e,t,n){if(t==fr&&n==fr)return e;let i=e;for(let o=0;o<n.length;o++){let a=n[o],s=t[o];if(o){let l;s&&s.nodeName==a.nodeName&&i!=r&&(l=i.parentNode)&&l.nodeName.toLowerCase()==a.nodeName||(l=document.createElement(a.nodeName),l.pmIsDeco=!0,l.appendChild(i),s=fr[0]),i=l}lg(i,s||fr[0],a)}return i}function lg(r,e,t){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in t)&&r.removeAttribute(n);for(let n in t)n!="class"&&n!="style"&&n!="nodeName"&&t[n]!=e[n]&&r.setAttribute(n,t[n]);if(e.class!=t.class){let n=e.class?e.class.split(" ").filter(Boolean):[],i=t.class?t.class.split(" ").filter(Boolean):[];for(let o=0;o<n.length;o++)i.indexOf(n[o])==-1&&r.classList.remove(n[o]);for(let o=0;o<i.length;o++)n.indexOf(i[o])==-1&&r.classList.add(i[o]);r.classList.length==0&&r.removeAttribute("class")}if(e.style!=t.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=n.exec(e.style);)r.style.removeProperty(i[1])}t.style&&(r.style.cssText+=t.style)}}function Fc(r,e,t){return Hc(r,r,fr,Oa(e,t,r.nodeType!=1))}function Ti(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(!r[t].type.eq(e[t].type))return!1;return!0}function nc(r){let e=r.nextSibling;return r.parentNode.removeChild(r),e}var La=class{constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=ug(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let i=0,o=this.stack.length>>1,a=Math.min(o,e.length);for(;i<a&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=Ye,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let s=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let u=this.top.children[l];if(u.matchesMark(e[o])&&!this.isLocked(u.dom)){s=l;break}}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{let l=Xr.create(this.top,e[o],t,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(e,t,n,i){let o=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(e,t,n))o=this.top.children.indexOf(a,this.index);else for(let s=this.index,l=Math.min(this.top.children.length,s+5);s<l;s++){let u=this.top.children[s];if(u.matchesNode(e,t,n)&&!this.preMatch.matched.has(u)){o=s;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,t,n,i,o){let a=this.top.children[i];return a.dirty==ct&&a.dom==a.contentDOM&&(a.dirty=cr),a.update(e,t,n,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==n)return i}return-1}e=t}}updateNextNode(e,t,n,i,o,a){for(let s=this.index;s<this.top.children.length;s++){let l=this.top.children[s];if(l instanceof Wt){let u=this.preMatch.matched.get(l);if(u!=null&&u!=o)return!1;let c=l.dom,f,d=this.isLocked(c)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=ct&&Ti(t,l.outerDeco));if(!d&&l.update(e,t,n,i))return this.destroyBetween(this.index,s),l.dom!=c&&(this.changed=!0),this.index++,!0;if(!d&&(f=this.recreateWrapper(l,e,t,n,i,a)))return this.destroyBetween(this.index,s),this.top.children[this.index]=f,f.contentDOM&&(f.dirty=cr,f.updateChildren(i,a+1),f.dirty=Ye),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,n,i,o,a){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!Ti(n,e.outerDeco)||!i.eq(e.innerDeco))return null;let s=Wt.create(this.top,t,n,i,o,a);if(s.contentDOM){s.children=e.children,e.children=[];for(let l of s.children)l.parent=s}return e.destroy(),s}addNode(e,t,n,i,o){let a=Wt.create(this.top,e,t,n,i,o);a.contentDOM&&a.updateChildren(i,o+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,t,n){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new Ci(this.top,e,t,n);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Xr;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof xi)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Ie||me)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let i=new ki(this.top,[],n,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}};function ug(r,e){let t=e,n=t.children.length,i=r.childCount,o=new Map,a=[];e:for(;i>0;){let s;for(;;)if(n){let u=t.children[n-1];if(u instanceof Xr)t=u,n=u.children.length;else{s=u,n--;break}}else{if(t==e)break e;n=t.parent.children.indexOf(t),t=t.parent}let l=s.node;if(l){if(l!=r.child(i-1))break;--i,o.set(s,i),a.push(s)}}return{index:i,matched:o,matches:a.reverse()}}function cg(r,e){return r.type.side-e.type.side}function fg(r,e,t,n){let i=e.locals(r),o=0;if(i.length==0){for(let u=0;u<r.childCount;u++){let c=r.child(u);n(c,i,e.forChild(o,c),u),o+=c.nodeSize}return}let a=0,s=[],l=null;for(let u=0;;){let c,f;for(;a<i.length&&i[a].to==o;){let m=i[a++];m.widget&&(c?(f||(f=[c])).push(m):c=m)}if(c)if(f){f.sort(cg);for(let m=0;m<f.length;m++)t(f[m],u,!!l)}else t(c,u,!!l);let d,p;if(l)p=-1,d=l,l=null;else if(u<r.childCount)p=u,d=r.child(u++);else break;for(let m=0;m<s.length;m++)s[m].to<=o&&s.splice(m--,1);for(;a<i.length&&i[a].from<=o&&i[a].to>o;)s.push(i[a++]);let h=o+d.nodeSize;if(d.isText){let m=h;a<i.length&&i[a].from<m&&(m=i[a].from);for(let g=0;g<s.length;g++)s[g].to<m&&(m=s[g].to);m<h&&(l=d.cut(m-o),d=d.cut(0,m-o),h=m,p=-1)}else for(;a<i.length&&i[a].to<h;)a++;let v=d.isInline&&!d.isLeaf?s.filter(m=>!m.inline):s.slice();n(d,v,e.forChild(o,d),p),o=h}}function dg(r){if(r.nodeName=="UL"||r.nodeName=="OL"){let e=r.style.cssText;r.style.cssText=e+"; list-style: square !important",window.getComputedStyle(r).listStyle,r.style.cssText=e}}function pg(r,e,t,n){for(let i=0,o=0;i<r.childCount&&o<=n;){let a=r.child(i++),s=o;if(o+=a.nodeSize,!a.isText)continue;let l=a.text;for(;i<r.childCount;){let u=r.child(i++);if(o+=u.nodeSize,!u.isText)break;l+=u.text}if(o>=t){if(o>=n&&l.slice(n-e.length-s,n-s)==e)return n-e.length;let u=s<n?l.lastIndexOf(e,n-s-1):-1;if(u>=0&&u+e.length+s>=t)return s+u;if(t==n&&l.length>=n+e.length-s&&l.slice(n-s,n-s+e.length)==e)return n}}return-1}function Aa(r,e,t,n,i){let o=[];for(let a=0,s=0;a<r.length;a++){let l=r[a],u=s,c=s+=l.size;u>=t||c<=e?o.push(l):(u<e&&o.push(l.slice(0,e-u,n)),i&&(o.push(i),i=void 0),c>t&&o.push(l.slice(t-u,l.size,n)))}return o}function qa(r,e=null){let t=r.domSelectionRange(),n=r.state.doc;if(!t.focusNode)return null;let i=r.docView.nearestDesc(t.focusNode),o=i&&i.size==0,a=r.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(a<0)return null;let s=n.resolve(a),l,u;if(Di(t)){for(l=a;i&&!i.node;)i=i.parent;let f=i.node;if(i&&f.isAtom&&$.isSelectable(f)&&i.parent&&!(f.isInline&&Um(t.focusNode,t.focusOffset,i.dom))){let d=i.posBefore;u=new $(a==d?s:n.resolve(d))}}else{if(t instanceof r.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let f=a,d=a;for(let p=0;p<t.rangeCount;p++){let h=t.getRangeAt(p);f=Math.min(f,r.docView.posFromDOM(h.startContainer,h.startOffset,1)),d=Math.max(d,r.docView.posFromDOM(h.endContainer,h.endOffset,-1))}if(f<0)return null;[l,a]=d==r.state.selection.anchor?[d,f]:[f,d],s=n.resolve(a)}else l=r.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(l<0)return null}let c=n.resolve(l);if(!u){let f=e=="pointer"||r.state.selection.head<s.pos&&!o?1:-1;u=Va(r,c,s,f)}return u}function $c(r){return r.editable?r.hasFocus():qc(r)&&document.activeElement&&document.activeElement.contains(r.dom)}function St(r,e=!1){let t=r.state.selection;if(zc(r,t),!!$c(r)){if(!e&&r.input.mouseDown&&r.input.mouseDown.allowDefault&&me){let n=r.domSelectionRange(),i=r.domObserver.currentSelection;if(n.anchorNode&&i.anchorNode&&vr(n.anchorNode,n.anchorOffset,i.anchorNode,i.anchorOffset)){r.input.mouseDown.delayedSelectionSync=!0,r.domObserver.setCurSelection();return}}if(r.domObserver.disconnectSelection(),r.cursorWrapper)vg(r);else{let{anchor:n,head:i}=t,o,a;ic&&!(t instanceof G)&&(t.$from.parent.inlineContent||(o=oc(r,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(a=oc(r,t.to))),r.docView.setSelection(n,i,r,e),ic&&(o&&ac(o),a&&ac(a)),t.visible?r.dom.classList.remove("ProseMirror-hideselection"):(r.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&hg(r))}r.domObserver.setCurSelection(),r.domObserver.connectSelection()}}var ic=Ie||me&&Oc<63;function oc(r,e){let{node:t,offset:n}=r.docView.domFromPos(e,0),i=n<t.childNodes.length?t.childNodes[n]:null,o=n?t.childNodes[n-1]:null;if(Ie&&i&&i.contentEditable=="false")return ya(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return ya(i);if(o)return ya(o)}}function ya(r){return r.contentEditable="true",Ie&&r.draggable&&(r.draggable=!1,r.wasDraggable=!0),r}function ac(r){r.contentEditable="false",r.wasDraggable&&(r.draggable=!0,r.wasDraggable=null)}function hg(r){let e=r.dom.ownerDocument;e.removeEventListener("selectionchange",r.input.hideSelectionGuard);let t=r.domSelectionRange(),n=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",r.input.hideSelectionGuard=()=>{(t.anchorNode!=n||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",r.input.hideSelectionGuard),setTimeout(()=>{(!$c(r)||r.state.selection.visible)&&r.dom.classList.remove("ProseMirror-hideselection")},20))})}function vg(r){let e=r.domSelection();if(!e)return;let t=r.cursorWrapper.dom,n=t.nodeName=="IMG";n?e.collapse(t.parentNode,we(t)+1):e.collapse(t,0),!n&&!r.state.selection.visible&&qe&&jt<=11&&(t.disabled=!0,t.disabled=!1)}function zc(r,e){if(e instanceof $){let t=r.docView.descAt(e.from);t!=r.lastSelectedViewDesc&&(sc(r),t&&t.selectNode(),r.lastSelectedViewDesc=t)}else sc(r)}function sc(r){r.lastSelectedViewDesc&&(r.lastSelectedViewDesc.parent&&r.lastSelectedViewDesc.deselectNode(),r.lastSelectedViewDesc=void 0)}function Va(r,e,t,n){return r.someProp("createSelectionBetween",i=>i(r,e,t))||G.between(e,t,n)}function lc(r){return r.editable&&!r.hasFocus()?!1:qc(r)}function qc(r){let e=r.domSelectionRange();if(!e.anchorNode)return!1;try{return r.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(r.editable||r.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function mg(r){let e=r.docView.domFromPos(r.state.selection.anchor,0),t=r.domSelectionRange();return vr(e.node,e.offset,t.anchorNode,t.anchorOffset)}function Da(r,e){let{$anchor:t,$head:n}=r.selection,i=e>0?t.max(n):t.min(n),o=i.parent.inlineContent?i.depth?r.doc.resolve(e>0?i.after():i.before()):null:i;return o&&V.findFrom(o,e)}function Ut(r,e){return r.dispatch(r.state.tr.setSelection(e).scrollIntoView()),!0}function uc(r,e,t){let n=r.state.selection;if(n instanceof G)if(t.indexOf("s")>-1){let{$head:i}=n,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let a=r.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return Ut(r,new G(n.$anchor,a))}else if(n.empty){if(r.endOfTextblock(e>0?"forward":"backward")){let i=Da(r.state,e);return i&&i instanceof $?Ut(r,i):!1}else if(!(Ke&&t.indexOf("m")>-1)){let i=n.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,a;if(!o||o.isText)return!1;let s=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(a=r.docView.descAt(s))&&!a.contentDOM?$.isSelectable(o)?Ut(r,new $(e<0?r.state.doc.resolve(i.pos-o.nodeSize):i)):Un?Ut(r,new G(r.state.doc.resolve(e<0?s:s+o.nodeSize))):!1:!1}}else return!1;else{if(n instanceof $&&n.node.isInline)return Ut(r,new G(e>0?n.$to:n.$from));{let i=Da(r.state,e);return i?Ut(r,i):!1}}}function Ei(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function Fn(r,e){let t=r.pmViewDesc;return t&&t.size==0&&(e<0||r.nextSibling||r.nodeName!="BR")}function jr(r,e){return e<0?gg(r):yg(r)}function gg(r){let e=r.domSelectionRange(),t=e.focusNode,n=e.focusOffset;if(!t)return;let i,o,a=!1;for(Xe&&t.nodeType==1&&n<Ei(t)&&Fn(t.childNodes[n],-1)&&(a=!0);;)if(n>0){if(t.nodeType!=1)break;{let s=t.childNodes[n-1];if(Fn(s,-1))i=t,o=--n;else if(s.nodeType==3)t=s,n=t.nodeValue.length;else break}}else{if(Vc(t))break;{let s=t.previousSibling;for(;s&&Fn(s,-1);)i=t.parentNode,o=we(s),s=s.previousSibling;if(s)t=s,n=Ei(t);else{if(t=t.parentNode,t==r.dom)break;n=0}}}a?Na(r,t,n):i&&Na(r,i,o)}function yg(r){let e=r.domSelectionRange(),t=e.focusNode,n=e.focusOffset;if(!t)return;let i=Ei(t),o,a;for(;;)if(n<i){if(t.nodeType!=1)break;let s=t.childNodes[n];if(Fn(s,1))o=t,a=++n;else break}else{if(Vc(t))break;{let s=t.nextSibling;for(;s&&Fn(s,1);)o=s.parentNode,a=we(s)+1,s=s.nextSibling;if(s)t=s,n=0,i=Ei(t);else{if(t=t.parentNode,t==r.dom)break;n=i=0}}}o&&Na(r,o,a)}function Vc(r){let e=r.pmViewDesc;return e&&e.node&&e.node.isBlock}function bg(r,e){for(;r&&e==r.childNodes.length&&!Vn(r);)e=we(r)+1,r=r.parentNode;for(;r&&e<r.childNodes.length;){let t=r.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;r=t,e=0}}function wg(r,e){for(;r&&!e&&!Vn(r);)e=we(r),r=r.parentNode;for(;r&&e;){let t=r.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;r=t,e=r.childNodes.length}}function Na(r,e,t){if(e.nodeType!=3){let o,a;(a=bg(e,t))?(e=a,t=0):(o=wg(e,t))&&(e=o,t=o.nodeValue.length)}let n=r.domSelection();if(!n)return;if(Di(n)){let o=document.createRange();o.setEnd(e,t),o.setStart(e,t),n.removeAllRanges(),n.addRange(o)}else n.extend&&n.extend(e,t);r.domObserver.setCurSelection();let{state:i}=r;setTimeout(()=>{r.state==i&&St(r)},50)}function cc(r,e){let t=r.state.doc.resolve(e);if(!(me||Lc)&&t.parent.inlineContent){let i=r.coordsAtPos(e);if(e>t.start()){let o=r.coordsAtPos(e-1),a=(o.top+o.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<t.end()){let o=r.coordsAtPos(e+1),a=(o.top+o.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(r.dom).direction=="rtl"?"rtl":"ltr"}function fc(r,e,t){let n=r.state.selection;if(n instanceof G&&!n.empty||t.indexOf("s")>-1||Ke&&t.indexOf("m")>-1)return!1;let{$from:i,$to:o}=n;if(!i.parent.inlineContent||r.endOfTextblock(e<0?"up":"down")){let a=Da(r.state,e);if(a&&a instanceof $)return Ut(r,a)}if(!i.parent.inlineContent){let a=e<0?i:o,s=n instanceof Ae?V.near(a,e):V.findFrom(a,e);return s?Ut(r,s):!1}return!1}function dc(r,e){if(!(r.state.selection instanceof G))return!0;let{$head:t,$anchor:n,empty:i}=r.state.selection;if(!t.sameParent(n))return!0;if(!i)return!1;if(r.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(o&&!o.isText){let a=r.state.tr;return e<0?a.delete(t.pos-o.nodeSize,t.pos):a.delete(t.pos,t.pos+o.nodeSize),r.dispatch(a),!0}return!1}function pc(r,e,t){r.domObserver.stop(),e.contentEditable=t,r.domObserver.start()}function Cg(r){if(!Ie||r.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=r.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;pc(r,n,"true"),setTimeout(()=>pc(r,n,"false"),20)}return!1}function xg(r){let e="";return r.ctrlKey&&(e+="c"),r.metaKey&&(e+="m"),r.altKey&&(e+="a"),r.shiftKey&&(e+="s"),e}function kg(r,e){let t=e.keyCode,n=xg(e);if(t==8||Ke&&t==72&&n=="c")return dc(r,-1)||jr(r,-1);if(t==46&&!e.shiftKey||Ke&&t==68&&n=="c")return dc(r,1)||jr(r,1);if(t==13||t==27)return!0;if(t==37||Ke&&t==66&&n=="c"){let i=t==37?cc(r,r.state.selection.from)=="ltr"?-1:1:-1;return uc(r,i,n)||jr(r,i)}else if(t==39||Ke&&t==70&&n=="c"){let i=t==39?cc(r,r.state.selection.from)=="ltr"?1:-1:1;return uc(r,i,n)||jr(r,i)}else{if(t==38||Ke&&t==80&&n=="c")return fc(r,-1,n)||jr(r,-1);if(t==40||Ke&&t==78&&n=="c")return Cg(r)||fc(r,1,n)||jr(r,1);if(n==(Ke?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function Ua(r,e){r.someProp("transformCopied",p=>{e=p(e,r)});let t=[],{content:n,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&n.childCount==1&&n.firstChild.childCount==1;){i--,o--;let p=n.firstChild;t.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),n=p.content}let a=r.someProp("clipboardSerializer")||ar.fromSchema(r.state.schema),s=Kc(),l=s.createElement("div");l.appendChild(a.serializeFragment(n,{document:s}));let u=l.firstChild,c,f=0;for(;u&&u.nodeType==1&&(c=Gc[u.nodeName.toLowerCase()]);){for(let p=c.length-1;p>=0;p--){let h=s.createElement(c[p]);for(;l.firstChild;)h.appendChild(l.firstChild);l.appendChild(h),f++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${o}${f?` -${f}`:""} ${JSON.stringify(t)}`);let d=r.someProp("clipboardTextSerializer",p=>p(e,r))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:d,slice:e}}function Uc(r,e,t,n,i){let o=i.parent.type.spec.code,a,s;if(!t&&!e)return null;let l=!!e&&(n||o||!t);if(l){if(r.someProp("transformPastedText",d=>{e=d(e,o||n,r)}),o)return s=new L(M.from(r.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),r.someProp("transformPasted",d=>{s=d(s,r,!0)}),s;let f=r.someProp("clipboardTextParser",d=>d(e,i,n,r));if(f)s=f;else{let d=i.marks(),{schema:p}=r.state,h=ar.fromSchema(p);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(v=>{let m=a.appendChild(document.createElement("p"));v&&m.appendChild(h.serializeNode(p.text(v,d)))})}}else r.someProp("transformPastedHTML",f=>{t=f(t,r)}),a=Mg(t),Un&&Og(a);let u=a&&a.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let f=+c[3];f>0;f--){let d=a.firstChild;for(;d&&d.nodeType!=1;)d=d.nextSibling;if(!d)break;a=d}if(s||(s=(r.someProp("clipboardParser")||r.someProp("domParser")||$t.fromSchema(r.state.schema)).parseSlice(a,{preserveWhitespace:!!(l||c),context:i,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!Tg.test(d.parentNode.nodeName)?{ignore:!0}:null}})),c)s=Lg(hc(s,+c[1],+c[2]),c[4]);else if(s=L.maxOpen(Eg(s.content,i),!0),s.openStart||s.openEnd){let f=0,d=0;for(let p=s.content.firstChild;f<s.openStart&&!p.type.spec.isolating;f++,p=p.firstChild);for(let p=s.content.lastChild;d<s.openEnd&&!p.type.spec.isolating;d++,p=p.lastChild);s=hc(s,f,d)}return r.someProp("transformPasted",f=>{s=f(s,r,l)}),s}var Tg=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Eg(r,e){if(r.childCount<2)return r;for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.index(t)),o,a=[];if(r.forEach(s=>{if(!a)return;let l=i.findWrapping(s.type),u;if(!l)return a=null;if(u=a.length&&o.length&&jc(l,o,s,a[a.length-1],0))a[a.length-1]=u;else{a.length&&(a[a.length-1]=Wc(a[a.length-1],o.length));let c=_c(s,l);a.push(c),i=i.matchType(c.type),o=l}}),a)return M.from(a)}return r}function _c(r,e,t=0){for(let n=e.length-1;n>=t;n--)r=e[n].create(null,M.from(r));return r}function jc(r,e,t,n,i){if(i<r.length&&i<e.length&&r[i]==e[i]){let o=jc(r,e,t,n.lastChild,i+1);if(o)return n.copy(n.content.replaceChild(n.childCount-1,o));if(n.contentMatchAt(n.childCount).matchType(i==r.length-1?t.type:r[i+1]))return n.copy(n.content.append(M.from(_c(t,r,i+1))))}}function Wc(r,e){if(e==0)return r;let t=r.content.replaceChild(r.childCount-1,Wc(r.lastChild,e-1)),n=r.contentMatchAt(r.childCount).fillBefore(M.empty,!0);return r.copy(t.append(n))}function Ia(r,e,t,n,i,o){let a=e<0?r.firstChild:r.lastChild,s=a.content;return r.childCount>1&&(o=0),i<n-1&&(s=Ia(s,e,t,n,i+1,o)),i>=t&&(s=e<0?a.contentMatchAt(0).fillBefore(s,o<=i).append(s):s.append(a.contentMatchAt(a.childCount).fillBefore(M.empty,!0))),r.replaceChild(e<0?0:r.childCount-1,a.copy(s))}function hc(r,e,t){return e<r.openStart&&(r=new L(Ia(r.content,-1,e,r.openStart,0,r.openEnd),e,r.openEnd)),t<r.openEnd&&(r=new L(Ia(r.content,1,t,r.openEnd,0,0),r.openStart,t)),r}var Gc={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},vc=null;function Kc(){return vc||(vc=document.implementation.createHTMLDocument("title"))}var ba=null;function Sg(r){let e=window.trustedTypes;return e?(ba||(ba=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),ba.createHTML(r)):r}function Mg(r){let e=/^(\s*<meta [^>]*>)*/.exec(r);e&&(r=r.slice(e[0].length));let t=Kc().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(r),i;if((i=n&&Gc[n[1].toLowerCase()])&&(r=i.map(o=>"<"+o+">").join("")+r+i.map(o=>"</"+o+">").reverse().join("")),t.innerHTML=Sg(r),i)for(let o=0;o<i.length;o++)t=t.querySelector(i[o])||t;return t}function Og(r){let e=r.querySelectorAll(me?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let n=e[t];n.childNodes.length==1&&n.textContent=="\xA0"&&n.parentNode&&n.parentNode.replaceChild(r.ownerDocument.createTextNode(" "),n)}}function Lg(r,e){if(!r.size)return r;let t=r.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return r}let{content:i,openStart:o,openEnd:a}=r;for(let s=n.length-2;s>=0;s-=2){let l=t.nodes[n[s]];if(!l||l.hasRequiredAttrs())break;i=M.from(l.create(n[s+1],i)),o++,a++}return new L(i,o,a)}var Be={},He={},Ag={touchstart:!0,touchmove:!0},Ra=class{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}};function Dg(r){for(let e in Be){let t=Be[e];r.dom.addEventListener(e,r.input.eventHandlers[e]=n=>{Ig(r,n)&&!_a(r,n)&&(r.editable||!(n.type in He))&&t(r,n)},Ag[e]?{passive:!0}:void 0)}Ie&&r.dom.addEventListener("input",()=>null),Pa(r)}function _t(r,e){r.input.lastSelectionOrigin=e,r.input.lastSelectionTime=Date.now()}function Ng(r){r.domObserver.stop();for(let e in r.input.eventHandlers)r.dom.removeEventListener(e,r.input.eventHandlers[e]);clearTimeout(r.input.composingTimeout),clearTimeout(r.input.lastIOSEnterFallbackTimeout)}function Pa(r){r.someProp("handleDOMEvents",e=>{for(let t in e)r.input.eventHandlers[t]||r.dom.addEventListener(t,r.input.eventHandlers[t]=n=>_a(r,n))})}function _a(r,e){return r.someProp("handleDOMEvents",t=>{let n=t[e.type];return n?n(r,e)||e.defaultPrevented:!1})}function Ig(r,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=r.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function Rg(r,e){!_a(r,e)&&Be[e.type]&&(r.editable||!(e.type in He))&&Be[e.type](r,e)}He.keydown=(r,e)=>{let t=e;if(r.input.shiftKey=t.keyCode==16||t.shiftKey,!Xc(r,t)&&(r.input.lastKeyCode=t.keyCode,r.input.lastKeyCodeTime=Date.now(),!(Et&&me&&t.keyCode==13)))if(t.keyCode!=229&&r.domObserver.forceFlush(),Jr&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let n=Date.now();r.input.lastIOSEnter=n,r.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{r.input.lastIOSEnter==n&&(r.someProp("handleKeyDown",i=>i(r,ur(13,"Enter"))),r.input.lastIOSEnter=0)},200)}else r.someProp("handleKeyDown",n=>n(r,t))||kg(r,t)?t.preventDefault():_t(r,"key")};He.keyup=(r,e)=>{e.keyCode==16&&(r.input.shiftKey=!1)};He.keypress=(r,e)=>{let t=e;if(Xc(r,t)||!t.charCode||t.ctrlKey&&!t.altKey||Ke&&t.metaKey)return;if(r.someProp("handleKeyPress",i=>i(r,t))){t.preventDefault();return}let n=r.state.selection;if(!(n instanceof G)||!n.$from.sameParent(n.$to)){let i=String.fromCharCode(t.charCode),o=()=>r.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!r.someProp("handleTextInput",a=>a(r,n.$from.pos,n.$to.pos,i,o))&&r.dispatch(o()),t.preventDefault()}};function Ni(r){return{left:r.clientX,top:r.clientY}}function Pg(r,e){let t=e.x-r.clientX,n=e.y-r.clientY;return t*t+n*n<100}function ja(r,e,t,n,i){if(n==-1)return!1;let o=r.state.doc.resolve(n);for(let a=o.depth+1;a>0;a--)if(r.someProp(e,s=>a>o.depth?s(r,t,o.nodeAfter,o.before(a),i,!0):s(r,t,o.node(a),o.before(a),i,!1)))return!0;return!1}function Gr(r,e,t){if(r.focused||r.focus(),r.state.selection.eq(e))return;let n=r.state.tr.setSelection(e);t=="pointer"&&n.setMeta("pointer",!0),r.dispatch(n)}function Bg(r,e){if(e==-1)return!1;let t=r.state.doc.resolve(e),n=t.nodeAfter;return n&&n.isAtom&&$.isSelectable(n)?(Gr(r,new $(t),"pointer"),!0):!1}function Hg(r,e){if(e==-1)return!1;let t=r.state.selection,n,i;t instanceof $&&(n=t.node);let o=r.state.doc.resolve(e);for(let a=o.depth+1;a>0;a--){let s=a>o.depth?o.nodeAfter:o.node(a);if($.isSelectable(s)){n&&t.$from.depth>0&&a>=t.$from.depth&&o.before(t.$from.depth+1)==t.$from.pos?i=o.before(t.$from.depth):i=o.before(a);break}}return i!=null?(Gr(r,$.create(r.state.doc,i),"pointer"),!0):!1}function Fg(r,e,t,n,i){return ja(r,"handleClickOn",e,t,n)||r.someProp("handleClick",o=>o(r,e,n))||(i?Hg(r,t):Bg(r,t))}function $g(r,e,t,n){return ja(r,"handleDoubleClickOn",e,t,n)||r.someProp("handleDoubleClick",i=>i(r,e,n))}function zg(r,e,t,n){return ja(r,"handleTripleClickOn",e,t,n)||r.someProp("handleTripleClick",i=>i(r,e,n))||qg(r,t,n)}function qg(r,e,t){if(t.button!=0)return!1;let n=r.state.doc;if(e==-1)return n.inlineContent?(Gr(r,G.create(n,0,n.content.size),"pointer"),!0):!1;let i=n.resolve(e);for(let o=i.depth+1;o>0;o--){let a=o>i.depth?i.nodeAfter:i.node(o),s=i.before(o);if(a.inlineContent)Gr(r,G.create(n,s+1,s+1+a.content.size),"pointer");else if($.isSelectable(a))Gr(r,$.create(n,s),"pointer");else continue;return!0}}function Wa(r){return Si(r)}var Jc=Ke?"metaKey":"ctrlKey";Be.mousedown=(r,e)=>{let t=e;r.input.shiftKey=t.shiftKey;let n=Wa(r),i=Date.now(),o="singleClick";i-r.input.lastClick.time<500&&Pg(t,r.input.lastClick)&&!t[Jc]&&r.input.lastClick.button==t.button&&(r.input.lastClick.type=="singleClick"?o="doubleClick":r.input.lastClick.type=="doubleClick"&&(o="tripleClick")),r.input.lastClick={time:i,x:t.clientX,y:t.clientY,type:o,button:t.button};let a=r.posAtCoords(Ni(t));a&&(o=="singleClick"?(r.input.mouseDown&&r.input.mouseDown.done(),r.input.mouseDown=new Ba(r,a,t,!!n)):(o=="doubleClick"?$g:zg)(r,a.pos,a.inside,t)?t.preventDefault():_t(r,"pointer"))};var Ba=class{constructor(e,t,n,i){this.view=e,this.pos=t,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[Jc],this.allowDefault=n.shiftKey;let o,a;if(t.inside>-1)o=e.state.doc.nodeAt(t.inside),a=t.inside;else{let c=e.state.doc.resolve(t.pos);o=c.parent,a=c.depth?c.before():0}let s=i?null:n.target,l=s?e.docView.nearestDesc(s,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:u}=e.state;(n.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||u instanceof $&&u.from<=a&&u.to>a)&&(this.mightDrag={node:o,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Xe&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),_t(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>St(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Ni(e))),this.updateAllowDefault(e),this.allowDefault||!t?_t(this.view,"pointer"):Fg(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Ie&&this.mightDrag&&!this.mightDrag.node.isAtom||me&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Gr(this.view,V.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):_t(this.view,"pointer")}move(e){this.updateAllowDefault(e),_t(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}};Be.touchstart=r=>{r.input.lastTouch=Date.now(),Wa(r),_t(r,"pointer")};Be.touchmove=r=>{r.input.lastTouch=Date.now(),_t(r,"pointer")};Be.contextmenu=r=>Wa(r);function Xc(r,e){return r.composing?!0:Ie&&Math.abs(e.timeStamp-r.input.compositionEndedAt)<500?(r.input.compositionEndedAt=-2e8,!0):!1}var Vg=Et?5e3:-1;He.compositionstart=He.compositionupdate=r=>{if(!r.composing){r.domObserver.flush();let{state:e}=r,t=e.selection.$to;if(e.selection instanceof G&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)||me&&Lc&&Ug(r)))r.markCursor=r.state.storedMarks||t.marks(),Si(r,!0),r.markCursor=null;else if(Si(r,!e.selection.empty),Xe&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let n=r.domSelectionRange();for(let i=n.focusNode,o=n.focusOffset;i&&i.nodeType==1&&o!=0;){let a=o<0?i.lastChild:i.childNodes[o-1];if(!a)break;if(a.nodeType==3){let s=r.domSelection();s&&s.collapse(a,a.nodeValue.length);break}else i=a,o=-1}}r.input.composing=!0}Yc(r,Vg)};function Ug(r){let{focusNode:e,focusOffset:t}=r.domSelectionRange();if(!e||e.nodeType!=1||t>=e.childNodes.length)return!1;let n=e.childNodes[t];return n.nodeType==1&&n.contentEditable=="false"}He.compositionend=(r,e)=>{r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=e.timeStamp,r.input.compositionPendingChanges=r.domObserver.pendingRecords().length?r.input.compositionID:0,r.input.compositionNode=null,r.input.compositionPendingChanges&&Promise.resolve().then(()=>r.domObserver.flush()),r.input.compositionID++,Yc(r,20))};function Yc(r,e){clearTimeout(r.input.composingTimeout),e>-1&&(r.input.composingTimeout=setTimeout(()=>Si(r),e))}function Qc(r){for(r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=jg());r.input.compositionNodes.length>0;)r.input.compositionNodes.pop().markParentsDirty()}function _g(r){let e=r.domSelectionRange();if(!e.focusNode)return null;let t=qm(e.focusNode,e.focusOffset),n=Vm(e.focusNode,e.focusOffset);if(t&&n&&t!=n){let i=n.pmViewDesc,o=r.domObserver.lastChangedTextNode;if(t==o||n==o)return o;if(!i||!i.isText(n.nodeValue))return n;if(r.input.compositionNode==n){let a=t.pmViewDesc;if(!(!a||!a.isText(t.nodeValue)))return n}}return t||n}function jg(){let r=document.createEvent("Event");return r.initEvent("event",!0,!0),r.timeStamp}function Si(r,e=!1){if(!(Et&&r.domObserver.flushingSoon>=0)){if(r.domObserver.forceFlush(),Qc(r),e||r.docView&&r.docView.dirty){let t=qa(r),n=r.state.selection;return t&&!t.eq(n)?r.dispatch(r.state.tr.setSelection(t)):(r.markCursor||e)&&!n.$from.node(n.$from.sharedDepth(n.to)).inlineContent?r.dispatch(r.state.tr.deleteSelection()):r.updateState(r.state),!0}return!1}}function Wg(r,e){if(!r.dom.parentNode)return;let t=r.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),i=document.createRange();i.selectNodeContents(e),r.dom.blur(),n.removeAllRanges(),n.addRange(i),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),r.focus()},50)}var $n=qe&&jt<15||Jr&&Wm<604;Be.copy=He.cut=(r,e)=>{let t=e,n=r.state.selection,i=t.type=="cut";if(n.empty)return;let o=$n?null:t.clipboardData,a=n.content(),{dom:s,text:l}=Ua(r,a);o?(t.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",l)):Wg(r,s),i&&r.dispatch(r.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Gg(r){return r.openStart==0&&r.openEnd==0&&r.content.childCount==1?r.content.firstChild:null}function Kg(r,e){if(!r.dom.parentNode)return;let t=r.input.shiftKey||r.state.selection.$from.parent.type.spec.code,n=r.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let i=r.input.shiftKey&&r.input.lastKeyCode!=45;setTimeout(()=>{r.focus(),n.parentNode&&n.parentNode.removeChild(n),t?zn(r,n.value,null,i,e):zn(r,n.textContent,n.innerHTML,i,e)},50)}function zn(r,e,t,n,i){let o=Uc(r,e,t,n,r.state.selection.$from);if(r.someProp("handlePaste",l=>l(r,i,o||L.empty)))return!0;if(!o)return!1;let a=Gg(o),s=a?r.state.tr.replaceSelectionWith(a,n):r.state.tr.replaceSelection(o);return r.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Zc(r){let e=r.getData("text/plain")||r.getData("Text");if(e)return e;let t=r.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}He.paste=(r,e)=>{let t=e;if(r.composing&&!Et)return;let n=$n?null:t.clipboardData,i=r.input.shiftKey&&r.input.lastKeyCode!=45;n&&zn(r,Zc(n),n.getData("text/html"),i,t)?t.preventDefault():Kg(r,t)};var Mi=class{constructor(e,t,n){this.slice=e,this.move=t,this.node=n}},Jg=Ke?"altKey":"ctrlKey";function ef(r,e){let t=r.someProp("dragCopies",n=>!n(e));return t??!e[Jg]}Be.dragstart=(r,e)=>{let t=e,n=r.input.mouseDown;if(n&&n.done(),!t.dataTransfer)return;let i=r.state.selection,o=i.empty?null:r.posAtCoords(Ni(t)),a;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof $?i.to-1:i.to))){if(n&&n.mightDrag)a=$.create(r.state.doc,n.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let f=r.docView.nearestDesc(t.target,!0);f&&f.node.type.spec.draggable&&f!=r.docView&&(a=$.create(r.state.doc,f.posBefore))}}let s=(a||r.state.selection).content(),{dom:l,text:u,slice:c}=Ua(r,s);(!t.dataTransfer.files.length||!me||Oc>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData($n?"Text":"text/html",l.innerHTML),t.dataTransfer.effectAllowed="copyMove",$n||t.dataTransfer.setData("text/plain",u),r.dragging=new Mi(c,ef(r,t),a)};Be.dragend=r=>{let e=r.dragging;window.setTimeout(()=>{r.dragging==e&&(r.dragging=null)},50)};He.dragover=He.dragenter=(r,e)=>e.preventDefault();He.drop=(r,e)=>{try{Xg(r,e,r.dragging)}finally{r.dragging=null}};function Xg(r,e,t){if(!e.dataTransfer)return;let n=r.posAtCoords(Ni(e));if(!n)return;let i=r.state.doc.resolve(n.pos),o=t&&t.slice;o?r.someProp("transformPasted",p=>{o=p(o,r,!1)}):o=Uc(r,Zc(e.dataTransfer),$n?null:e.dataTransfer.getData("text/html"),!1,i);let a=!!(t&&ef(r,e));if(r.someProp("handleDrop",p=>p(r,e,o||L.empty,a))){e.preventDefault();return}if(!o)return;e.preventDefault();let s=o?Pu(r.state.doc,i.pos,o):i.pos;s==null&&(s=i.pos);let l=r.state.tr;if(a){let{node:p}=t;p?p.replace(l):l.deleteSelection()}let u=l.mapping.map(s),c=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,f=l.doc;if(c?l.replaceRangeWith(u,u,o.content.firstChild):l.replaceRange(u,u,o),l.doc.eq(f))return;let d=l.doc.resolve(u);if(c&&$.isSelectable(o.content.firstChild)&&d.nodeAfter&&d.nodeAfter.sameMarkup(o.content.firstChild))l.setSelection(new $(d));else{let p=l.mapping.map(s);l.mapping.maps[l.mapping.maps.length-1].forEach((h,v,m,g)=>p=g),l.setSelection(Va(r,d,l.doc.resolve(p)))}r.focus(),r.dispatch(l.setMeta("uiEvent","drop"))}Be.focus=r=>{r.input.lastFocus=Date.now(),r.focused||(r.domObserver.stop(),r.dom.classList.add("ProseMirror-focused"),r.domObserver.start(),r.focused=!0,setTimeout(()=>{r.docView&&r.hasFocus()&&!r.domObserver.currentSelection.eq(r.domSelectionRange())&&St(r)},20))};Be.blur=(r,e)=>{let t=e;r.focused&&(r.domObserver.stop(),r.dom.classList.remove("ProseMirror-focused"),r.domObserver.start(),t.relatedTarget&&r.dom.contains(t.relatedTarget)&&r.domObserver.currentSelection.clear(),r.focused=!1)};Be.beforeinput=(r,e)=>{if(me&&Et&&e.inputType=="deleteContentBackward"){r.domObserver.flushSoon();let{domChangeCount:n}=r.input;setTimeout(()=>{if(r.input.domChangeCount!=n||(r.dom.blur(),r.focus(),r.someProp("handleKeyDown",o=>o(r,ur(8,"Backspace")))))return;let{$cursor:i}=r.state.selection;i&&i.pos>0&&r.dispatch(r.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let r in He)Be[r]=He[r];function qn(r,e){if(r==e)return!0;for(let t in r)if(r[t]!==e[t])return!1;for(let t in e)if(!(t in r))return!1;return!0}var Oi=class r{constructor(e,t){this.toDOM=e,this.spec=t||pr,this.side=this.spec.side||0}map(e,t,n,i){let{pos:o,deleted:a}=e.mapResult(t.from+i,this.side<0?-1:1);return a?null:new Qe(o-n,o-n,this)}valid(){return!0}eq(e){return this==e||e instanceof r&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&qn(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}},dr=class r{constructor(e,t){this.attrs=e,this.spec=t||pr}map(e,t,n,i){let o=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-n,a=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-n;return o>=a?null:new Qe(o,a,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof r&&qn(this.attrs,e.attrs)&&qn(this.spec,e.spec)}static is(e){return e.type instanceof r}destroy(){}},Ha=class r{constructor(e,t){this.attrs=e,this.spec=t||pr}map(e,t,n,i){let o=e.mapResult(t.from+i,1);if(o.deleted)return null;let a=e.mapResult(t.to+i,-1);return a.deleted||a.pos<=o.pos?null:new Qe(o.pos-n,a.pos-n,this)}valid(e,t){let{index:n,offset:i}=e.content.findIndex(t.from),o;return i==t.from&&!(o=e.child(n)).isText&&i+o.nodeSize==t.to}eq(e){return this==e||e instanceof r&&qn(this.attrs,e.attrs)&&qn(this.spec,e.spec)}destroy(){}},Qe=class r{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new r(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new r(e,e,new Oi(t,n))}static inline(e,t,n,i){return new r(e,t,new dr(n,i))}static node(e,t,n,i){return new r(e,t,new Ha(n,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof dr}get widget(){return this.type instanceof Oi}},Wr=[],pr={},Ne=class r{constructor(e,t){this.local=e.length?e:Wr,this.children=t.length?t:Wr}static create(e,t){return t.length?Ai(t,e,0,pr):De}find(e,t,n){let i=[];return this.findInner(e??0,t??1e9,i,0,n),i}findInner(e,t,n,i,o){for(let a=0;a<this.local.length;a++){let s=this.local[a];s.from<=t&&s.to>=e&&(!o||o(s.spec))&&n.push(s.copy(s.from+i,s.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<t&&this.children[a+1]>e){let s=this.children[a]+1;this.children[a+2].findInner(e-s,t-s,n,i+s,o)}}map(e,t,n){return this==De||e.maps.length==0?this:this.mapInner(e,t,0,0,n||pr)}mapInner(e,t,n,i,o){let a;for(let s=0;s<this.local.length;s++){let l=this.local[s].map(e,n,i);l&&l.type.valid(t,l)?(a||(a=[])).push(l):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?Yg(this.children,a||[],e,t,n,i,o):a?new r(a.sort(hr),Wr):De}add(e,t){return t.length?this==De?r.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let i,o=0;e.forEach((s,l)=>{let u=l+n,c;if(c=rf(t,s,u)){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(s,c,u+1):i.splice(o,0,l,l+s.nodeSize,Ai(c,s,u+1,pr)),o+=3}});let a=tf(o?nf(t):t,-n);for(let s=0;s<a.length;s++)a[s].type.valid(e,a[s])||a.splice(s--,1);return new r(a.length?this.local.concat(a).sort(hr):this.local,i||this.children)}remove(e){return e.length==0||this==De?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,i=this.local;for(let o=0;o<n.length;o+=3){let a,s=n[o]+t,l=n[o+1]+t;for(let c=0,f;c<e.length;c++)(f=e[c])&&f.from>s&&f.to<l&&(e[c]=null,(a||(a=[])).push(f));if(!a)continue;n==this.children&&(n=this.children.slice());let u=n[o+2].removeInner(a,s+1);u!=De?n[o+2]=u:(n.splice(o,3),o-=3)}if(i.length){for(let o=0,a;o<e.length;o++)if(a=e[o])for(let s=0;s<i.length;s++)i[s].eq(a,t)&&(i==this.local&&(i=this.local.slice()),i.splice(s--,1))}return n==this.children&&i==this.local?this:i.length||n.length?new r(i,n):De}forChild(e,t){if(this==De)return this;if(t.isLeaf)return r.empty;let n,i;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=e){this.children[s]==e&&(n=this.children[s+2]);break}let o=e+1,a=o+t.content.size;for(let s=0;s<this.local.length;s++){let l=this.local[s];if(l.from<a&&l.to>o&&l.type instanceof dr){let u=Math.max(o,l.from)-o,c=Math.min(a,l.to)-o;u<c&&(i||(i=[])).push(l.copy(u,c))}}if(i){let s=new r(i.sort(hr),Wr);return n?new Li([s,n]):s}return n||De}eq(e){if(this==e)return!0;if(!(e instanceof r)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return Ga(this.localsInner(e))}localsInner(e){if(this==De)return Wr;if(e.inlineContent||!this.local.some(dr.is))return this.local;let t=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof dr||t.push(this.local[n]);return t}forEachSet(e){e(this)}};Ne.empty=new Ne([],[]);Ne.removeOverlap=Ga;var De=Ne.empty,Li=class r{constructor(e){this.members=e}map(e,t){let n=this.members.map(i=>i.map(e,t,pr));return r.from(n)}forChild(e,t){if(t.isLeaf)return Ne.empty;let n=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,t);o!=De&&(o instanceof r?n=n.concat(o.members):n.push(o))}return r.from(n)}eq(e){if(!(e instanceof r)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!t)t=o;else{n&&(t=t.slice(),n=!1);for(let a=0;a<o.length;a++)t.push(o[a])}}return t?Ga(n?t:t.sort(hr)):Wr}static from(e){switch(e.length){case 0:return De;case 1:return e[0];default:return new r(e.every(t=>t instanceof Ne)?e:e.reduce((t,n)=>t.concat(n instanceof Ne?n:n.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}};function Yg(r,e,t,n,i,o,a){let s=r.slice();for(let u=0,c=o;u<t.maps.length;u++){let f=0;t.maps[u].forEach((d,p,h,v)=>{let m=v-h-(p-d);for(let g=0;g<s.length;g+=3){let w=s[g+1];if(w<0||d>w+c-f)continue;let y=s[g]+c-f;p>=y?s[g+1]=d<=y?-2:-1:d>=c&&m&&(s[g]+=m,s[g+1]+=m)}f+=m}),c=t.maps[u].map(c,-1)}let l=!1;for(let u=0;u<s.length;u+=3)if(s[u+1]<0){if(s[u+1]==-2){l=!0,s[u+1]=-1;continue}let c=t.map(r[u]+o),f=c-i;if(f<0||f>=n.content.size){l=!0;continue}let d=t.map(r[u+1]+o,-1),p=d-i,{index:h,offset:v}=n.content.findIndex(f),m=n.maybeChild(h);if(m&&v==f&&v+m.nodeSize==p){let g=s[u+2].mapInner(t,m,c+1,r[u]+o+1,a);g!=De?(s[u]=f,s[u+1]=p,s[u+2]=g):(s[u+1]=-2,l=!0)}else l=!0}if(l){let u=Qg(s,r,e,t,i,o,a),c=Ai(u,n,0,a);e=c.local;for(let f=0;f<s.length;f+=3)s[f+1]<0&&(s.splice(f,3),f-=3);for(let f=0,d=0;f<c.children.length;f+=3){let p=c.children[f];for(;d<s.length&&s[d]<p;)d+=3;s.splice(d,0,c.children[f],c.children[f+1],c.children[f+2])}}return new Ne(e.sort(hr),s)}function tf(r,e){if(!e||!r.length)return r;let t=[];for(let n=0;n<r.length;n++){let i=r[n];t.push(new Qe(i.from+e,i.to+e,i.type))}return t}function Qg(r,e,t,n,i,o,a){function s(l,u){for(let c=0;c<l.local.length;c++){let f=l.local[c].map(n,i,u);f?t.push(f):a.onRemove&&a.onRemove(l.local[c].spec)}for(let c=0;c<l.children.length;c+=3)s(l.children[c+2],l.children[c]+u+1)}for(let l=0;l<r.length;l+=3)r[l+1]==-1&&s(r[l+2],e[l]+o+1);return t}function rf(r,e,t){if(e.isLeaf)return null;let n=t+e.nodeSize,i=null;for(let o=0,a;o<r.length;o++)(a=r[o])&&a.from>t&&a.to<n&&((i||(i=[])).push(a),r[o]=null);return i}function nf(r){let e=[];for(let t=0;t<r.length;t++)r[t]!=null&&e.push(r[t]);return e}function Ai(r,e,t,n){let i=[],o=!1;e.forEach((s,l)=>{let u=rf(r,s,l+t);if(u){o=!0;let c=Ai(u,s,t+l+1,n);c!=De&&i.push(l,l+s.nodeSize,c)}});let a=tf(o?nf(r):r,-t).sort(hr);for(let s=0;s<a.length;s++)a[s].type.valid(e,a[s])||(n.onRemove&&n.onRemove(a[s].spec),a.splice(s--,1));return a.length||i.length?new Ne(a,i):De}function hr(r,e){return r.from-e.from||r.to-e.to}function Ga(r){let e=r;for(let t=0;t<e.length-1;t++){let n=e[t];if(n.from!=n.to)for(let i=t+1;i<e.length;i++){let o=e[i];if(o.from==n.from){o.to!=n.to&&(e==r&&(e=r.slice()),e[i]=o.copy(o.from,n.to),mc(e,i+1,o.copy(n.to,o.to)));continue}else{o.from<n.to&&(e==r&&(e=r.slice()),e[t]=n.copy(n.from,o.from),mc(e,i,n.copy(o.from,n.to)));break}}}return e}function mc(r,e,t){for(;e<r.length&&hr(t,r[e])>0;)e++;r.splice(e,0,t)}function wa(r){let e=[];return r.someProp("decorations",t=>{let n=t(r.state);n&&n!=De&&e.push(n)}),r.cursorWrapper&&e.push(Ne.create(r.state.doc,[r.cursorWrapper.deco])),Li.from(e)}var Zg={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},ey=qe&&jt<=11,Fa=class{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}},$a=class{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Fa,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let i=0;i<n.length;i++)this.queue.push(n[i]);qe&&jt<=11&&n.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),ey&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Zg)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(lc(this.view)){if(this.suppressingSelectionUpdates)return St(this.view);if(qe&&jt<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&vr(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,n;for(let o=e.focusNode;o;o=Kr(o))t.add(o);for(let o=e.anchorNode;o;o=Kr(o))if(t.has(o)){n=o;break}let i=n&&this.view.docView.nearestDesc(n);if(i&&i.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let n=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&lc(e)&&!this.ignoreSelectionChange(n),o=-1,a=-1,s=!1,l=[];if(e.editable)for(let c=0;c<t.length;c++){let f=this.registerMutation(t[c],l);f&&(o=o<0?f.from:Math.min(f.from,o),a=a<0?f.to:Math.max(f.to,a),f.typeOver&&(s=!0))}if(Xe&&l.length){let c=l.filter(f=>f.nodeName=="BR");if(c.length==2){let[f,d]=c;f.parentNode&&f.parentNode.parentNode==d.parentNode?d.remove():f.remove()}else{let{focusNode:f}=this.currentSelection;for(let d of c){let p=d.parentNode;p&&p.nodeName=="LI"&&(!f||ny(e,f)!=p)&&d.remove()}}}else if((me||Ie)&&l.some(c=>c.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let c of l)if(c.nodeName=="BR"&&c.parentNode){let f=c.nextSibling;f&&f.nodeType==1&&f.contentEditable=="false"&&c.parentNode.removeChild(c)}}let u=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Di(n)&&(u=qa(e))&&u.eq(V.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,St(e),this.currentSelection.set(n),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,a),ty(e)),this.handleDOMChange(o,a,s,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||St(e),this.currentSelection.set(n))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++){let f=e.addedNodes[c];t.push(f),f.nodeType==3&&(this.lastChangedTextNode=f)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let i=e.previousSibling,o=e.nextSibling;if(qe&&jt<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:f,nextSibling:d}=e.addedNodes[c];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f),(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(o=d)}let a=i&&i.parentNode==e.target?we(i)+1:0,s=n.localPosFromDOM(e.target,a,-1),l=o&&o.parentNode==e.target?we(o):e.target.childNodes.length,u=n.localPosFromDOM(e.target,l,1);return{from:s,to:u}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}},gc=new WeakMap,yc=!1;function ty(r){if(!gc.has(r)&&(gc.set(r,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(r.dom).whiteSpace)!==-1)){if(r.requiresGeckoHackNode=Xe,yc)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),yc=!0}}function bc(r,e){let t=e.startContainer,n=e.startOffset,i=e.endContainer,o=e.endOffset,a=r.domAtPos(r.state.selection.anchor);return vr(a.node,a.offset,i,o)&&([t,n,i,o]=[i,o,t,n]),{anchorNode:t,anchorOffset:n,focusNode:i,focusOffset:o}}function ry(r,e){if(e.getComposedRanges){let i=e.getComposedRanges(r.root)[0];if(i)return bc(r,i)}let t;function n(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return r.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),r.dom.removeEventListener("beforeinput",n,!0),t?bc(r,t):null}function ny(r,e){for(let t=e.parentNode;t&&t!=r.dom;t=t.parentNode){let n=r.docView.nearestDesc(t,!0);if(n&&n.node.isBlock)return t}return null}function iy(r,e,t){let{node:n,fromOffset:i,toOffset:o,from:a,to:s}=r.docView.parseRange(e,t),l=r.domSelectionRange(),u,c=l.anchorNode;if(c&&r.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:l.anchorOffset}],Di(l)||u.push({node:l.focusNode,offset:l.focusOffset})),me&&r.input.lastKeyCode===8)for(let m=o;m>i;m--){let g=n.childNodes[m-1],w=g.pmViewDesc;if(g.nodeName=="BR"&&!w){o=m;break}if(!w||w.size)break}let f=r.state.doc,d=r.someProp("domParser")||$t.fromSchema(r.state.schema),p=f.resolve(a),h=null,v=d.parse(n,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:o,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:oy,context:p});if(u&&u[0].pos!=null){let m=u[0].pos,g=u[1]&&u[1].pos;g==null&&(g=m),h={anchor:m+a,head:g+a}}return{doc:v,sel:h,from:a,to:s}}function oy(r){let e=r.pmViewDesc;if(e)return e.parseRule();if(r.nodeName=="BR"&&r.parentNode){if(Ie&&/^(ul|ol)$/i.test(r.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(r.parentNode.lastChild==r||Ie&&/^(tr|table)$/i.test(r.parentNode.nodeName))return{ignore:!0}}else if(r.nodeName=="IMG"&&r.getAttribute("mark-placeholder"))return{ignore:!0};return null}var ay=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function sy(r,e,t,n,i){let o=r.input.compositionPendingChanges||(r.composing?r.input.compositionID:0);if(r.input.compositionPendingChanges=0,e<0){let T=r.input.lastSelectionTime>Date.now()-50?r.input.lastSelectionOrigin:null,S=qa(r,T);if(S&&!r.state.selection.eq(S)){if(me&&Et&&r.input.lastKeyCode===13&&Date.now()-100<r.input.lastKeyCodeTime&&r.someProp("handleKeyDown",q=>q(r,ur(13,"Enter"))))return;let A=r.state.tr.setSelection(S);T=="pointer"?A.setMeta("pointer",!0):T=="key"&&A.scrollIntoView(),o&&A.setMeta("composition",o),r.dispatch(A)}return}let a=r.state.doc.resolve(e),s=a.sharedDepth(t);e=a.before(s+1),t=r.state.doc.resolve(t).after(s+1);let l=r.state.selection,u=iy(r,e,t),c=r.state.doc,f=c.slice(u.from,u.to),d,p;r.input.lastKeyCode===8&&Date.now()-100<r.input.lastKeyCodeTime?(d=r.state.selection.to,p="end"):(d=r.state.selection.from,p="start"),r.input.lastKeyCode=null;let h=cy(f.content,u.doc.content,u.from,d,p);if(h&&r.input.domChangeCount++,(Jr&&r.input.lastIOSEnter>Date.now()-225||Et)&&i.some(T=>T.nodeType==1&&!ay.test(T.nodeName))&&(!h||h.endA>=h.endB)&&r.someProp("handleKeyDown",T=>T(r,ur(13,"Enter")))){r.input.lastIOSEnter=0;return}if(!h)if(n&&l instanceof G&&!l.empty&&l.$head.sameParent(l.$anchor)&&!r.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))h={start:l.from,endA:l.to,endB:l.to};else{if(u.sel){let T=wc(r,r.state.doc,u.sel);if(T&&!T.eq(r.state.selection)){let S=r.state.tr.setSelection(T);o&&S.setMeta("composition",o),r.dispatch(S)}}return}r.state.selection.from<r.state.selection.to&&h.start==h.endB&&r.state.selection instanceof G&&(h.start>r.state.selection.from&&h.start<=r.state.selection.from+2&&r.state.selection.from>=u.from?h.start=r.state.selection.from:h.endA<r.state.selection.to&&h.endA>=r.state.selection.to-2&&r.state.selection.to<=u.to&&(h.endB+=r.state.selection.to-h.endA,h.endA=r.state.selection.to)),qe&&jt<=11&&h.endB==h.start+1&&h.endA==h.start&&h.start>u.from&&u.doc.textBetween(h.start-u.from-1,h.start-u.from+1)==" \xA0"&&(h.start--,h.endA--,h.endB--);let v=u.doc.resolveNoCache(h.start-u.from),m=u.doc.resolveNoCache(h.endB-u.from),g=c.resolve(h.start),w=v.sameParent(m)&&v.parent.inlineContent&&g.end()>=h.endA;if((Jr&&r.input.lastIOSEnter>Date.now()-225&&(!w||i.some(T=>T.nodeName=="DIV"||T.nodeName=="P"))||!w&&v.pos<u.doc.content.size&&(!v.sameParent(m)||!v.parent.inlineContent)&&v.pos<m.pos&&!/\S/.test(u.doc.textBetween(v.pos,m.pos,"","")))&&r.someProp("handleKeyDown",T=>T(r,ur(13,"Enter")))){r.input.lastIOSEnter=0;return}if(r.state.selection.anchor>h.start&&uy(c,h.start,h.endA,v,m)&&r.someProp("handleKeyDown",T=>T(r,ur(8,"Backspace")))){Et&&me&&r.domObserver.suppressSelectionUpdates();return}me&&h.endB==h.start&&(r.input.lastChromeDelete=Date.now()),Et&&!w&&v.start()!=m.start()&&m.parentOffset==0&&v.depth==m.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==h.endA&&(h.endB-=2,m=u.doc.resolveNoCache(h.endB-u.from),setTimeout(()=>{r.someProp("handleKeyDown",function(T){return T(r,ur(13,"Enter"))})},20));let y=h.start,x=h.endA,b=T=>{let S=T||r.state.tr.replace(y,x,u.doc.slice(h.start-u.from,h.endB-u.from));if(u.sel){let A=wc(r,S.doc,u.sel);A&&!(me&&r.composing&&A.empty&&(h.start!=h.endB||r.input.lastChromeDelete<Date.now()-100)&&(A.head==y||A.head==S.mapping.map(x)-1)||qe&&A.empty&&A.head==y)&&S.setSelection(A)}return o&&S.setMeta("composition",o),S.scrollIntoView()},E;if(w)if(v.pos==m.pos){qe&&jt<=11&&v.parentOffset==0&&(r.domObserver.suppressSelectionUpdates(),setTimeout(()=>St(r),20));let T=b(r.state.tr.delete(y,x)),S=c.resolve(h.start).marksAcross(c.resolve(h.endA));S&&T.ensureMarks(S),r.dispatch(T)}else if(h.endA==h.endB&&(E=ly(v.parent.content.cut(v.parentOffset,m.parentOffset),g.parent.content.cut(g.parentOffset,h.endA-g.start())))){let T=b(r.state.tr);E.type=="add"?T.addMark(y,x,E.mark):T.removeMark(y,x,E.mark),r.dispatch(T)}else if(v.parent.child(v.index()).isText&&v.index()==m.index()-(m.textOffset?0:1)){let T=v.parent.textBetween(v.parentOffset,m.parentOffset),S=()=>b(r.state.tr.insertText(T,y,x));r.someProp("handleTextInput",A=>A(r,y,x,T,S))||r.dispatch(S())}else r.dispatch(b());else r.dispatch(b())}function wc(r,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:Va(r,e.resolve(t.anchor),e.resolve(t.head))}function ly(r,e){let t=r.firstChild.marks,n=e.firstChild.marks,i=t,o=n,a,s,l;for(let c=0;c<n.length;c++)i=n[c].removeFromSet(i);for(let c=0;c<t.length;c++)o=t[c].removeFromSet(o);if(i.length==1&&o.length==0)s=i[0],a="add",l=c=>c.mark(s.addToSet(c.marks));else if(i.length==0&&o.length==1)s=o[0],a="remove",l=c=>c.mark(s.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<e.childCount;c++)u.push(l(e.child(c)));if(M.from(u).eq(r))return{mark:s,type:a}}function uy(r,e,t,n,i){if(t-e<=i.pos-n.pos||Ca(n,!0,!1)<i.pos)return!1;let o=r.resolve(e);if(!n.parent.isTextblock){let s=o.nodeAfter;return s!=null&&t==e+s.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let a=r.resolve(Ca(o,!0,!0));return!a.parent.isTextblock||a.pos>t||Ca(a,!0,!1)<t?!1:n.parent.content.cut(n.parentOffset).eq(a.parent.content)}function Ca(r,e,t){let n=r.depth,i=e?r.end():r.pos;for(;n>0&&(e||r.indexAfter(n)==r.node(n).childCount);)n--,i++,e=!1;if(t){let o=r.node(n).maybeChild(r.indexAfter(n));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function cy(r,e,t,n,i){let o=r.findDiffStart(e,t);if(o==null)return null;let{a,b:s}=r.findDiffEnd(e,t+r.size,t+e.size);if(i=="end"){let l=Math.max(0,o-Math.min(a,s));n-=a+l-o}if(a<o&&r.size<e.size){let l=n<=o&&n>=a?o-n:0;o-=l,o&&o<e.size&&Cc(e.textBetween(o-1,o+1))&&(o+=l?1:-1),s=o+(s-a),a=o}else if(s<o){let l=n<=o&&n>=s?o-n:0;o-=l,o&&o<r.size&&Cc(r.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-s),s=o}return{start:o,endA:a,endB:s}}function Cc(r){if(r.length!=2)return!1;let e=r.charCodeAt(0),t=r.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}var gr=class{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Ra,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(Sc),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Tc(this),kc(this),this.nodeViews=Ec(this),this.docView=rc(this.state.doc,xc(this),wa(this),this.dom,this),this.domObserver=new $a(this,(n,i,o,a)=>sy(this,n,i,o,a)),this.domObserver.start(),Dg(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Pa(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Sc),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let n in this._props)t[n]=this._props[n];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var n;let i=this.state,o=!1,a=!1;e.storedMarks&&this.composing&&(Qc(this),a=!0),this.state=e;let s=i.plugins!=e.plugins||this._props.plugins!=t.plugins;if(s||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let p=Ec(this);dy(p,this.nodeViews)&&(this.nodeViews=p,o=!0)}(s||t.handleDOMEvents!=this._props.handleDOMEvents)&&Pa(this),this.editable=Tc(this),kc(this);let l=wa(this),u=xc(this),c=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",f=o||!this.docView.matchesNode(e.doc,u,l);(f||!e.selection.eq(i.selection))&&(a=!0);let d=c=="preserve"&&a&&this.dom.style.overflowAnchor==null&&Jm(this);if(a){this.domObserver.stop();let p=f&&(qe||me)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&fy(i.selection,e.selection);if(f){let h=me?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=_g(this)),(o||!this.docView.update(e.doc,u,l,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=rc(e.doc,u,l,this.dom,this)),h&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&mg(this))?St(this,p):(zc(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((n=this.dragging)===null||n===void 0)&&n.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():d&&Xm(d)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof $){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&Xu(this,t.getBoundingClientRect(),e)}else Xu(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let n=this.directPlugins[t];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let n=this.state.plugins[t];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}}updateDraggedNode(e,t){let n=e.node,i=-1;if(this.state.doc.nodeAt(n.from)==n.node)i=n.from;else{let o=n.from+(this.state.doc.content.size-t.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==n.node&&(i=o)}this.dragging=new Mi(e.slice,e.move,i<0?void 0:$.create(this.state.doc,i))}someProp(e,t){let n=this._props&&this._props[e],i;if(n!=null&&(i=t?t(n):n))return i;for(let a=0;a<this.directPlugins.length;a++){let s=this.directPlugins[a].props[e];if(s!=null&&(i=t?t(s):s))return i}let o=this.state.plugins;if(o)for(let a=0;a<o.length;a++){let s=o[a].props[e];if(s!=null&&(i=t?t(s):s))return i}}hasFocus(){if(qe){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Ym(this.dom),St(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return rg(this,e)}coordsAtPos(e,t=1){return Rc(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let i=this.docView.posFromDOM(e,t,n);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return sg(this,t||this.state,e)}pasteHTML(e,t){return zn(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return zn(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return Ua(this,e)}destroy(){this.docView&&(Ng(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],wa(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,$m())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return Rg(this,e)}domSelectionRange(){let e=this.domSelection();return e?Ie&&this.root.nodeType===11&&_m(this.dom.ownerDocument)==this.dom&&ry(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}};gr.prototype.dispatch=function(r){let e=this._props.dispatchTransaction;e?e.call(this,r):this.updateState(this.state.apply(r))};function xc(r){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(r.editable),r.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(r.state)),t)for(let n in t)n=="class"?e.class+=" "+t[n]:n=="style"?e.style=(e.style?e.style+";":"")+t[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(t[n]))}),e.translate||(e.translate="no"),[Qe.node(0,r.state.doc.content.size,e)]}function kc(r){if(r.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),r.cursorWrapper={dom:e,deco:Qe.widget(r.state.selection.from,e,{raw:!0,marks:r.markCursor})}}else r.cursorWrapper=null}function Tc(r){return!r.someProp("editable",e=>e(r.state)===!1)}function fy(r,e){let t=Math.min(r.$anchor.sharedDepth(r.head),e.$anchor.sharedDepth(e.head));return r.$anchor.start(t)!=e.$anchor.start(t)}function Ec(r){let e=Object.create(null);function t(n){for(let i in n)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=n[i])}return r.someProp("nodeViews",t),r.someProp("markViews",t),e}function dy(r,e){let t=0,n=0;for(let i in r){if(r[i]!=e[i])return!0;t++}for(let i in e)n++;return t!=n}function Sc(r){if(r.spec.state||r.spec.filterTransaction||r.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Mt={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ri={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},py=typeof navigator<"u"&&/Mac/.test(navigator.platform),hy=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(se=0;se<10;se++)Mt[48+se]=Mt[96+se]=String(se);var se;for(se=1;se<=24;se++)Mt[se+111]="F"+se;var se;for(se=65;se<=90;se++)Mt[se]=String.fromCharCode(se+32),Ri[se]=String.fromCharCode(se);var se;for(Ii in Mt)Ri.hasOwnProperty(Ii)||(Ri[Ii]=Mt[Ii]);var Ii;function of(r){var e=py&&r.metaKey&&r.shiftKey&&!r.ctrlKey&&!r.altKey||hy&&r.shiftKey&&r.key&&r.key.length==1||r.key=="Unidentified",t=!e&&r.key||(r.shiftKey?Ri:Mt)[r.keyCode]||r.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}var vy=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),my=typeof navigator<"u"&&/Win/.test(navigator.platform);function gy(r){let e=r.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let n,i,o,a;for(let s=0;s<e.length-1;s++){let l=e[s];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))vy?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return n&&(t="Alt-"+t),i&&(t="Ctrl-"+t),a&&(t="Meta-"+t),o&&(t="Shift-"+t),t}function yy(r){let e=Object.create(null);for(let t in r)e[gy(t)]=r[t];return e}function Ka(r,e,t=!0){return e.altKey&&(r="Alt-"+r),e.ctrlKey&&(r="Ctrl-"+r),e.metaKey&&(r="Meta-"+r),t&&e.shiftKey&&(r="Shift-"+r),r}function Yr(r){return new ae({props:{handleKeyDown:by(r)}})}function by(r){let e=yy(r);return function(t,n){let i=of(n),o,a=e[Ka(i,n)];if(a&&a(t.state,t.dispatch,t))return!0;if(i.length==1&&i!=" "){if(n.shiftKey){let s=e[Ka(i,n,!1)];if(s&&s(t.state,t.dispatch,t))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(my&&n.ctrlKey&&n.altKey)&&(o=Mt[n.keyCode])&&o!=i){let s=e[Ka(o,n)];if(s&&s(t.state,t.dispatch,t))return!0}}return!1}}var Pi=(r,e)=>r.selection.empty?!1:(e&&e(r.tr.deleteSelection().scrollIntoView()),!0);function wy(r,e){let{$cursor:t}=r.selection;return!t||(e?!e.endOfTextblock("backward",r):t.parentOffset>0)?null:t}var Cy=(r,e,t)=>{let n=wy(r,t);if(!n)return!1;let i=sf(n);if(!i){let a=n.blockRange(),s=a&&Vr(a);return s==null?!1:(e&&e(r.tr.lift(a,s).scrollIntoView()),!0)}let o=i.nodeBefore;if(uf(r,i,e,-1))return!0;if(n.parent.content.size==0&&(Qr(o,"end")||$.isSelectable(o)))for(let a=n.depth;;a--){let s=yi(r.doc,n.before(a),n.after(a),L.empty);if(s&&s.slice.size<s.to-s.from){if(e){let l=r.tr.step(s);l.setSelection(Qr(o,"end")?V.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):$.create(l.doc,i.pos-o.nodeSize)),e(l.scrollIntoView())}return!0}if(a==1||n.node(a-1).childCount>1)break}return o.isAtom&&i.depth==n.depth-1?(e&&e(r.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1};function Qr(r,e,t=!1){for(let n=r;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(t&&n.childCount!=1)return!1}return!1}var xy=(r,e,t)=>{let{$head:n,empty:i}=r.selection,o=n;if(!i)return!1;if(n.parent.isTextblock){if(t?!t.endOfTextblock("backward",r):n.parentOffset>0)return!1;o=sf(n)}let a=o&&o.nodeBefore;return!a||!$.isSelectable(a)?!1:(e&&e(r.tr.setSelection($.create(r.doc,o.pos-a.nodeSize)).scrollIntoView()),!0)};function sf(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){if(r.index(e)>0)return r.doc.resolve(r.before(e+1));if(r.node(e).type.spec.isolating)break}return null}function ky(r,e){let{$cursor:t}=r.selection;return!t||(e?!e.endOfTextblock("forward",r):t.parentOffset<t.parent.content.size)?null:t}var Xa=(r,e,t)=>{let n=ky(r,t);if(!n)return!1;let i=lf(n);if(!i)return!1;let o=i.nodeAfter;if(uf(r,i,e,1))return!0;if(n.parent.content.size==0&&(Qr(o,"start")||$.isSelectable(o))){let a=yi(r.doc,n.before(),n.after(),L.empty);if(a&&a.slice.size<a.to-a.from){if(e){let s=r.tr.step(a);s.setSelection(Qr(o,"start")?V.findFrom(s.doc.resolve(s.mapping.map(i.pos)),1):$.create(s.doc,s.mapping.map(i.pos))),e(s.scrollIntoView())}return!0}}return o.isAtom&&i.depth==n.depth-1?(e&&e(r.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},Ty=(r,e,t)=>{let{$head:n,empty:i}=r.selection,o=n;if(!i)return!1;if(n.parent.isTextblock){if(t?!t.endOfTextblock("forward",r):n.parentOffset<n.parent.content.size)return!1;o=lf(n)}let a=o&&o.nodeAfter;return!a||!$.isSelectable(a)?!1:(e&&e(r.tr.setSelection($.create(r.doc,o.pos)).scrollIntoView()),!0)};function lf(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){let t=r.node(e);if(r.index(e)+1<t.childCount)return r.doc.resolve(r.after(e+1));if(t.type.spec.isolating)break}return null}var Ya=(r,e)=>{let{$head:t,$anchor:n}=r.selection;return!t.parent.type.spec.code||!t.sameParent(n)?!1:(e&&e(r.tr.insertText(`
`).scrollIntoView()),!0)};function Qa(r){for(let e=0;e<r.edgeCount;e++){let{type:t}=r.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}var Bi=(r,e)=>{let{$head:t,$anchor:n}=r.selection;if(!t.parent.type.spec.code||!t.sameParent(n))return!1;let i=t.node(-1),o=t.indexAfter(-1),a=Qa(i.contentMatchAt(o));if(!a||!i.canReplaceWith(o,o,a))return!1;if(e){let s=t.after(),l=r.tr.replaceWith(s,s,a.createAndFill());l.setSelection(V.near(l.doc.resolve(s),1)),e(l.scrollIntoView())}return!0},Ey=(r,e)=>{let t=r.selection,{$from:n,$to:i}=t;if(t instanceof Ae||n.parent.inlineContent||i.parent.inlineContent)return!1;let o=Qa(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let a=(!n.parentOffset&&i.index()<i.parent.childCount?n:i).pos,s=r.tr.insert(a,o.createAndFill());s.setSelection(G.create(s.doc,a+1)),e(s.scrollIntoView())}return!0},Sy=(r,e)=>{let{$cursor:t}=r.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let o=t.before();if(zt(r.doc,o))return e&&e(r.tr.split(o).scrollIntoView()),!0}let n=t.blockRange(),i=n&&Vr(n);return i==null?!1:(e&&e(r.tr.lift(n,i).scrollIntoView()),!0)};function My(r){return(e,t)=>{let{$from:n,$to:i}=e.selection;if(e.selection instanceof $&&e.selection.node.isBlock)return!n.parentOffset||!zt(e.doc,n.pos)?!1:(t&&t(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let o=[],a,s,l=!1,u=!1;for(let p=n.depth;;p--)if(n.node(p).isBlock){l=n.end(p)==n.pos+(n.depth-p),u=n.start(p)==n.pos-(n.depth-p),s=Qa(n.node(p-1).contentMatchAt(n.indexAfter(p-1)));let v=r&&r(i.parent,l,n);o.unshift(v||(l&&s?{type:s}:null)),a=p;break}else{if(p==1)return!1;o.unshift(null)}let c=e.tr;(e.selection instanceof G||e.selection instanceof Ae)&&c.deleteSelection();let f=c.mapping.map(n.pos),d=zt(c.doc,f,o.length,o);if(d||(o[0]=s?{type:s}:null,d=zt(c.doc,f,o.length,o)),!d)return!1;if(c.split(f,o.length,o),!l&&u&&n.node(a).type!=s){let p=c.mapping.map(n.before(a)),h=c.doc.resolve(p);s&&n.node(a-1).canReplaceWith(h.index(),h.index()+1,s)&&c.setNodeMarkup(c.mapping.map(n.before(a)),s)}return t&&t(c.scrollIntoView()),!0}}var Oy=My();var Za=(r,e)=>(e&&e(r.tr.setSelection(new Ae(r.doc))),!0);function Ly(r,e,t){let n=e.nodeBefore,i=e.nodeAfter,o=e.index();return!n||!i||!n.type.compatibleContent(i.type)?!1:!n.content.size&&e.parent.canReplace(o-1,o)?(t&&t(r.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||da(r.doc,e.pos))?!1:(t&&t(r.tr.join(e.pos).scrollIntoView()),!0)}function uf(r,e,t,n){let i=e.nodeBefore,o=e.nodeAfter,a,s,l=i.type.spec.isolating||o.type.spec.isolating;if(!l&&Ly(r,e,t))return!0;let u=!l&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(a=(s=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&s.matchType(a[0]||o.type).validEnd){if(t){let p=e.pos+o.nodeSize,h=M.empty;for(let g=a.length-1;g>=0;g--)h=M.from(a[g].create(null,h));h=M.from(i.copy(h));let v=r.tr.step(new ce(e.pos-1,p,e.pos,p,new L(h,1,0),a.length,!0)),m=v.doc.resolve(p+2*a.length);m.nodeAfter&&m.nodeAfter.type==i.type&&da(v.doc,m.pos)&&v.join(m.pos),t(v.scrollIntoView())}return!0}let c=o.type.spec.isolating||n>0&&l?null:V.findFrom(e,1),f=c&&c.$from.blockRange(c.$to),d=f&&Vr(f);if(d!=null&&d>=e.depth)return t&&t(r.tr.lift(f,d).scrollIntoView()),!0;if(u&&Qr(o,"start",!0)&&Qr(i,"end")){let p=i,h=[];for(;h.push(p),!p.isTextblock;)p=p.lastChild;let v=o,m=1;for(;!v.isTextblock;v=v.firstChild)m++;if(p.canReplace(p.childCount,p.childCount,v.content)){if(t){let g=M.empty;for(let y=h.length-1;y>=0;y--)g=M.from(h[y].copy(g));let w=r.tr.step(new ce(e.pos-h.length,e.pos+o.nodeSize,e.pos+m,e.pos+o.nodeSize-m,new L(g,h.length,0),0,!0));t(w.scrollIntoView())}return!0}}return!1}function cf(r){return function(e,t){let n=e.selection,i=r<0?n.$from:n.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(t&&t(e.tr.setSelection(G.create(e.doc,r<0?i.start(o):i.end(o)))),!0):!1}}var Ay=cf(-1),Dy=cf(1);function ff(r,e=null){return function(t,n){let{$from:i,$to:o}=t.selection,a=i.blockRange(o),s=a&&Nu(a,r,e);return s?(n&&n(t.tr.wrap(a,s).scrollIntoView()),!0):!1}}function Hi(r,e=null){return function(t,n){let i=!1;for(let o=0;o<t.selection.ranges.length&&!i;o++){let{$from:{pos:a},$to:{pos:s}}=t.selection.ranges[o];t.doc.nodesBetween(a,s,(l,u)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(r,e)))if(l.type==r)i=!0;else{let c=t.doc.resolve(u),f=c.index();i=c.parent.canReplaceWith(f,f+1,r)}})}if(!i)return!1;if(n){let o=t.tr;for(let a=0;a<t.selection.ranges.length;a++){let{$from:{pos:s},$to:{pos:l}}=t.selection.ranges[a];o.setBlockType(s,l,r,e)}n(o.scrollIntoView())}return!0}}function Ny(r,e,t,n){for(let i=0;i<e.length;i++){let{$from:o,$to:a}=e[i],s=o.depth==0?r.inlineContent&&r.type.allowsMarkType(t):!1;if(r.nodesBetween(o.pos,a.pos,(l,u)=>{if(s||!n&&l.isAtom&&l.isInline&&u>=o.pos&&u+l.nodeSize<=a.pos)return!1;s=l.inlineContent&&l.type.allowsMarkType(t)}),s)return!0}return!1}function Iy(r){let e=[];for(let t=0;t<r.length;t++){let{$from:n,$to:i}=r[t];n.doc.nodesBetween(n.pos,i.pos,(o,a)=>{if(o.isAtom&&o.content.size&&o.isInline&&a>=n.pos&&a+o.nodeSize<=i.pos)return a+1>n.pos&&e.push(new qt(n,n.doc.resolve(a+1))),n=n.doc.resolve(a+1+o.content.size),!1}),n.pos<i.pos&&e.push(new qt(n,i))}return e}function Zr(r,e=null,t){let n=(t&&t.removeWhenPresent)!==!1,i=(t&&t.enterInlineAtoms)!==!1,o=!(t&&t.includeWhitespace);return function(a,s){let{empty:l,$cursor:u,ranges:c}=a.selection;if(l&&!u||!Ny(a.doc,c,r,i))return!1;if(s)if(u)r.isInSet(a.storedMarks||u.marks())?s(a.tr.removeStoredMark(r)):s(a.tr.addStoredMark(r.create(e)));else{let f,d=a.tr;i||(c=Iy(c)),n?f=!c.some(p=>a.doc.rangeHasMark(p.$from.pos,p.$to.pos,r)):f=!c.every(p=>{let h=!1;return d.doc.nodesBetween(p.$from.pos,p.$to.pos,(v,m,g)=>{if(h)return!1;h=!r.isInSet(v.marks)&&!!g&&g.type.allowsMarkType(r)&&!(v.isText&&/^\s*$/.test(v.textBetween(Math.max(0,p.$from.pos-m),Math.min(v.nodeSize,p.$to.pos-m))))}),!h});for(let p=0;p<c.length;p++){let{$from:h,$to:v}=c[p];if(!f)d.removeMark(h.pos,v.pos,r);else{let m=h.pos,g=v.pos,w=h.nodeAfter,y=v.nodeBefore,x=o&&w&&w.isText?/^\s*/.exec(w.text)[0].length:0,b=o&&y&&y.isText?/\s*$/.exec(y.text)[0].length:0;m+x<g&&(m+=x,g-=b),d.addMark(m,g,r.create(e))}}s(d.scrollIntoView())}return!0}}function _n(...r){return function(e,t,n){for(let i=0;i<r.length;i++)if(r[i](e,t,n))return!0;return!1}}var Ja=_n(Pi,Cy,xy),af=_n(Pi,Xa,Ty),Ot={Enter:_n(Ya,Ey,Sy,Oy),"Mod-Enter":Bi,Backspace:Ja,"Mod-Backspace":Ja,"Shift-Backspace":Ja,Delete:af,"Mod-Delete":af,"Mod-a":Za},df={"Ctrl-h":Ot.Backspace,"Alt-Backspace":Ot["Mod-Backspace"],"Ctrl-d":Ot.Delete,"Ctrl-Alt-Backspace":Ot["Mod-Delete"],"Alt-Delete":Ot["Mod-Delete"],"Alt-d":Ot["Mod-Delete"],"Ctrl-a":Ay,"Ctrl-e":Dy};for(let r in Ot)df[r]=Ot[r];var Ry=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,es=Ry?df:Ot;var rt=class{constructor(e,t,n={}){this.match=e,this.match=e,this.handler=typeof t=="string"?Py(t):t,this.undoable=n.undoable!==!1,this.inCode=n.inCode||!1,this.inCodeMark=n.inCodeMark!==!1}};function Py(r){return function(e,t,n,i){let o=r;if(t[1]){let a=t[0].lastIndexOf(t[1]);o+=t[0].slice(a+t[1].length),n+=a;let s=n-i;s>0&&(o=t[0].slice(a-s,a)+o,n=i)}return e.tr.insertText(o,n,i)}}var By=500;function ts({rules:r}){let e=new ae({state:{init(){return null},apply(t,n){let i=t.getMeta(this);return i||(t.selectionSet||t.docChanged?null:n)}},props:{handleTextInput(t,n,i,o){return pf(t,n,i,o,r,e)},handleDOMEvents:{compositionend:t=>{setTimeout(()=>{let{$cursor:n}=t.state.selection;n&&pf(t,n.pos,n.pos,"",r,e)})}}},isInputRules:!0});return e}function pf(r,e,t,n,i,o){if(r.composing)return!1;let a=r.state,s=a.doc.resolve(e),l=s.parent.textBetween(Math.max(0,s.parentOffset-By),s.parentOffset,null,"\uFFFC")+n;for(let u=0;u<i.length;u++){let c=i[u];if(!c.inCodeMark&&s.marks().some(h=>h.type.spec.code))continue;if(s.parent.type.spec.code){if(!c.inCode)continue}else if(c.inCode==="only")continue;let f=c.match.exec(l);if(!f||f[0].length<n.length)continue;let d=e-(f[0].length-n.length);if(!c.inCodeMark){let h=!1;if(a.doc.nodesBetween(d,s.pos,v=>{v.isInline&&v.marks.some(m=>m.type.spec.code)&&(h=!0)}),h)continue}let p=c.handler(a,f,d,t);if(p)return c.undoable&&p.setMeta(o,{transform:p,from:e,to:t,text:n}),r.dispatch(p),!0}return!1}var hf=(r,e)=>{let t=r.plugins;for(let n=0;n<t.length;n++){let i=t[n],o;if(i.spec.isInputRules&&(o=i.getState(r))){if(e){let a=r.tr,s=o.transform;for(let l=s.steps.length-1;l>=0;l--)a.step(s.steps[l].invert(s.docs[l]));if(o.text){let l=a.doc.resolve(o.from).marks();a.replaceWith(o.from,o.to,r.schema.text(o.text,l))}else a.delete(o.from,o.to);e(a)}return!0}}return!1},jse=new rt(/--$/,"\u2014",{inCodeMark:!1}),Wse=new rt(/\.\.\.$/,"\u2026",{inCodeMark:!1}),Gse=new rt(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201C",{inCodeMark:!1}),Kse=new rt(/"$/,"\u201D",{inCodeMark:!1}),Jse=new rt(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018",{inCodeMark:!1}),Xse=new rt(/'$/,"\u2019",{inCodeMark:!1});var Fi=200,Ce=function(){};Ce.prototype.append=function(e){return e.length?(e=Ce.from(e),!this.length&&e||e.length<Fi&&this.leafAppend(e)||this.length<Fi&&e.leafPrepend(this)||this.appendInner(e)):this};Ce.prototype.prepend=function(e){return e.length?Ce.from(e).append(this):this};Ce.prototype.appendInner=function(e){return new Hy(this,e)};Ce.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?Ce.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};Ce.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Ce.prototype.forEach=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)};Ce.prototype.map=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length);var i=[];return this.forEach(function(o,a){return i.push(e(o,a))},t,n),i};Ce.from=function(e){return e instanceof Ce?e:e&&e.length?new vf(e):Ce.empty};var vf=(function(r){function e(n){r.call(this),this.values=n}r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,a,s){for(var l=o;l<a;l++)if(i(this.values[l],s+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,a,s){for(var l=o-1;l>=a;l--)if(i(this.values[l],s+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Fi)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Fi)return new e(i.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e})(Ce);Ce.empty=new vf([]);var Hy=(function(r){function e(t,n){r.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,i,o,a){var s=this.left.length;if(i<s&&this.left.forEachInner(n,i,Math.min(o,s),a)===!1||o>s&&this.right.forEachInner(n,Math.max(i-s,0),Math.min(this.length,o)-s,a+s)===!1)return!1},e.prototype.forEachInvertedInner=function(n,i,o,a){var s=this.left.length;if(i>s&&this.right.forEachInvertedInner(n,i-s,Math.max(o,s)-s,a+s)===!1||o<s&&this.left.forEachInvertedInner(n,Math.min(i,s),o,a)===!1)return!1},e.prototype.sliceInner=function(n,i){if(n==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(n,i):n>=o?this.right.slice(n-o,i-o):this.left.slice(n,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(n){var i=this.right.leafAppend(n);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(n){var i=this.left.leafPrepend(n);if(i)return new e(i,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e})(Ce),rs=Ce;var Fy=500,yr=class r{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let i,o;t&&(i=this.remapping(n,this.items.length),o=i.maps.length);let a=e.tr,s,l,u=[],c=[];return this.items.forEach((f,d)=>{if(!f.step){i||(i=this.remapping(n,d+1),o=i.maps.length),o--,c.push(f);return}if(i){c.push(new ft(f.map));let p=f.step.map(i.slice(o)),h;p&&a.maybeStep(p).doc&&(h=a.mapping.maps[a.mapping.maps.length-1],u.push(new ft(h,void 0,void 0,u.length+c.length))),o--,h&&i.appendMap(h,o)}else a.maybeStep(f.step);if(f.selection)return s=i?f.selection.map(i.slice(o)):f.selection,l=new r(this.items.slice(0,n).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:a,selection:s}}addTransform(e,t,n,i){let o=[],a=this.eventCount,s=this.items,l=!i&&s.length?s.get(s.length-1):null;for(let c=0;c<e.steps.length;c++){let f=e.steps[c].invert(e.docs[c]),d=new ft(e.mapping.maps[c],f,t),p;(p=l&&l.merge(d))&&(d=p,c?o.pop():s=s.slice(0,s.length-1)),o.push(d),t&&(a++,t=void 0),i||(l=d)}let u=a-n.depth;return u>zy&&(s=$y(s,u),a-=u),new r(s.append(o),a)}remapping(e,t){let n=new Dn;return this.items.forEach((i,o)=>{let a=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?n.maps.length-i.mirrorOffset:void 0;n.appendMap(i.map,a)},e,t),n}addMaps(e){return this.eventCount==0?this:new r(this.items.append(e.map(t=>new ft(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],i=Math.max(0,this.items.length-t),o=e.mapping,a=e.steps.length,s=this.eventCount;this.items.forEach(d=>{d.selection&&s--},i);let l=t;this.items.forEach(d=>{let p=o.getMirror(--l);if(p==null)return;a=Math.min(a,p);let h=o.maps[p];if(d.step){let v=e.steps[p].invert(e.docs[p]),m=d.selection&&d.selection.map(o.slice(l+1,p));m&&s++,n.push(new ft(h,v,m))}else n.push(new ft(h))},i);let u=[];for(let d=t;d<a;d++)u.push(new ft(o.maps[d]));let c=this.items.slice(0,i).append(u).append(n),f=new r(c,s);return f.emptyItemCount()>Fy&&(f=f.compress(this.items.length-n.length)),f}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,i=[],o=0;return this.items.forEach((a,s)=>{if(s>=e)i.push(a),a.selection&&o++;else if(a.step){let l=a.step.map(t.slice(n)),u=l&&l.getMap();if(n--,u&&t.appendMap(u,n),l){let c=a.selection&&a.selection.map(t.slice(n));c&&o++;let f=new ft(u.invert(),l,c),d,p=i.length-1;(d=i.length&&i[p].merge(f))?i[p]=d:i.push(f)}}else a.map&&n--},this.items.length,0),new r(rs.from(i.reverse()),o)}};yr.empty=new yr(rs.empty,0);function $y(r,e){let t;return r.forEach((n,i)=>{if(n.selection&&e--==0)return t=i,!1}),r.slice(t)}var ft=class r{constructor(e,t,n,i){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new r(t.getMap().invert(),t,this.selection)}}},dt=class{constructor(e,t,n,i,o){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=i,this.prevComposition=o}},zy=20;function qy(r,e,t,n){let i=t.getMeta(Kt),o;if(i)return i.historyState;t.getMeta(_y)&&(r=new dt(r.done,r.undone,null,0,-1));let a=t.getMeta("appendedTransaction");if(t.steps.length==0)return r;if(a&&a.getMeta(Kt))return a.getMeta(Kt).redo?new dt(r.done.addTransform(t,void 0,n,$i(e)),r.undone,mf(t.mapping.maps),r.prevTime,r.prevComposition):new dt(r.done,r.undone.addTransform(t,void 0,n,$i(e)),null,r.prevTime,r.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let s=t.getMeta("composition"),l=r.prevTime==0||!a&&r.prevComposition!=s&&(r.prevTime<(t.time||0)-n.newGroupDelay||!Vy(t,r.prevRanges)),u=a?ns(r.prevRanges,t.mapping):mf(t.mapping.maps);return new dt(r.done.addTransform(t,l?e.selection.getBookmark():void 0,n,$i(e)),yr.empty,u,t.time,s??r.prevComposition)}else return(o=t.getMeta("rebased"))?new dt(r.done.rebased(t,o),r.undone.rebased(t,o),ns(r.prevRanges,t.mapping),r.prevTime,r.prevComposition):new dt(r.done.addMaps(t.mapping.maps),r.undone.addMaps(t.mapping.maps),ns(r.prevRanges,t.mapping),r.prevTime,r.prevComposition)}function Vy(r,e){if(!e)return!1;if(!r.docChanged)return!0;let t=!1;return r.mapping.maps[0].forEach((n,i)=>{for(let o=0;o<e.length;o+=2)n<=e[o+1]&&i>=e[o]&&(t=!0)}),t}function mf(r){let e=[];for(let t=r.length-1;t>=0&&e.length==0;t--)r[t].forEach((n,i,o,a)=>e.push(o,a));return e}function ns(r,e){if(!r)return null;let t=[];for(let n=0;n<r.length;n+=2){let i=e.map(r[n],1),o=e.map(r[n+1],-1);i<=o&&t.push(i,o)}return t}function Uy(r,e,t){let n=$i(e),i=Kt.get(e).spec.config,o=(t?r.undone:r.done).popEvent(e,n);if(!o)return null;let a=o.selection.resolve(o.transform.doc),s=(t?r.done:r.undone).addTransform(o.transform,e.selection.getBookmark(),i,n),l=new dt(t?s:o.remaining,t?o.remaining:s,null,0,-1);return o.transform.setSelection(a).setMeta(Kt,{redo:t,historyState:l})}var is=!1,gf=null;function $i(r){let e=r.plugins;if(gf!=e){is=!1,gf=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){is=!0;break}}return is}var Kt=new xt("history"),_y=new xt("closeHistory");function as(r={}){return r={depth:r.depth||100,newGroupDelay:r.newGroupDelay||500},new ae({key:Kt,state:{init(){return new dt(yr.empty,yr.empty,null,0,-1)},apply(e,t,n){return qy(t,n,e,r)}},config:r,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,i=n=="historyUndo"?en:n=="historyRedo"?qi:null;return!i||!e.editable?!1:(t.preventDefault(),i(e.state,e.dispatch))}}}})}function zi(r,e){return(t,n)=>{let i=Kt.getState(t);if(!i||(r?i.undone:i.done).eventCount==0)return!1;if(n){let o=Uy(i,t,r);o&&n(e?o.scrollIntoView():o)}return!0}}var en=zi(!1,!0),qi=zi(!0,!0),rle=zi(!1,!1),nle=zi(!0,!1);function yf(r){let e=Kt.getState(r);return e?e.done.eventCount:0}var Ls=function(r,e){return Ls=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},Ls(r,e)};function D(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ls(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var k=function(){return k=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},k.apply(this,arguments)};function Ve(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))}function J(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function jy(r,e,t){var n;t=t||null;for(n in r)if(r.hasOwnProperty(n)&&e.call(t,r[n],n,r)===!1)break}var ln=jy;function Wy(r,e){var t=Object.prototype.hasOwnProperty,n,i,o,a;for(o=1,a=arguments.length;o<a;o+=1){n=arguments[o];for(i in n)t.call(n,i)&&(r[i]=n[i])}return r}var tl=Wy;function Gy(r){return typeof r=="string"||r instanceof String}var Pt=Gy;function Ky(r){return r instanceof Array}var yn=Ky;function Jy(r,e,t){var n=0,i=r.length;for(t=t||null;n<i&&e.call(t,r[n],n,r)!==!1;n+=1);}var un=Jy,Xy=yn,Yy=un,Qy=ln;function Zy(r,e,t){Xy(r)?Yy(r,e,t):Qy(r,e,t)}var Eo=Zy,eb=Pt,tb=Eo;function rb(r,e,t){var n=r.style;if(eb(e)){n[e]=t;return}tb(e,function(i,o){n[o]=i})}var gt=rb,nb=yn;function ib(r,e,t){var n,i;if(t=t||0,!nb(e))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,r,t);for(i=e.length,n=t;t>=0&&n<i;n+=1)if(e[n]===r)return n;return-1}var Er=ib;function ob(r){return r===void 0}var st=ob,ab=st;function sb(r){return!r||!r.className?"":ab(r.className.baseVal)?r.className:r.className.baseVal}var rl=sb,lb=yn,ub=st;function cb(r,e){if(e=lb(e)?e.join(" "):e,e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),ub(r.className.baseVal)){r.className=e;return}r.className.baseVal=e}var Rp=cb,bf=Eo,fb=Er,db=rl,pb=Rp;function hb(r){var e=Array.prototype.slice.call(arguments,1),t=r.classList,n=[],i;if(t){bf(e,function(o){r.classList.add(o)});return}i=db(r),i&&(e=[].concat(i.split(/\s+/),e)),bf(e,function(o){fb(o,n)<0&&n.push(o)}),pb(r,n)}var vt=hb,wf=un,vb=Er,mb=rl,gb=Rp;function yb(r){var e=Array.prototype.slice.call(arguments,1),t=r.classList,n,i;if(t){wf(e,function(o){t.remove(o)});return}n=mb(r).split(/\s+/),i=[],wf(n,function(o){vb(o,e)<0&&i.push(o)}),gb(r,i)}var it=yb;function bb(r){return typeof r=="number"||r instanceof Number}var At=bb;function wb(r){return r===null}var ao=wb,Cb=ln;function xb(r,e){var t=document.createElement("img"),n="";return Cb(e,function(i,o){n+="&"+o+"="+i}),n=n.substring(1),t.src=r+"?"+n,t.style.display="none",document.body.appendChild(t),document.body.removeChild(t),t}var kb=xb,Tb=st,Eb=kb,Sb=10080*60*1e3;function Mb(r){var e=new Date().getTime();return e-r>Sb}function Ob(r,e){var t="https://www.google-analytics.com/collect",n=location.hostname,i="event",o="use",a="TOAST UI "+r+" for "+n+": Statistics",s=window.localStorage.getItem(a);!Tb(window.tui)&&window.tui.usageStatistics===!1||s&&!Mb(s)||(window.localStorage.setItem(a,new Date().getTime()),setTimeout(function(){(document.readyState==="interactive"||document.readyState==="complete")&&Eb(t,{v:1,t:i,tid:e,cid:n,dp:n,dh:r,el:r,ec:o})},1e3))}var Lb=Ob;/Mac/.test(navigator.platform);var Ab=/[\u0020]+/g,Db=/[>(){}[\]+-.!#|]/g,Cf=/<([a-zA-Z_][a-zA-Z0-9\-._]*)(\s|[^\\>])*\/?>|<(\/)([a-zA-Z_][a-zA-Z0-9\-._]*)\s*\/?>|<!--[^-]+-->|<([a-zA-Z_][a-zA-Z0-9\-.:/]*)>/g,xf=/\\[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~\\]/g,Nb=/[*_~`]/g,kf=/!\[.*\]\(.*\)/g,Ib=/[[\]]/g,Tf=/(?:^|[^\\])\\(?!\\)/g,Rb='[&<>"]',Ef=new RegExp(Rb,"g");function Pb(r){switch(r){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return r}}function an(r){return Ef.test(r)?r.replace(Ef,Pb):r}function Bb(){Lb("editor","UA-129966929-1")}function Ee(r,e){return r.indexOf(e)!==-1}var Hb=["rel","target","hreflang","type"],Fb={codeblock:/(^ {4}[^\n]+\n*)+/,thematicBreak:/^ *((\* *){3,}|(- *){3,} *|(_ *){3,}) */,atxHeading:/^(#{1,6}) +[\s\S]+/,seTextheading:/^([^\n]+)\n *(=|-){2,} */,blockquote:/^( *>[^\n]+.*)+/,list:/^ *(\*+|-+|\d+\.) [\s\S]+/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? */,link:/!?\[.*\]\(.*\)/,reflink:/!?\[.*\]\s*\[([^\]]*)\]/,verticalBar:/\u007C/,fencedCodeblock:/^((`|~){3,})/};function Pp(r){if(!r)return null;var e={};return Hb.forEach(function(t){st(r[t])||(e[t]=r[t])}),e}function so(r,e){for(var t="",n=0;n<e;n+=1)t+=r;return t}function $b(r){var e=!1;return ln(Fb,function(t){return t.test(r)&&(e=!0),!e}),e}function lo(r){for(var e=[],t=kf.exec(r);t;)e.push([t.index,t.index+t[0].length]),t=kf.exec(r);return r.replace(Ib,function(n,i){var o=e.some(function(a){return i>a[0]&&i<a[1]});return o?n:"\\"+n})}function zb(r){var e=function(i){return"\\"+i},t=function(i){return i+"\\"},n=r.replace(Ab," ");return xf.test(n)&&(n=n.replace(xf,e)),Tf.test(n)&&(n=n.replace(Tf,t)),n=n.replace(Nb,e),Cf.test(n)&&(n=n.replace(Cf,e)),$b(n)&&(n=n.replace(Db,e)),n}function qb(r){var e;return r.indexOf('"')===-1?e='""':e=r.indexOf("'")===-1?"''":"()",e[0]+r+e[1]}function As(r){return ao(r)||st(r)}function nl(r,e){if(r===null&&r===e)return!0;if(typeof r!="object"||typeof e!="object"||As(r)||As(e))return r===e;for(var t in r)if(r[t]!==e[t])return!1;for(var t in e)if(!(t in r))return!1;return!0}function Re(r){return r[r.length-1]}function Vb(r,e,t){return r>=e&&r<=t}function il(r){return typeof r=="object"&&r!==null}function uo(r,e){var t=k({},r);return r&&e&&Object.keys(e).forEach(function(n){il(t[n])?Array.isArray(e[n])?t[n]=ol(e[n]):t.hasOwnProperty(n)?t[n]=uo(t[n],e[n]):t[n]=al(e[n]):t[n]=e[n]}),t}function ol(r){return r.map(function(e){return il(e)?Array.isArray(e)?ol(e):al(e):e})}function al(r){var e=Object.keys(r);return e.length?e.reduce(function(t,n){return il(r[n])?t[n]=Array.isArray(r[n])?ol(r[n]):al(r[n]):t[n]=r[n],t},{}):r}function sl(r,e){return e===void 0&&(e={}),Object.keys(e).forEach(function(t){r.hasOwnProperty(t)&&typeof r[t]=="object"?Array.isArray(e[t])?r[t]=e[t]:sl(r[t],e[t]):r[t]=e[t]}),r}function Sf(r,e){return r>e?[e,r]:[r,e]}var Ub=un;function _b(r){var e;try{e=Array.prototype.slice.call(r)}catch{e=[],Ub(r,function(n){e.push(n)})}return e}var yt=_b;function co(r,e){var t=r.nodes.paragraph;return e?t.create(null,Pt(e)?r.text(e):e):t.createAndFill()}function Te(r,e,t){return r.text(e,t)}function re(r,e,t){t===void 0&&(t=e);var n=r.doc.content.size,i=n>0?n-1:1;return G.create(r.doc,Math.min(e,i),Math.min(t,i))}function ll(r,e,t){var n=e.pos;return r.replaceWith(n,n,co(t)),r.setSelection(re(r,n+1))}function fo(r){for(var e=r.state,t=r.from,n=r.startIndex,i=r.endIndex,o=r.createText,a=e.tr,s=e.doc,l=e.schema,u=n;u<=i;u+=1){var c=s.child(u),f=c.nodeSize,d=c.textContent,p=c.content,h=o(d),v=h?Te(l,h):M.empty,m=a.mapping.map(t),g=m+p.size;a.replaceWith(m,g,v),t+=f}return a}function ul(r,e,t,n){var i=t.length;r.split(e).delete(e-i,e).insert(r.mapping.map(e),n).setSelection(re(r,r.mapping.map(e)-i))}function ti(r){return r.sourcepos[0][0]}function So(r){return r.sourcepos[1][0]}function Mo(r){return r.sourcepos[0][1]}function Yt(r){return r.sourcepos[1][1]}function jb(r){var e=r.type;return e==="htmlBlock"||e==="htmlInline"}function Wb(r){var e=r.type;return e==="strike"||e==="strong"||e==="emph"||e==="code"||e==="link"||e==="image"}function Gb(r){return r&&r.type==="codeBlock"}function Sr(r){return r&&(r.type==="item"||r.type==="list")}function Bp(r){return Sr(r)&&r.listData.type==="ordered"}function Kb(r){return Sr(r)&&r.listData.type!=="ordered"}function Mf(r){return r&&(r.type==="tableCell"||r.type==="tableDelimCell")}function Jb(r){switch(r.type){case"code":case"text":case"emph":case"strong":case"strike":case"link":case"image":case"htmlInline":case"linebreak":case"softbreak":case"customInline":return!0;default:return!1}}function cn(r,e,t){for(t===void 0&&(t=!0),r=t?r:r.parent;r&&r.type!=="document";){if(e(r))return r;r=r.parent}return null}function Xb(r,e,t){for(t===void 0&&(t=!0),r=t?r:r.parent;r&&r.type!=="document";)e(r),r=r.parent}function ge(r,e){return[r[0],r[1]+e]}function Qt(r,e){return[r[0],e]}function Yb(r){var e=r.firstChild.literal;switch(r.type){case"emph":return"*"+e+"*";case"strong":return"**"+e+"**";case"strike":return"~~"+e+"~~";case"code":return"`"+e+"`";case"link":case"image":var t=r,n=t.destination,i=t.title,o=r.type==="link"?"":"!";return o+"["+e+"]("+n+(i?' "'+i+'"':"")+")";default:return null}}function Qb(r){switch(r.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}function Zb(r){for(var e=[],t=r.walker(),n=null;n=t.next();){var i=n.node;i.type==="text"&&e.push(i.literal)}return e.join("")}var Zn=[],Hp={},Of=/\$\$widget\d+\s/;function Oo(r){var e=r.search(Of);if(e!==-1){var t=r.substring(e),n=t.replace(Of,"").replace("$$","");r=r.substring(0,e),r+=Oo(n)}return r}function Fp(r,e){return"$$"+r+" "+e+"$$"}function $p(r,e){var t=Hp[r],n=t.rule,i=t.toDOM,o=Oo(e).match(n);return o&&(e=o[0]),i(e)}function ew(){return Zn}function tw(r){Zn=r,Zn.forEach(function(e,t){Hp["widget"+t]=e})}function ss(r,e,t,n){return r.concat(Tr(e,t,n))}function Tr(r,e,t){t===void 0&&(t=0);var n=[],i=(Zn[t]||{}).rule,o=t+1;if(r=Oo(r),i&&i.test(r)){for(var a=void 0;(a=r.search(i))!==-1;){var s=r.substring(0,a);s&&(n=ss(n,s,e,o)),r=r.substring(a);var l=r.match(i)[0],u="widget"+t;n.push(e.nodes.widget.create({info:u},e.text(Fp(u,l)))),r=r.substring(l.length)}r&&(n=ss(n,r,e,o))}else r&&(n=t<Zn.length-1?ss(n,r,e,o):[e.text(r)]);return n}function zp(r){for(var e,t="",n=r.walker();e=n.next();){var i=e.node,o=e.entering;o&&(i!==r&&i.type!=="text"?(t+=Yb(i),n.resumeAt(r,!1),n.next()):i.type==="text"&&(t+=i.literal))}return t}function qp(){return{deleteSelection:function(){return Pi},selectAll:function(){return Za},undo:function(){return en},redo:function(){return qi}}}function rw(r){return new ae({props:{decorations:function(e){var t=e.doc;if(r.text&&t.childCount===1&&t.firstChild.isTextblock&&t.firstChild.content.size===0){var n=document.createElement("span");return vt(n,"placeholder"),r.className&&vt(n,r.className),n.textContent=r.text,Ne.create(t,[Qe.widget(1,n)])}return null}}})}var nw=Er,iw=rl;function ow(r,e){var t;return r.classList?r.classList.contains(e):(t=iw(r).split(/\s+/),nw(e,t)>-1)}var Vp=ow,aw=Er,sw=yt,Vi=Element.prototype,lw=Vi.matches||Vi.webkitMatchesSelector||Vi.mozMatchesSelector||Vi.msMatchesSelector||function(r){var e=this.document||this.ownerDocument;return aw(this,sw(e.querySelectorAll(r)))>-1};function uw(r,e){return lw.call(r,e)}var cw=uw,Up="[A-Za-z][A-Za-z0-9-]*",fw="[a-zA-Z_:][a-zA-Z0-9:._-]*",dw="[^\"'=<>`\\x00-\\x20]+",pw="'[^']*'",hw='"[^"]*"',vw="(?:"+dw+"|"+pw+"|"+hw+")",mw="(?:\\s*=\\s*"+vw+")",_p="(?:\\s+"+fw+mw+"?)",jp="<("+Up+")("+_p+")*\\s*/?>",gw="</("+Up+")\\s*[>]",Wp="(?:"+jp+"|"+gw+")",fn=new RegExp("^"+Wp,"i"),Ds=/<br\s*\/*>/i,yw=/<! ---->|<!--(?:-?[^>-])(?:-?[^-])*-->/,Gp="</p><p>";function cl(r,e,t){var n=parseInt(r.left,10),i=parseInt(r.top,10),o=parseInt(r.width,10)+parseInt(r.paddingLeft,10)+parseInt(r.paddingRight,10),a=parseInt(r.height,10)+parseInt(r.paddingTop,10)+parseInt(r.paddingBottom,10);return e>=n&&e<=n+o&&t>=i&&t<=i+a}var Kp="toastui-editor-";function N(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];for(var t=[],n=0,i=r;n<i.length;n++){var o=i[n],a=void 0;Array.isArray(o)?a=o[0]?o[1]:null:a=o,a&&t.push(""+Kp+a)}return t.join(" ")}function pe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return r.map(function(t){return Kp+"md-"+t}).join(" ")}function bw(r){return r?.nodeType===Node.TEXT_NODE}function Lo(r){return r&&r.nodeType===Node.ELEMENT_NODE}function ww(r,e){var t=yt(r.querySelectorAll(e));return t.length?t:[]}function Cw(r,e){e=yn(e)?yt(e):[e],e.forEach(function(t){r.appendChild(t)})}function xw(r,e){e.parentNode&&e.parentNode.insertBefore(r,e)}function Mr(r){r.parentNode&&r.parentNode.removeChild(r)}function kw(r){for(var e=[];r.firstChild;)e.push(r.firstChild),r.parentNode&&r.parentNode.insertBefore(r.firstChild,r);return Mr(r),e}function fl(r,e,t){st(t)&&(t=!Vp(r,e));var n=t?vt:it;n(r,e)}function Jp(r,e){var t=document.createElement("div");Pt(r)?t.innerHTML=r:t.appendChild(r);var n=t.firstChild;return e&&e.appendChild(n),n}function dl(r){var e=window.getComputedStyle(r);return["margin-left","margin-right"].reduce(function(t,n){return t+parseInt(e.getPropertyValue(n),10)},0)+r.offsetWidth}function mt(r,e){var t;for(Pt(e)?t=function(n){return cw(n,e)}:t=function(n){return n===e};r&&r!==document;){if(Lo(r)&&t(r))return r;r=r.parentNode}return null}function Xp(r,e){for(var t=0,n=0;r&&r!==e;){var i=r.offsetTop,o=r.offsetLeft,a=r.offsetParent;if(t+=i,n+=o,a===e.offsetParent)break;r=r.offsetParent}return{offsetTop:t,offsetLeft:n}}function pl(r,e){Object.keys(r).forEach(function(t){As(r[t])?e.removeAttribute(t):e.setAttribute(t,r[t])})}function Tw(r){var e=r.replace(/<p><br\s*\/*><\/p>/gi,"<p></p>"),t=new RegExp(Wp,"ig"),n=e.match(t);return n?.forEach(function(i,o){if(Ds.test(i)){var a=Gp;if(o){var s=n[o-1],l=s.match(jp);if(l&&!/br/i.test(l[1])){var u=l[1];a="</"+u+"><"+u+">"}}e=e.replace(Ds,a)}}),e}function hl(r){var e=/<img class="ProseMirror-separator" alt="">/g,t=/ class="ProseMirror-trailingBreak"/g,n=r;return n=n.replace(e,""),n=n.replace(t,""),n}var Yp=new xt("widget"),Lf=5,Ew=(function(){function r(e,t){var n=this;this.popup=null,this.removeWidget=function(){n.popup&&(n.rootEl.removeChild(n.popup),n.popup=null)},this.rootEl=e.dom.parentElement,this.eventEmitter=t,this.eventEmitter.listen("blur",this.removeWidget),this.eventEmitter.listen("loadUI",function(){n.rootEl=mt(e.dom.parentElement,"."+N("defaultUI"))}),this.eventEmitter.listen("removePopupWidget",this.removeWidget)}return r.prototype.update=function(e){var t=Yp.getState(e.state);if(this.removeWidget(),t){var n=t.node,i=t.style,o=e.coordsAtPos(t.pos),a=o.top,s=o.left,l=o.bottom,u=l-a,c=this.rootEl.getBoundingClientRect(),f=a-c.top;gt(n,{opacity:"0"}),this.rootEl.appendChild(n),gt(n,{position:"absolute",left:s-c.left+Lf+"px",top:(i==="bottom"?f+u-Lf:f-u)+"px",opacity:"1"}),this.popup=n,e.focus()}},r.prototype.destroy=function(){this.eventEmitter.removeEventHandler("blur",this.removeWidget)},r})();function Sw(r){return new ae({key:Yp,state:{init:function(){return null},apply:function(e){return e.getMeta("widget")}},view:function(e){return new Ew(e,r)}})}function Mw(r){r.listen("addImageBlobHook",function(e,t){var n=new FileReader;n.onload=function(i){var o=i.target;return t(o.result)},n.readAsDataURL(e)})}function vl(r,e,t){var n=function(i,o){r.emit("command","addImage",{imageUrl:i,altText:o||e.name||"image"})};r.emit("addImageBlobHook",e,n,t)}function Qp(r){var e=yt(r).filter(function(n){var i=n.type;return i.indexOf("image")!==-1});if(e.length===1){var t=e[0];if(t)return t.getAsFile()}return null}function Ow(r){var e=r.eventEmitter;return new ae({props:{handleDOMEvents:{drop:function(t,n){var i,o=(i=n.dataTransfer)===null||i===void 0?void 0:i.files;return o&&un(o,function(a){return a.type.indexOf("image")!==-1?(n.preventDefault(),n.stopPropagation(),vl(e,a,n.type),!1):!0}),!0}}}})}var te=(function(){function r(){}return Object.defineProperty(r.prototype,"type",{get:function(){return"node"},enumerable:!1,configurable:!0}),r.prototype.setContext=function(e){this.context=e},r})();function Zp(r){var e=document.createElement("span"),t=$p(r.attrs.info,r.textContent);return e.className="tui-widget",e.appendChild(t),{dom:e}}function Ns(r){return r.type.name==="widget"}var eh=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"widget"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{info:{default:null}},group:"inline",inline:!0,content:"text*",selectable:!1,atom:!0,toDOM:function(){return["span",{class:"tui-widget"},0]},parseDOM:[{tag:"span.tui-widget",getAttrs:function(t){var n=t.textContent,i=n.match(/\$\$(widget\d+)/),o=i[1];return{info:o}}}]}},enumerable:!1,configurable:!0}),e})(te),th=(function(){function r(e){this.timer=null,this.el=document.createElement("div"),this.el.className="toastui-editor",this.eventEmitter=e,this.placeholder={text:""}}return r.prototype.createState=function(){return Pn.create({schema:this.schema,plugins:this.createPlugins()})},r.prototype.initEvent=function(){var e=this,t=e.eventEmitter,n=e.view,i=e.editorType;n.dom.addEventListener("focus",function(){return t.emit("focus",i)}),n.dom.addEventListener("blur",function(){return t.emit("blur",i)})},r.prototype.emitChangeEvent=function(e){this.eventEmitter.emit("caretChange",this.editorType),e.docChanged&&this.eventEmitter.emit("change",this.editorType)},Object.defineProperty(r.prototype,"defaultPlugins",{get:function(){var e=this.createInputRules(),t=Ve(Ve([],this.keymaps),[Yr(k({"Shift-Enter":es.Enter},es)),as(),rw(this.placeholder),Sw(this.eventEmitter),Ow(this.context)]);return e?t.concat(e):t},enumerable:!1,configurable:!0}),r.prototype.createInputRules=function(){var e=ew(),t=e.map(function(n){var i=n.rule;return new rt(i,function(o,a,s,l){var u=o.schema,c=o.tr,f=o.doc,d=a.input.match(new RegExp(i,"g")),p=f.resolve(s),h=p.parent,v=0;if(Ns(h)&&(h=p.node(p.depth-1)),h.forEach(function(w){return Ns(w)&&(v+=1)}),d.length>v){var m=Re(d),g=Tr(m,u);return c.replaceWith(l-m.length+1,l,g)}return null})});return t.length?ts({rules:t}):null},r.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},r.prototype.createSchema=function(){return new Sn({nodes:this.specs.nodes,marks:this.specs.marks})},r.prototype.createKeymaps=function(e){var t=qp(),n=t.undo,i=t.redo,o=this.specs.keymaps(e),a={"Mod-z":n(),"Shift-Mod-z":i()};return e?o.concat(Yr(a)):o},r.prototype.createCommands=function(){return this.specs.commands(this.view)},r.prototype.createPluginProps=function(){var e=this;return this.extraPlugins.map(function(t){return t(e.eventEmitter)})},r.prototype.focus=function(){var e=this;this.clearTimer(),this.timer=setTimeout(function(){e.view.focus(),e.view.dispatch(e.view.state.tr.scrollIntoView())})},r.prototype.blur=function(){this.view.dom.blur()},r.prototype.destroy=function(){var e=this;this.clearTimer(),this.view.destroy(),Object.keys(this).forEach(function(t){delete e[t]})},r.prototype.moveCursorToStart=function(e){var t=this.view.state.tr;this.view.dispatch(t.setSelection(re(t,1)).scrollIntoView()),e&&this.focus()},r.prototype.moveCursorToEnd=function(e){var t=this.view.state.tr;this.view.dispatch(t.setSelection(re(t,t.doc.content.size-1)).scrollIntoView()),e&&this.focus()},r.prototype.setScrollTop=function(e){this.view.dom.scrollTop=e},r.prototype.getScrollTop=function(){return this.view.dom.scrollTop},r.prototype.setPlaceholder=function(e){this.placeholder.text=e,this.view.dispatch(this.view.state.tr.scrollIntoView())},r.prototype.setHeight=function(e){gt(this.el,{height:e+"px"})},r.prototype.setMinHeight=function(e){gt(this.el,{minHeight:e+"px"})},r.prototype.getElement=function(){return this.el},r})();function Lw(r){return r instanceof Function}var Ze=Lw,Aw=["Enter","Shift-Enter","Mod-Enter","Tab","Shift-Tab","Delete","Backspace","Mod-Delete","Mod-Backspace","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Mod-d","Mod-D","Alt-ArrowUp","Alt-ArrowDown"];function Ui(r,e,t){return r.focus(),e(t)(r.state,r.dispatch,r)}var rh=(function(){function r(e){this.specs=e}return Object.defineProperty(r.prototype,"nodes",{get:function(){return this.specs.filter(function(e){return e.type==="node"}).reduce(function(e,t){var n,i=t.name,o=t.schema;return k(k({},e),(n={},n[i]=o,n))},{})},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"marks",{get:function(){return this.specs.filter(function(e){return e.type==="mark"}).reduce(function(e,t){var n,i=t.name,o=t.schema;return k(k({},e),(n={},n[i]=o,n))},{})},enumerable:!1,configurable:!0}),r.prototype.commands=function(e,t){var n=this.specs.filter(function(o){var a=o.commands;return a}).reduce(function(o,a){var s={},l=a.commands();return Ze(l)?s[a.name]=function(u){return Ui(e,l,u)}:Object.keys(l).forEach(function(u){s[u]=function(c){return Ui(e,l[u],c)}}),k(k({},o),s)},{}),i=qp();return Object.keys(i).forEach(function(o){n[o]=function(a){return Ui(e,i[o],a)}}),t&&Object.keys(t).forEach(function(o){n[o]=function(a){return Ui(e,t[o],a)}}),n},r.prototype.keymaps=function(e){var t=this.specs.filter(function(n){return n.keymaps}).map(function(n){return n.keymaps()});return t.map(function(n){return e||Object.keys(n).forEach(function(i){Ee(Aw,i)||delete n[i]}),Yr(n)})},r.prototype.setContext=function(e){this.specs.forEach(function(t){t.setContext(e)})},r})();function nh(r){var e=r.from,t=r.to;return r instanceof Ae?[e+1,t-1]:[e,t]}function Af(r){return r.index(0)+1}function dn(r,e,t){t===void 0&&(t=1);var n=0;return r.forEach(function(i,o){Ns(i)&&o+2<e&&(n+=2*t)}),n}function Zi(r,e,t){t===void 0&&(t=e);var n=e===t,i=r.resolve(e),o=Af(i),a=o,s=i.start(1),l=s;if(!n){var u=r.resolve(t===r.content.size?t-1:t);l=u.start(1),a=Af(u),u.pos===r.content.size&&(t=r.content.size-2)}var c=Math.max(e-s+1,1),f=Math.max(t-l+1,1);return[[o,c+dn(r.child(o-1),c,-1)],[a,f+dn(r.child(a-1),f,-1)]]}function ih(r,e){for(var t=[],n=0,i=0;n<e;n+=1){var o=r.child(n);t[n]=i,i+=o.nodeSize}return t}function kr(r,e,t){var n=ih(r,t[0]),i=e[0]-1,o=t[0]-1,a=r.child(i),s=r.child(o),l=n[i],u=n[o];return l+=e[1]+dn(a,e[1]-1),u+=t[1]+dn(s,t[1]-1),[l,Math.min(u,r.content.size)]}function de(r){var e=r.$from,t=r.$to,n=r.from,i=r.to,o=e.doc;return r instanceof Ae&&(e=o.resolve(n+1),t=o.resolve(i-1)),e.depth===0&&(e=o.resolve(n-1),t=e),{startFromOffset:e.start(1),endFromOffset:t.start(1),startToOffset:e.end(1),endToOffset:t.end(1),startIndex:e.index(0),endIndex:t.index(0),from:e.pos,to:t.pos}}function po(r,e){for(var t=1,n=1,i=0,o=0;i<r.childCount;i+=1){var a=r.child(i).nodeSize;if(t=o+1,n=o+a-1,i===e)break;o+=a}return{startOffset:t,endOffset:n}}var Df="heading",Dw="blockQuote",Nw="listItem",Iw="table",Rw="tableCell",Pw="codeBlock",Bw="thematicBreak",eo="link",_i="code",Ao="meta",Or="delimiter",Hw="taskDelimiter",ml="markedText",Fw="html",$w="customBlock",Nf={strong:2,emph:1,strike:2};function Z(r,e,t,n){return{start:r,end:e,spec:{type:t,attrs:n}}}function zw(r,e,t){var n=r.level,i=r.headingType,o=[Z(e,t,Df,{level:n})];return i==="atx"?o.push(Z(e,ge(e,n),Or)):o.push(Z(Qt(t,0),t,Df,{seText:!0})),o}function ls(r,e,t){var n=r.type,i=ge(e,Nf[n]),o=ge(t,-Nf[n]);return[Z(i,o,n),Z(e,i,Or),Z(o,t,Or)]}function oh(r,e,t,n){return[Z(r,e,eo),Z(Qt(r,t[1]+1),Qt(e,n),eo,{desc:!0}),Z(Qt(e,n+2),ge(e,-1),eo,{url:!0})]}function qw(r,e,t){var n=r.lastChild,i=n?Yt(n)+1:3,o=ge(e,1);return Ve([Z(e,o,Ao)],oh(e,t,o,i))}function Vw(r,e,t){var n=r.lastChild,i=r.extendedAutolink,o=n?Yt(n)+1:2;return i?[Z(e,t,eo,{desc:!0})]:oh(e,t,e,o)}function Uw(r,e,t){var n=r.tickCount,i=ge(e,n),o=ge(t,-n);return[Z(e,t,_i),Z(e,i,_i,{start:!0}),Z(i,o,_i,{marked:!0}),Z(o,t,_i,{end:!0})]}function ah(r,e,t,n){var i={start:e,end:t,spec:{attrs:{className:n+"-line-background",codeStart:e[0],codeEnd:t[0]}},lineBackground:!0};return r.type!=="item"&&r.type!=="blockQuote"?[k(k({},i),{end:e,spec:{attrs:{className:n+"-line-background start"}}}),k(k({},i),{start:[Math.min(e[0]+1,t[0]),e[1]]})]:null}function _w(r,e,t,n){var i=r.fenceOffset,o=r.fenceLength,a=r.fenceChar,s=r.info,l=r.infoPadding,u=r.parent,c=i+o,f=[Z(Qt(e,1),t,Pw)];a&&f.push(Z(e,ge(e,c),Or)),s&&f.push(Z(ge(e,o),ge(e,o+l+s.length),Ao));var d="^(\\s{0,4})("+a+"{"+o+",})",p=new RegExp(d);p.test(n)&&f.push(Z(Qt(t,1),t,Or));var h=ah(u,e,t,"code-block");return h?f.concat(h):f}function jw(r,e,t){var n=r,i=n.offset,o=n.syntaxLength,a=n.info,s=n.parent,l=i+o,u=[Z(Qt(e,1),t,$w)];u.push(Z(e,ge(e,l),Or)),a&&u.push(Z(ge(e,l),ge(e,o+a.length),Ao)),u.push(Z(Qt(t,1),t,Or));var c=ah(s,e,t,"custom-block");return c?u.concat(c):u}function sh(r,e){for(var t=[];r;){var n=r.type;(n==="paragraph"||n==="codeBlock")&&t.push(Z([ti(r),Mo(r)-1],[So(r),Yt(r)+1],e)),r=r.next}return t}function Ww(r){for(var e=[];r;)e.push(Z([ti(r),Mo(r)],[So(r),Yt(r)+1],ml)),r=r.next;return e}function Gw(r,e,t){var n=r.parent&&r.parent.type!=="blockQuote"?[Z(e,t,Dw)]:[];if(r.firstChild){var i=[];r.firstChild.type==="paragraph"?i=Ww(r.firstChild.firstChild):r.firstChild.type==="list"&&(i=sh(r.firstChild,ml)),n=Ve(Ve([],n),i)}return n}function Kw(r){for(var e=0;r.parent.parent&&r.parent.parent.type==="item";)r=r.parent.parent,e+=1;var t=[{odd:!0},{even:!0}][e%2];return[Nw,k(k({},t),{listStyle:!0})]}function Jw(r,e){var t=r.listData,n=t.padding,i=t.task,o=Kw(r),a=[Z.apply(void 0,Ve([e,ge(e,n)],o))];return i&&(a.push(Z(ge(e,n),ge(e,n+3),Hw)),a.push(Z(ge(e,n+1),ge(e,n+2),Ao))),a.concat(sh(r.firstChild,ml))}var If={heading:zw,strong:ls,emph:ls,strike:ls,link:Vw,image:qw,code:Uw,codeBlock:_w,blockQuote:Gw,item:Jw,customBlock:jw},Rf={thematicBreak:Bw,table:Iw,tableCell:Rw,htmlInline:Fw};function Xw(r,e,t,n){var i=r.type;return Ze(If[i])?If[i](r,e,t,n):Rf[i]?[Z(e,t,Rf[i])]:null}var ei={};function Yw(r){var e=r.schema,t=r.toastMark;return new ae({appendTransaction:function(n,i,o){var a=n[0],s=o.tr;if(a.docChanged){var l=[],u=a.getMeta("editResult");u.forEach(function(c){var f=c.nodes,d=c.removedNodeRange;if(f.length){l=l.concat(n0(s,f));for(var p=0,h=f;p<h.length;p++)for(var v=h[p],m=v.walker(),g=m.next();g;){var w=g.node,y=g.entering;y&&(l=l.concat(i0(w,t))),g=m.next()}}else if(d)for(var x=s.doc.childCount-1,b=d.line,E=b[0],T=b[1],S=Math.min(E,x),A=Math.min(T,x),q=S;q<=A;q+=1)ei[q]=!0}),e0(s,e,l)}return s.setMeta("widget",a.getMeta("widget"))}})}function Qw(r,e,t){return Object.keys(t).some(function(n){return t[n]!==r.child(e).attrs[n]})}function Zw(r,e,t,n,i){i===void 0&&(i={});for(var o=n.startIndex,a=n.endIndex,s=n.from,l=n.to,u=!1,c=o;c<=a;c+=1)delete ei[c],u=Qw(e,c,i);u&&r.setBlockType(s,l,t,i)}function e0(r,e,t){var n=r.doc,i=e.nodes.paragraph,o=ih(n,n.childCount);t.forEach(function(a){var s=a.start,l=a.end,u=a.spec,c=a.lineBackground,f=Math.min(s[0],n.childCount)-1,d=Math.min(l[0],n.childCount)-1,p=n.child(f),h=n.child(d),v=o[f],m=o[d];if(v+=s[1]+dn(p,s[1]-1),m+=l[1]+dn(h,l[1]-1),u)if(c){var g={from:v,to:m,startIndex:f,endIndex:d};Zw(r,n,i,g,u.attrs)}else r.addMark(v,m,e.mark(u.type,u.attrs));else r.removeMark(v,m)}),t0(r,o,i)}function t0(r,e,t){Object.keys(ei).forEach(function(n){var i=Number(n),o=Math.min(Number(n)+1,r.doc.childCount-1),a=e[i],s=e[o]-1;i===o&&(s+=2),r.setBlockType(a,s,t)})}function r0(r,e,t){var n=[];ei={};for(var i=e[0]-1;i<t[0];i+=1){var o=r.child(i),a=o.attrs.codeEnd,s=o.attrs.codeStart;if(s&&a&&!Ee(n,s)){n.push(s),a=Math.min(a,r.childCount);for(var l=s-1,u=t[0],c=l;c<u;c+=1)ei[c]=!0}}}function n0(r,e){var t=r.doc,n=e[0].sourcepos[0],i=Re(e).sourcepos,o=i[1],a=[n[0],n[1]],s=[o[0],o[1]+1],l=[];return r0(t,n,o),l.push({start:a,end:s}),l}function i0(r,e){var t=e.getLineTexts(),n=[ti(r),Mo(r)],i=[So(r),Yt(r)+1],o=Xw(r,n,i,t[i[0]-1]);return o??[]}var o0=["taskList","orderedList","bulletList","table","strong","emph","strike","heading","thematicBreak","blockQuote","code","codeBlock","indent","outdent"];function a0(r){var e=r.type;return Sr(r)?r.listData.task?"taskList":r.listData.type==="ordered"?"orderedList":"bulletList":e.indexOf("table")!==-1?"table":Ee(o0,e)?e:null}function s0(r){var e={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}},t=!0;return Xb(r,function(n){var i=a0(n);i&&(i==="bulletList"||i==="orderedList"?t&&(e[i]={active:!0},e.indent.disabled=!1,e.outdent.disabled=!1,t=!1):e[i]={active:!0})}),e}function l0(r){var e=r.toastMark,t=r.eventEmitter;return new ae({view:function(){return{update:function(n,i){var o=n.state,a=o.doc,s=o.selection;if(!(i&&i.doc.eq(a)&&i.selection.eq(s))){var l=s.from,u=o.doc.resolve(l).start(),c=o.doc.content.findIndex(l).index+1,f=l-u;l===u&&(f+=1);var d=[c,f],p=e.findNodeAtPosition(d),h=s0(p);t.emit("changeToolbarState",{cursorPos:d,mdNode:p,toolbarState:h}),t.emit("setFocusedNode",p)}}}}})}var u0=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e})(te),ne=(function(){function r(){}return Object.defineProperty(r.prototype,"type",{get:function(){return"mark"},enumerable:!1,configurable:!0}),r.prototype.setContext=function(e){this.context=e},r})();function _e(r,e){return Zt(r,e-1)}function Zt(r,e){return r.child(e).textContent}var Xn=/^\s*> ?/,c0=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:pe("block-quote")},0]}}},enumerable:!1,configurable:!0}),e.prototype.createBlockQuoteText=function(t,n){return n?t.replace(Xn,"").trim():"> "+t.trim()},e.prototype.extendBlockQuote=function(){var t=this;return function(n,i){var o=n.selection,a=n.doc,s=n.tr,l=n.schema,u=de(o),c=u.endFromOffset,f=u.endToOffset,d=u.endIndex,p=u.to,h=Zt(a,d),v=Xn.test(h);if(v&&p>c&&o.empty){var m=!h.replace(Xn,"").trim();if(m)s.deleteRange(c,f).split(s.mapping.map(f));else{var g=h.slice(p-c).trim(),w=Te(l,t.createBlockQuoteText(g));ul(s,f,g,w)}return i(s),!0}return!1}},e.prototype.commands=function(){var t=this;return function(){return function(n,i){var o=n.selection,a=n.doc,s=de(o),l=s.startFromOffset,u=s.endToOffset,c=s.startIndex,f=s.endIndex,d=Xn.test(Zt(a,c)),p=fo({state:n,startIndex:c,endIndex:f,from:l,createText:function(h){return t.createBlockQuoteText(h,d)}});return i(p.setSelection(re(p,p.mapping.map(u)))),!0}}},e.prototype.keymaps=function(){var t=this.commands()();return{"alt-q":t,"alt-Q":t,Enter:this.extendBlockQuote()}},e})(ne),Lr=/(^\s*)([-*+] |[\d]+\. )/,gl=/(^\s*)([\d])+\.( \[[ xX]])? /,Nt=/^(\s*)((\d+)([.)]\s(?:\[(?:x|\s)\]\s)?))(.*)/,ho=/(^\s*)([-*+]|[\d]+\.)( \[[ xX]])? /,f0=/^(\s*)([-*+]+(\s(?:\[(?:x|\s)\]\s)?))(.*)/,d0=/(^\s*)([-*+] |[\d]+\. )(\[[ xX]] )/,p0=/(^\s*)([-*+])( \[[ xX]]) /;function yl(r){return gl.test(r)?"ordered":"bullet"}function bl(r){for(var e=0;r&&r.type!=="document";)r.type==="list"&&(e+=1),r=r.parent;return e}function Is(r,e,t,n){for(var i=r.getLineTexts(),o=i.length,a=[],s=e;n?s<o:s>1;){s=n?s+1:s-1;var l=r.findFirstNodeAtLine(s),u=bl(l);if(u===t)a.push({line:s,depth:t,mdNode:l});else if(u<t)break}return a}function h0(r){var e=r.toastMark,t=r.mdNode,n=r.line,i=bl(t),o=Is(e,n,i,!1).reverse(),a=Is(e,n,i,!0);return o.concat([{line:n,depth:i,mdNode:t}]).concat(a)}function v0(r){if(!Lr.test(r))return"* "+r;var e=yl(r);return e==="bullet"&&ho.test(r)?r=r.replace(p0,"$1$2 "):e==="ordered"&&(r=r.replace(gl,"$1* ")),r}function m0(r,e){if(!Lr.test(r))return e+". "+r;var t=yl(r);if(t==="bullet"||t==="ordered"&&ho.test(r))r=r.replace(ho,"$1"+e+". ");else if(t==="ordered"){var n=Nt.exec(r)[3];Number(n)!==e&&(r=r.replace(gl,"$1"+e+". "))}return r}function lh(r,e,t,n){n===void 0&&(n=0);var i=Number.MAX_VALUE,o=0,a=e.map(function(s,l){var u=s.line;i=Math.min(u-1,i),o=Math.max(u-1,o);var c=_e(r,u);return c=t==="bullet"?v0(c):m0(c,l+1+n),{text:c,line:u}});return{changedResults:a,firstIndex:i,lastIndex:o}}function Pf(r,e){var t=h0(e);return lh(e.doc,t,r)}var g0={bullet:function(r){return Pf("bullet",r)},ordered:function(r){return Pf("ordered",r)},task:function(r){var e=r.mdNode,t=r.doc,n=r.line,i=_e(t,n);return e.listData.task?i=i.replace(d0,"$1$2"):Sr(e)&&(i=i.replace(Lr,"$1$2[ ] ")),{changedResults:[{text:i,line:n}]}}},y0={bullet:function(r){var e=r.doc,t=r.line,n=_e(e,t),i=[{text:"* "+n,line:t}];return{changedResults:i}},ordered:function(r){for(var e=r.toastMark,t=r.doc,n=r.line,i=r.startLine,o=_e(t,n),a=1,s=i,l=0,u=i-1;u>0;u-=1){var c=e.findFirstNodeAtLine(u),f=_e(t,u),d=f&&!!cn(c,function(y){return Sr(y)}),p=Nt.exec(_e(t,u));if(!p&&!d)break;if(!p&&d){l+=1;continue}var h=p,v=h[1],m=h[3];if(!v){a=Number(m),s=u;break}}var g=a+n-s-l,w=[{text:g+". "+o,line:n}];return{changedResults:w}},task:function(r){var e=r.doc,t=r.line,n=_e(e,t),i=[{text:"* [ ] "+n,line:t}];return{changedResults:i}}},b0={bullet:function(r){var e=r.line,t=r.doc,n=_e(t,e),i=f0.exec(n),o=i[1],a=i[2];return{listSyntax:""+o+a}},ordered:function(r){var e=r.toastMark,t=r.line,n=r.mdNode,i=r.doc,o=bl(n),a=_e(i,t),s=Nt.exec(a),l=s[1],u=s[3],c=s[4],f=Number(u)+1,d=""+l+f+c,p=Is(e,t,o,!0),h=p.filter(function(v){var m=Nt.exec(_e(i,v.line));return m&&m[1].length===l.length&&!!cn(v.mdNode,function(g){return Bp(g)})});return k({listSyntax:d},lh(i,h,"ordered",f))}};function uh(r,e,t,n,i){for(var o=[],a=_e(r,t),s=Nt.exec(a);s;){var l=s[1],u=s[4],c=s[5],f=l.length;if(f===i)o.push(Te(e,""+l+n+u+c)),n+=1,t+=1;else if(f>i){var d=uh(r,e,t,1,f);t=d.line,o=o.concat(d.nodes)}if(f<i||t>r.childCount)break;a=_e(r,t),s=Nt.exec(a)}return{nodes:o,line:t}}var Bf=/(^\s{1,4})(.*)/;function Hf(r,e,t){return r<e||Lr.test(t)||Xn.test(t)}function Ff(r,e,t){var n=t.$from;n.depth===0&&(n=r.resolve(n.pos-1));var i=n.node(1),o=n.start(1),a=i.content.size;return i.rangeHasMark(0,a,e.marks.table)&&n.pos-o!==a&&n.pos!==o}function $f(r,e){var t=e.from,n=e.to;if(e.type==="indent"){var i=4;t+=i,n+=(e.lineLen+1)*i}else{var o=e.spaceLenList;t-=o[0];for(var a=0;a<o.length;a+=1)n-=o[a]}return re(r,t,n)}var w0=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",attrs:{className:{default:null},codeStart:{default:null},codeEnd:{default:null}},selectable:!1,group:"block",parseDOM:[{tag:"div"}],toDOM:function(t){var n=t.attrs;return n.className?["div",{class:pe(n.className)},0]:["div",0]}}},enumerable:!1,configurable:!0}),e.prototype.reorderList=function(t,n){for(var i=this.context,o=i.view,a=i.toastMark,s=i.schema,l=o.state,u=l.tr,c=l.selection,f=l.doc,d=a.findFirstNodeAtLine(t),p=d;d&&!Kb(d)&&d.parent.type!=="document";)if(d=d.parent,Bp(d)){p=d;break}p&&(t=p.sourcepos[0][0]);var h=Nt.exec(_e(f,t)),v=h[1],m=h[3],g=v.length,w=uh(f,s,t,Number(m),g),y=w.line,x=w.nodes;n=Math.max(n,y-1);for(var b=po(f,t-1).startOffset,E=t-1;E<=n-1;E+=1){var T=f.child(E),S=T.nodeSize,A=T.content,q=u.mapping.map(b),K=q+A.size;u.replaceWith(q,K,x[E-t+1]),b+=S}var ue=re(u,c.from,c.to);o.dispatch(u.setSelection(ue))},e.prototype.indent=function(t){var n=this;return t===void 0&&(t=!1),function(){return function(i,o){var a=i.schema,s=i.selection,l=i.doc,u=de(s),c=u.from,f=u.to,d=u.startFromOffset,p=u.startIndex,h=u.endIndex;if(t&&Ff(l,a,s))return!1;var v=Zt(l,p);if(t&&Hf(c,f,v)||!t&&Lr.test(v)){var m=fo({state:i,from:d,startIndex:p,endIndex:h,createText:function(w){return"    "+w}}),g={type:"indent",from:c,to:f,lineLen:h-p};o(m.setSelection($f(m,g))),Nt.test(v)&&n.reorderList(p+1,h+1)}else t&&o(i.tr.insert(f,Te(a,"    ")));return!0}}},e.prototype.outdent=function(t){var n=this;return t===void 0&&(t=!1),function(){return function(i,o){var a=i.selection,s=i.doc,l=i.schema,u=de(a),c=u.from,f=u.to,d=u.startFromOffset,p=u.startIndex,h=u.endIndex;if(t&&Ff(s,l,a))return!1;var v=Zt(s,p);if(t&&Hf(c,f,v)||!t&&Lr.test(v)){var m=[],g=fo({state:i,from:d,startIndex:p,endIndex:h,createText:function(E){var T=Bf.exec(E);return m.push(T?T[1].length:0),E.replace(Bf,"$2")}}),w={type:"outdent",from:c,to:f,spaceLenList:m};o(g.setSelection($f(g,w))),Nt.test(v)&&n.reorderList(p+1,h+1)}else if(t){var y=v.slice(0,f-d),x=y.replace(/\s{1,4}$/,""),b=f-(y.length-x.length);o(i.tr.delete(b,f))}return!0}}},e.prototype.deleteLines=function(){var t=this;return function(n,i){var o=t.context.view,a=de(n.selection),s=a.startFromOffset,l=a.endToOffset,u=function(){return i(n.tr.deleteRange(s,l)),!0};return _n(u,Xa)(n,i,o)}},e.prototype.moveDown=function(){return function(t,n){var i=t.doc,o=t.tr,a=t.selection,s=t.schema,l=de(a),u=l.startFromOffset,c=l.endToOffset,f=l.endIndex;if(f<i.content.childCount-1){var d=i.child(f+1),p=d.nodeSize,h=d.textContent;return o.delete(c,c+p).split(u).insert(o.mapping.map(u)-2,Te(s,h)),n(o),!0}return!1}},e.prototype.moveUp=function(){return function(t,n){var i=t.tr,o=t.doc,a=t.selection,s=t.schema,l=de(a),u=l.startFromOffset,c=l.endToOffset,f=l.startIndex;if(f>0){var d=o.child(f-1),p=d.nodeSize,h=d.textContent;return i.delete(u-p,u).split(i.mapping.map(c)).insert(i.mapping.map(c),Te(s,h)),n(i),!0}return!1}},e.prototype.commands=function(){return{indent:this.indent(),outdent:this.outdent()}},e.prototype.keymaps=function(){return{Tab:this.indent(!0)(),"Shift-Tab":this.outdent(!0)(),"Mod-d":this.deleteLines(),"Mod-D":this.deleteLines(),"Alt-ArrowUp":this.moveUp(),"Alt-ArrowDown":this.moveDown()}},e})(te),C0=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e})(te),x0=/^#{1,6}\s/,k0=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{level:{default:1},seText:{default:!1}},toDOM:function(t){var n=t.attrs,i=n.level,o=n.seText,a="heading|heading"+i;return o&&(a+="|delimiter|setext"),["span",{class:pe.apply(void 0,a.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.createHeadingText=function(t,n,i){for(var o=n.replace(i,"").trim(),a="";t>0;)a+="#",t-=1;return a+" "+o},e.prototype.commands=function(){var t=this;return function(n){return function(i,o){var a=n.level,s=de(i.selection),l=s.startFromOffset,u=s.endToOffset,c=s.startIndex,f=s.endIndex,d=fo({state:i,from:l,startIndex:c,endIndex:f,createText:function(p){var h=p.match(x0),v=h?h[0]:"";return t.createHeadingText(a,p,v)}});return o(d.setSelection(re(d,d.mapping.map(u)))),!0}}},e})(ne),us="```",T0=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:pe("code-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){var i=t.selection,o=t.schema,a=t.tr,s=de(i),l=s.startFromOffset,u=s.endToOffset,c=Te(o,us);return a.insert(l,c).split(l+us.length),a.split(a.mapping.map(u)).insert(a.mapping.map(u),c),n(a.setSelection(re(a,a.mapping.map(u)-(us.length+2)))),!0}}},e.prototype.keepIndentation=function(){var t=this;return function(n,i){var o=n.selection,a=n.tr,s=n.doc,l=n.schema,u=t.context.toastMark,c=de(o),f=c.startFromOffset,d=c.endToOffset,p=c.endIndex,h=c.from,v=c.to,m=Zt(s,p);if(h===v&&m.trim()){var g=m.match(/^\s+/),w=u.findFirstNodeAtLine(p+1);if(Gb(w)&&g){var y=g[0],x=m.slice(v-f),b=Te(l,y+x);return ul(a,d,x,b),i(a),!0}}return!1}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-p":t,"Shift-Mod-P":t,Enter:this.keepIndentation()}},e})(ne),E0=/\||\s/g;function S0(r){return[vo(r),vo(r,!0)]}function M0(r,e){for(var t=[],n=0;n<e;n+=1)t.push(vo(r));return t}function vo(r,e){for(var t="|",n=0;n<r;n+=1)t+=e?" --- |":"  |";return t}function O0(r){return r?{type:"next",parentType:"tableHead",childType:"firstChild"}:{type:"prev",parentType:"tableBody",childType:"lastChild"}}var L0=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:pe("table")},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendTable=function(){var t=this;return function(n,i){var o=n.selection,a=n.doc,s=n.tr,l=n.schema;if(!o.empty)return!1;var u=de(o),c=u.endFromOffset,f=u.endToOffset,d=u.endIndex,p=u.to,h=Zt(a,d),v=[d+1,p-c+1],m=t.context.toastMark.findNodeAtPosition(v),g=cn(m,function(E){return Mf(E)&&(E.parent.type==="tableDelimRow"||E.parent.parent.type==="tableBody")});if(g){var w=!h.replace(E0,"").trim(),y=g.parent,x=y.parent.parent.columns.length,b=vo(x);return w?s.deleteRange(c,f).split(s.mapping.map(f)):s.split(f).insert(s.mapping.map(f),Te(l,b)).setSelection(re(s,s.mapping.map(f)-2)),i(s),!0}return!1}},e.prototype.moveTableCell=function(t){var n=this;return function(i,o){var a=i.selection,s=i.tr,l=de(a),u=l.endFromOffset,c=l.endIndex,f=l.to,d=[c+1,f-u],p=n.context.toastMark.findNodeAtPosition(d),h=cn(p,function(T){return Mf(T)});if(h){var v=h.parent,m=O0(t),g=m.type,w=m.parentType,y=m.childType,x=Yt(h);if(h[g])x=Yt(h[g])-1;else{var b=!v[g]&&v.parent.type===w?v.parent[g][y]:v[g];if(g==="next"){var E=b?Yt(b[y]):0;x+=E+2}else g==="prev"&&(x=b?-4:0)}return o(s.setSelection(re(s,u+x))),!0}return!1}},e.prototype.addTable=function(){return function(t){return function(n,i){var o=n.selection,a=n.tr,s=n.schema,l=t,u=l.columnCount,c=l.rowCount,f=de(o).endToOffset,d=S0(u),p=M0(u,c-1),h=Ve(Ve([],d),p);return h.forEach(function(v){a.split(a.mapping.map(f)).insert(a.mapping.map(f),Te(s,v))}),i(a.setSelection(re(a,f+4))),!0}}},e.prototype.commands=function(){return{addTable:this.addTable()}},e.prototype.keymaps=function(){return{Enter:this.extendTable(),Tab:this.moveTableCell(!0),"Shift-Tab":this.moveTableCell(!1)}},e})(ne),A0="***",D0=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:pe("thematic-break")},0]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){return function(){return function(t,n){var i=t.selection,o=t.schema,a=t.tr,s=de(i),l=s.from,u=s.to,c=s.endToOffset,f=Te(o,A0);return a.split(l).replaceWith(a.mapping.map(l),a.mapping.map(u),f).split(a.mapping.map(u)).setSelection(re(a,a.mapping.map(c))),n(a),!0}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var t=this.hr()();return{"Mod-l":t,"Mod-L":t}},e})(ne);function N0(r,e){var t=r.type,n=r.sourcepos,i=n[0][0];return e<=i&&(t==="codeBlock"||t==="heading"||t.match("table"))}var I0=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{odd:{default:!1},even:{default:!1},listStyle:{default:!1}},toDOM:function(t){var n=t.attrs,i=n.odd,o=n.even,a=n.listStyle,s="list-item";return a&&(s+="|list-item-style"),i&&(s+="|list-item-odd"),o&&(s+="|list-item-even"),["span",{class:pe.apply(void 0,s.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendList=function(){var t=this;return function(n,i){var o=n.selection,a=n.doc,s=n.schema,l=n.tr,u=t.context.toastMark,c=de(o),f=c.to,d=c.startFromOffset,p=c.endFromOffset,h=c.endIndex,v=c.endToOffset,m=Zt(a,h),g=Lr.test(m);if(!g||o.from===d||!o.empty)return!1;var w=!m.replace(ho,"").trim();if(w)l.deleteRange(p,v).split(l.mapping.map(v));else{var y=yl(m),x=u.findFirstNodeAtLine(h+1),b=m.slice(f-p),E={toastMark:u,mdNode:x,doc:a,line:h+1},T=b0[y](E),S=T.listSyntax,A=T.changedResults;if(A?.length){l.split(f),A.unshift({text:S+b,line:h+1}),t.changeToListPerLine(l,A,{from:f,startLine:A[0].line,endLine:Re(A).line});var q=l.mapping.map(v)-b.length;l.setSelection(re(l,q))}else{var K=Te(s,S+b);ul(l,v,b,K)}}return i(l),!0}},e.prototype.toList=function(t){var n=this;return function(){return function(i,o){for(var a=i.doc,s=i.tr,l=i.selection,u=n.context.toastMark,c=de(l),f=c.startIndex+1,d=c.endIndex+1,p=c.endToOffset,h=[],v=f;v<=d;v+=1){var m=u.findFirstNodeAtLine(v);if(m&&N0(m,v))break;if(h.indexOf(v)===-1){var g={toastMark:u,mdNode:m,doc:a,line:v,startLine:f},w=(Sr(m)?g0[t](g):y0[t](g)).changedResults,y=n.changeToListPerLine(s,w,{from:po(a,w[0].line-1).startOffset,startLine:w[0].line,endLine:Re(w).line,indexDiff:1});p=Math.max(y,p),w&&(h=h.concat(w.map(function(x){return x.line})))}}return o(s.setSelection(re(s,s.mapping.map(p)))),!0}}},e.prototype.changeToListPerLine=function(t,n,i){for(var o=i.from,a=i.startLine,s=i.endLine,l=i.indexDiff,u=l===void 0?0:l,c=0,f=function(h){var v=t.doc.child(h),m=v.nodeSize,g=v.content,w=t.mapping.map(o),y=w+g.size,x=n.filter(function(b){return b.line-u===h})[0];x&&(t.replaceWith(w,y,Te(d.context.schema,x.text)),c=Math.max(c,o+g.size)),o+=m},d=this,p=a-u;p<=s-u;p+=1)f(p);return c},e.prototype.toggleTask=function(){var t=this;return function(n,i){for(var o=n.selection,a=n.tr,s=n.doc,l=n.schema,u=t.context.toastMark,c=de(o),f=c.startIndex,d=c.endIndex,p=null,h=f;h<=d;h+=1){var v=u.findFirstNodeAtLine(h+1);if(Sr(v)&&v.listData.task){var m=v.listData,g=m.checked,w=m.padding,y=g?" ":"x",x=v.sourcepos[0],b=po(s,x[0]-1).startOffset;b+=x[1]+w,p=a.replaceWith(b,b+1,l.text(y))}}return p?(i(p),!0):!1}},e.prototype.commands=function(){return{bulletList:this.toList("bullet"),orderedList:this.toList("ordered"),taskList:this.toList("task")}},e.prototype.keymaps=function(){var t=this.toList("bullet")(),n=this.toList("ordered")(),i=this.toList("task")(),o=this.toggleTask();return{"Mod-u":t,"Mod-U":t,"Mod-o":n,"Mod-O":n,"alt-t":i,"alt-T":i,"Shift-Ctrl-x":o,"Shift-Ctrl-X":o,Enter:this.extendList()}},e})(ne);function Do(r,e){return function(){return function(t,n){var i=t.tr,o=t.selection,a=Ze(r)?r:function(y){return r.test(y)},s=e.length,l=i.doc,u=nh(o),c=u[0],f=u[1],d=Math.max(c-s,1),p=Math.min(f+s,l.content.size-1),h=o.content(),v=h.content.textBetween(0,h.content.size,`
`),m=l.textBetween(d,c,`
`),g=l.textBetween(f,p,`
`);if(v=""+m+v+g,m&&g&&a(v))i.delete(p-s,p).delete(d,d+s);else{i.insertText(e,f).insertText(e,c);var w=o.empty?re(i,c+s):re(i,c+s,f+s);i.setSelection(w)}return n(i),!0}}}var R0=/^(\*{2}|_{2}).*([\s\S]*)\1$/m,P0="**",B0=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:pe("strong")},0]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return Do(R0,P0)},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var t=this.bold()();return{"Mod-b":t,"Mod-B":t}},e})(ne),H0=/^(~{2}).*([\s\S]*)\1$/m,F0="~~",$0=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:pe("strike")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return Do(H0,F0)},e.prototype.keymaps=function(){var t=this.commands()();return{"Mod-s":t,"Mod-S":t}},e})(ne),z0=/^(\*|_).*([\s\S]*)\1$/m,q0="*",V0=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:pe("emph")},0]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return Do(z0,q0)},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var t=this.italic()();return{"Mod-i":t,"Mod-I":t}},e})(ne),U0=/^(`).*([\s\S]*)\1$/m,_0="`",j0=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{start:{default:!1},end:{default:!1},marked:{default:!1}},toDOM:function(t){var n=t.attrs,i=n.start,o=n.end,a=n.marked,s="code";return i&&(s+="|delimiter|start"),o&&(s+="|delimiter|end"),a&&(s+="|marked-text"),["span",{class:pe.apply(void 0,s.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return Do(U0,_0)},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-c":t,"Shift-Mod-C":t}},e})(ne),W0=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{url:{default:!1},desc:{default:!1}},toDOM:function(t){var n=t.attrs,i=n.url,o=n.desc,a="link";return i&&(a+="|link-url|marked-text"),o&&(a+="|link-desc|marked-text"),["span",{class:pe.apply(void 0,a.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.addLinkOrImage=function(t){return function(n){return function(i,o){var a=i.selection,s=i.tr,l=i.schema,u=nh(a),c=u[0],f=u[1],d=n,p=d.linkText,h=d.altText,v=d.linkUrl,m=d.imageUrl,g=p,w=v,y="";return t==="image"&&(g=h,w=m,y="!"),g=lo(g),y+="["+g+"]("+w+")",o(s.replaceWith(c,f,Te(l,y))),!0}}},e.prototype.commands=function(){return{addImage:this.addLinkOrImage("image"),addLink:this.addLinkOrImage("link")}},e})(ne),G0=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"taskDelimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:pe("delimiter","list-item")},0]}}},enumerable:!1,configurable:!0}),e})(ne),K0=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"delimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:pe("delimiter")},0]}}},enumerable:!1,configurable:!0}),e})(ne),J0=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"meta"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:pe("meta")},0]}}},enumerable:!1,configurable:!0}),e})(ne),X0=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"markedText"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:pe("marked-text")},0]}}},enumerable:!1,configurable:!0}),e})(ne),Y0=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:pe("table-cell")},0]}}},enumerable:!1,configurable:!0}),e})(ne),Q0=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"html"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:pe("html")},0]}}},enumerable:!1,configurable:!0}),e})(ne),cs="$$",Z0=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:pe("custom-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(n,i){var o=n.selection,a=n.schema,s=n.tr,l=de(o),u=l.startFromOffset,c=l.endToOffset;if(!t?.info)return!1;var f=""+cs+t.info,d=Te(a,f),p=Te(a,cs);return s.insert(u,d).split(u+f.length),s.split(s.mapping.map(c)).insert(s.mapping.map(c),p),i(s.setSelection(re(s,s.mapping.map(c)-(cs.length+2)))),!0}}},e})(ne),eC=/x|backspace/i,tC=/^\[(\s*)(x?)(\s*)\](?:\s+)/i;function rC(r){var e=r.schema,t=r.toastMark;return new ae({props:{handleDOMEvents:{keyup:function(n,i){var o,a=n.state,s=a.doc,l=a.tr,u=a.selection;if(u.empty&&eC.test(i.key)){var c=de(u),f=c.startIndex,d=c.startFromOffset,p=c.from,h=[f+1,p-d+1],v=t.findNodeAtPosition(h),m=cn(v,function(K){var ue;return K.type==="paragraph"&&((ue=K.parent)===null||ue===void 0?void 0:ue.type)==="item"});if(!((o=m?.firstChild)===null||o===void 0)&&o.literal){var g=m.firstChild,w=g.literal.match(tC);if(w){var y=g.sourcepos[0],x=w[1],b=w[2],E=w[3],T=x.length+E.length,S=po(s,y[0]-1).startOffset,A=y[1]+S;if(b){var q=T?T+1:0;l.replaceWith(A,q+A,e.text(b)),n.dispatch(l)}else T||(l.insertText(" ",A),n.dispatch(l))}}}return!1}}}})}var fs="cut",zf=/\r\n|\n|\r/,nC=(function(r){D(e,r);function e(t,n){var i=r.call(this,t)||this,o=n.toastMark,a=n.useCommandShortcut,s=a===void 0?!0:a,l=n.mdPlugins,u=l===void 0?[]:l;return i.editorType="markdown",i.el.classList.add("md-mode"),i.toastMark=o,i.extraPlugins=u,i.specs=i.createSpecs(),i.schema=i.createSchema(),i.context=i.createContext(),i.keymaps=i.createKeymaps(s),i.view=i.createView(),i.commands=i.createCommands(),i.specs.setContext(k(k({},i.context),{view:i.view})),i.createClipboard(),i.eventEmitter.listen("changePreviewTabWrite",function(c){return i.toggleActive(!0,c)}),i.eventEmitter.listen("changePreviewTabPreview",function(){return i.toggleActive(!1)}),i.initEvent(),i}return e.prototype.toggleActive=function(t,n){fl(this.el,"active",t),t?n||this.focus():this.blur()},e.prototype.createClipboard=function(){var t=this;this.clipboard=document.createElement("textarea"),this.clipboard.className=N("pseudo-clipboard"),this.clipboard.addEventListener("paste",function(n){var i=n.clipboardData||window.clipboardData,o=i&&i.items;if(o){var a=yt(o).some(function(l){return l.kind==="string"&&l.type==="text/rtf"});if(!a){var s=Qp(o);s&&(n.preventDefault(),vl(t.eventEmitter,s,n.type))}}}),this.clipboard.addEventListener("input",function(n){var i=n.target.value;t.replaceSelection(i),n.preventDefault(),n.target.value=""}),this.el.insertBefore(this.clipboard,this.view.dom)},e.prototype.createContext=function(){return{toastMark:this.toastMark,schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSpecs=function(){return new rh([new u0,new w0,new eh,new C0,new k0,new c0,new T0,new Z0,new L0,new Y0,new D0,new I0,new B0,new $0,new V0,new j0,new W0,new K0,new G0,new X0,new J0,new Q0])},e.prototype.createPlugins=function(){return Ve([Yw(this.context),l0(this.context),rC(this.context)],this.createPluginProps()).concat(this.defaultPlugins)},e.prototype.createView=function(){var t=this;return new gr(this.el,{state:this.createState(),dispatchTransaction:function(n){t.updateMarkdown(n);var i=t.view.state.applyTransaction(n).state;t.view.updateState(i),t.emitChangeEvent(n)},handleKeyDown:function(n,i){return(i.metaKey||i.ctrlKey)&&i.key.toUpperCase()==="V"&&t.clipboard.focus(),t.eventEmitter.emit("keydown",t.editorType,i),!1},handleDOMEvents:{copy:function(n,i){return t.captureCopy(i)},cut:function(n,i){return t.captureCopy(i,fs)},scroll:function(){return t.eventEmitter.emit("scroll","editor"),!0},keyup:function(n,i){return t.eventEmitter.emit("keyup",t.editorType,i),!1}},nodeViews:{widget:Zp}})},e.prototype.createCommands=function(){return this.specs.commands(this.view)},e.prototype.captureCopy=function(t,n){t.preventDefault();var i=this.view.state,o=i.selection,a=i.tr;if(o.empty)return!0;var s=this.getChanged(o.content());return t.clipboardData?t.clipboardData.setData("text/plain",s):window.clipboardData.setData("Text",s),n===fs&&this.view.dispatch(a.deleteSelection().scrollIntoView().setMeta("uiEvent",fs)),!0},e.prototype.updateMarkdown=function(t){var n=this;t.docChanged&&t.steps.forEach(function(i,o){if(i.slice&&!(i instanceof ce)){var a=t.docs[o],s=[i.from,i.to],l=s[0],u=s[1],c=Zi(a,l,u),f=c[0],d=c[1],p=n.getChanged(i.slice);f[0]===d[0]&&f[1]===d[1]&&p===""&&(p=`
`);var h=n.toastMark.editMarkdown(f,d,p);n.eventEmitter.emit("updatePreview",h),t.setMeta("editResult",h).scrollIntoView()}})},e.prototype.getChanged=function(t){var n="",i=0,o=t.content.size;return t.content.nodesBetween(i,o,function(a,s){a.isText?n+=a.text.slice(Math.max(i,s)-s,o-s):a.isBlock&&s>0&&(n+=`
`)}),n},e.prototype.setSelection=function(t,n){n===void 0&&(n=t);var i=this.view.state.tr,o=kr(i.doc,t,n),a=o[0],s=o[1];this.view.dispatch(i.setSelection(re(i,a,s)).scrollIntoView())},e.prototype.replaceSelection=function(t,n,i){var o,a=this.view.state,s=a.tr,l=a.schema,u=a.doc,c=t.split(zf),f=c.map(function(m){return co(l,Tr(m,l))}),d=new L(M.from(f),1,1);if(this.focus(),n&&i){var p=kr(u,n,i),h=p[0],v=p[1];o=s.replaceRange(h,v,d)}else o=s.replaceSelection(d);this.view.dispatch(o.scrollIntoView())},e.prototype.deleteSelection=function(t,n){var i,o=this.view.state,a=o.tr,s=o.doc;if(t&&n){var l=kr(s,t,n),u=l[0],c=l[1];i=a.deleteRange(u,c)}else i=a.deleteSelection();this.view.dispatch(i.scrollIntoView())},e.prototype.getSelectedText=function(t,n){var i=this.view.state,o=i.doc,a=i.selection,s=a.from,l=a.to;if(t&&n){var u=kr(o,t,n);s=u[0],l=u[1]}return o.textBetween(s,l,`
`)},e.prototype.getSelection=function(){var t=this.view.state.selection,n=t.from,i=t.to;return Zi(this.view.state.tr.doc,n,i)},e.prototype.setMarkdown=function(t,n){n===void 0&&(n=!0);var i=t.split(zf),o=this.view.state,a=o.tr,s=o.doc,l=o.schema,u=i.map(function(c){return co(l,Tr(c,l))});this.view.dispatch(a.replaceWith(0,s.content.size,u)),n&&this.moveCursorToEnd(!0)},e.prototype.addWidget=function(t,n,i){var o=this.view.state,a=o.tr,s=o.doc,l=o.selection,u=i?kr(s,i,i)[0]:l.to;this.view.dispatch(a.setMeta("widget",{pos:u,node:t,style:n}))},e.prototype.replaceWithWidget=function(t,n,i){var o=this.view.state,a=o.tr,s=o.schema,l=o.doc,u=kr(l,t,n),c=Tr(i,s);this.view.dispatch(a.replaceWith(u[0],u[1],c))},e.prototype.getRangeInfoOfNode=function(t){var n=this.view.state,i=n.doc,o=n.selection,a=t||Zi(i,o.from)[0],s=this.toastMark.findNodeAtPosition(a);return s.type==="text"&&s.parent.type!=="paragraph"&&(s=s.parent),s.sourcepos[1][1]+=1,{range:s.sourcepos,type:s.type}},e.prototype.getMarkdown=function(){return this.toastMark.getLineTexts().map(function(t){return Oo(t)}).join(`
`)},e.prototype.getToastMark=function(){return this.toastMark},e})(th),qf="_feEventKey";function iC(r,e){var t=r[qf],n;return t||(t=r[qf]={}),n=t[e],n||(n=t[e]=[]),n}var ch=iC,oC=Pt,mo=Eo,aC=ch;function sC(r,e,t){if(oC(e)){mo(e.split(/\s+/g),function(n){Vf(r,n,t)});return}mo(e,function(n,i){Vf(r,i,n)})}function Vf(r,e,t){var n=aC(r,e),i;t?(mo(n,function(o,a){return t===o.handler?(Uf(r,e,o.wrappedHandler),i=a,!1):!0}),n.splice(i,1)):(mo(n,function(o){Uf(r,e,o.wrappedHandler)}),n.splice(0,n.length))}function Uf(r,e,t){"removeEventListener"in r?r.removeEventListener(e,t):"detachEvent"in r&&r.detachEvent("on"+e,t)}var fh=sC,lC=Pt,Rs=Eo,uC=ch;function cC(r,e,t,n){if(lC(e)){Rs(e.split(/\s+/g),function(i){_f(r,i,t,n)});return}Rs(e,function(i,o){_f(r,o,i,t)})}function _f(r,e,t,n){function i(o){t.call(n||r,o||window.event)}"addEventListener"in r?r.addEventListener(e,i):"attachEvent"in r&&r.attachEvent("on"+e,i),fC(r,e,t,i)}function fC(r,e,t,n){var i=uC(r,e),o=!1;Rs(i,function(a){return a.handler===t?(o=!0,!1):!0}),o||i.push({handler:t,wrappedHandler:n})}var dh=cC;var Ps=function(r,e){return Ps=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},Ps(r,e)};function et(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ps(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var ke=function(){return ke=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ke.apply(this,arguments)};function Bs(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))}var pn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jf={};function dC(r){var e,t,n=jf[r];if(n)return n;for(n=jf[r]=[],e=0;e<128;e++)t=String.fromCharCode(e),/^[0-9a-z]$/i.test(t)?n.push(t):n.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2));for(e=0;e<r.length;e++)n[r.charCodeAt(e)]=r[e];return n}function No(r,e,t){var n,i,o,a,s,l="";for(typeof e!="string"&&(t=e,e=No.defaultChars),typeof t>"u"&&(t=!0),s=dC(e),n=0,i=r.length;n<i;n++){if(o=r.charCodeAt(n),t&&o===37&&n+2<i&&/^[0-9a-f]{2}$/i.test(r.slice(n+1,n+3))){l+=r.slice(n,n+3),n+=2;continue}if(o<128){l+=s[o];continue}if(o>=55296&&o<=57343){if(o>=55296&&o<=56319&&n+1<i&&(a=r.charCodeAt(n+1),a>=56320&&a<=57343)){l+=encodeURIComponent(r[n]+r[n+1]),n++;continue}l+="%EF%BF%BD";continue}l+=encodeURIComponent(r[n])}return l}No.defaultChars=";/?:@&=+$,-_.!~*'()#";No.componentChars="-_.!~*'()";var pC=No,wl={},It={},hC="\xC1",vC="\xE1",mC="\u0102",gC="\u0103",yC="\u223E",bC="\u223F",wC="\u223E\u0333",CC="\xC2",xC="\xE2",kC="\xB4",TC="\u0410",EC="\u0430",SC="\xC6",MC="\xE6",OC="\u2061",LC="\u{1D504}",AC="\u{1D51E}",DC="\xC0",NC="\xE0",IC="\u2135",RC="\u2135",PC="\u0391",BC="\u03B1",HC="\u0100",FC="\u0101",$C="\u2A3F",zC="&",qC="&",VC="\u2A55",UC="\u2A53",_C="\u2227",jC="\u2A5C",WC="\u2A58",GC="\u2A5A",KC="\u2220",JC="\u29A4",XC="\u2220",YC="\u29A8",QC="\u29A9",ZC="\u29AA",ex="\u29AB",tx="\u29AC",rx="\u29AD",nx="\u29AE",ix="\u29AF",ox="\u2221",ax="\u221F",sx="\u22BE",lx="\u299D",ux="\u2222",cx="\xC5",fx="\u237C",dx="\u0104",px="\u0105",hx="\u{1D538}",vx="\u{1D552}",mx="\u2A6F",gx="\u2248",yx="\u2A70",bx="\u224A",wx="\u224B",Cx="'",xx="\u2061",kx="\u2248",Tx="\u224A",Ex="\xC5",Sx="\xE5",Mx="\u{1D49C}",Ox="\u{1D4B6}",Lx="\u2254",Ax="*",Dx="\u2248",Nx="\u224D",Ix="\xC3",Rx="\xE3",Px="\xC4",Bx="\xE4",Hx="\u2233",Fx="\u2A11",$x="\u224C",zx="\u03F6",qx="\u2035",Vx="\u223D",Ux="\u22CD",_x="\u2216",jx="\u2AE7",Wx="\u22BD",Gx="\u2305",Kx="\u2306",Jx="\u2305",Xx="\u23B5",Yx="\u23B6",Qx="\u224C",Zx="\u0411",ek="\u0431",tk="\u201E",rk="\u2235",nk="\u2235",ik="\u2235",ok="\u29B0",ak="\u03F6",sk="\u212C",lk="\u212C",uk="\u0392",ck="\u03B2",fk="\u2136",dk="\u226C",pk="\u{1D505}",hk="\u{1D51F}",vk="\u22C2",mk="\u25EF",gk="\u22C3",yk="\u2A00",bk="\u2A01",wk="\u2A02",Ck="\u2A06",xk="\u2605",kk="\u25BD",Tk="\u25B3",Ek="\u2A04",Sk="\u22C1",Mk="\u22C0",Ok="\u290D",Lk="\u29EB",Ak="\u25AA",Dk="\u25B4",Nk="\u25BE",Ik="\u25C2",Rk="\u25B8",Pk="\u2423",Bk="\u2592",Hk="\u2591",Fk="\u2593",$k="\u2588",zk="=\u20E5",qk="\u2261\u20E5",Vk="\u2AED",Uk="\u2310",_k="\u{1D539}",jk="\u{1D553}",Wk="\u22A5",Gk="\u22A5",Kk="\u22C8",Jk="\u29C9",Xk="\u2510",Yk="\u2555",Qk="\u2556",Zk="\u2557",e1="\u250C",t1="\u2552",r1="\u2553",n1="\u2554",i1="\u2500",o1="\u2550",a1="\u252C",s1="\u2564",l1="\u2565",u1="\u2566",c1="\u2534",f1="\u2567",d1="\u2568",p1="\u2569",h1="\u229F",v1="\u229E",m1="\u22A0",g1="\u2518",y1="\u255B",b1="\u255C",w1="\u255D",C1="\u2514",x1="\u2558",k1="\u2559",T1="\u255A",E1="\u2502",S1="\u2551",M1="\u253C",O1="\u256A",L1="\u256B",A1="\u256C",D1="\u2524",N1="\u2561",I1="\u2562",R1="\u2563",P1="\u251C",B1="\u255E",H1="\u255F",F1="\u2560",$1="\u2035",z1="\u02D8",q1="\u02D8",V1="\xA6",U1="\u{1D4B7}",_1="\u212C",j1="\u204F",W1="\u223D",G1="\u22CD",K1="\u29C5",J1="\\",X1="\u27C8",Y1="\u2022",Q1="\u2022",Z1="\u224E",eT="\u2AAE",tT="\u224F",rT="\u224E",nT="\u224F",iT="\u0106",oT="\u0107",aT="\u2A44",sT="\u2A49",lT="\u2A4B",uT="\u2229",cT="\u22D2",fT="\u2A47",dT="\u2A40",pT="\u2145",hT="\u2229\uFE00",vT="\u2041",mT="\u02C7",gT="\u212D",yT="\u2A4D",bT="\u010C",wT="\u010D",CT="\xC7",xT="\xE7",kT="\u0108",TT="\u0109",ET="\u2230",ST="\u2A4C",MT="\u2A50",OT="\u010A",LT="\u010B",AT="\xB8",DT="\xB8",NT="\u29B2",IT="\xA2",RT="\xB7",PT="\xB7",BT="\u{1D520}",HT="\u212D",FT="\u0427",$T="\u0447",zT="\u2713",qT="\u2713",VT="\u03A7",UT="\u03C7",_T="\u02C6",jT="\u2257",WT="\u21BA",GT="\u21BB",KT="\u229B",JT="\u229A",XT="\u229D",YT="\u2299",QT="\xAE",ZT="\u24C8",eE="\u2296",tE="\u2295",rE="\u2297",nE="\u25CB",iE="\u29C3",oE="\u2257",aE="\u2A10",sE="\u2AEF",lE="\u29C2",uE="\u2232",cE="\u201D",fE="\u2019",dE="\u2663",pE="\u2663",hE=":",vE="\u2237",mE="\u2A74",gE="\u2254",yE="\u2254",bE=",",wE="@",CE="\u2201",xE="\u2218",kE="\u2201",TE="\u2102",EE="\u2245",SE="\u2A6D",ME="\u2261",OE="\u222E",LE="\u222F",AE="\u222E",DE="\u{1D554}",NE="\u2102",IE="\u2210",RE="\u2210",PE="\xA9",BE="\xA9",HE="\u2117",FE="\u2233",$E="\u21B5",zE="\u2717",qE="\u2A2F",VE="\u{1D49E}",UE="\u{1D4B8}",_E="\u2ACF",jE="\u2AD1",WE="\u2AD0",GE="\u2AD2",KE="\u22EF",JE="\u2938",XE="\u2935",YE="\u22DE",QE="\u22DF",ZE="\u21B6",eS="\u293D",tS="\u2A48",rS="\u2A46",nS="\u224D",iS="\u222A",oS="\u22D3",aS="\u2A4A",sS="\u228D",lS="\u2A45",uS="\u222A\uFE00",cS="\u21B7",fS="\u293C",dS="\u22DE",pS="\u22DF",hS="\u22CE",vS="\u22CF",mS="\xA4",gS="\u21B6",yS="\u21B7",bS="\u22CE",wS="\u22CF",CS="\u2232",xS="\u2231",kS="\u232D",TS="\u2020",ES="\u2021",SS="\u2138",MS="\u2193",OS="\u21A1",LS="\u21D3",AS="\u2010",DS="\u2AE4",NS="\u22A3",IS="\u290F",RS="\u02DD",PS="\u010E",BS="\u010F",HS="\u0414",FS="\u0434",$S="\u2021",zS="\u21CA",qS="\u2145",VS="\u2146",US="\u2911",_S="\u2A77",jS="\xB0",WS="\u2207",GS="\u0394",KS="\u03B4",JS="\u29B1",XS="\u297F",YS="\u{1D507}",QS="\u{1D521}",ZS="\u2965",eM="\u21C3",tM="\u21C2",rM="\xB4",nM="\u02D9",iM="\u02DD",oM="`",aM="\u02DC",sM="\u22C4",lM="\u22C4",uM="\u22C4",cM="\u2666",fM="\u2666",dM="\xA8",pM="\u2146",hM="\u03DD",vM="\u22F2",mM="\xF7",gM="\xF7",yM="\u22C7",bM="\u22C7",wM="\u0402",CM="\u0452",xM="\u231E",kM="\u230D",TM="$",EM="\u{1D53B}",SM="\u{1D555}",MM="\xA8",OM="\u02D9",LM="\u20DC",AM="\u2250",DM="\u2251",NM="\u2250",IM="\u2238",RM="\u2214",PM="\u22A1",BM="\u2306",HM="\u222F",FM="\xA8",$M="\u21D3",zM="\u21D0",qM="\u21D4",VM="\u2AE4",UM="\u27F8",_M="\u27FA",jM="\u27F9",WM="\u21D2",GM="\u22A8",KM="\u21D1",JM="\u21D5",XM="\u2225",YM="\u2913",QM="\u2193",ZM="\u2193",eO="\u21D3",tO="\u21F5",rO="\u0311",nO="\u21CA",iO="\u21C3",oO="\u21C2",aO="\u2950",sO="\u295E",lO="\u2956",uO="\u21BD",cO="\u295F",fO="\u2957",dO="\u21C1",pO="\u21A7",hO="\u22A4",vO="\u2910",mO="\u231F",gO="\u230C",yO="\u{1D49F}",bO="\u{1D4B9}",wO="\u0405",CO="\u0455",xO="\u29F6",kO="\u0110",TO="\u0111",EO="\u22F1",SO="\u25BF",MO="\u25BE",OO="\u21F5",LO="\u296F",AO="\u29A6",DO="\u040F",NO="\u045F",IO="\u27FF",RO="\xC9",PO="\xE9",BO="\u2A6E",HO="\u011A",FO="\u011B",$O="\xCA",zO="\xEA",qO="\u2256",VO="\u2255",UO="\u042D",_O="\u044D",jO="\u2A77",WO="\u0116",GO="\u0117",KO="\u2251",JO="\u2147",XO="\u2252",YO="\u{1D508}",QO="\u{1D522}",ZO="\u2A9A",eL="\xC8",tL="\xE8",rL="\u2A96",nL="\u2A98",iL="\u2A99",oL="\u2208",aL="\u23E7",sL="\u2113",lL="\u2A95",uL="\u2A97",cL="\u0112",fL="\u0113",dL="\u2205",pL="\u2205",hL="\u25FB",vL="\u2205",mL="\u25AB",gL="\u2004",yL="\u2005",bL="\u2003",wL="\u014A",CL="\u014B",xL="\u2002",kL="\u0118",TL="\u0119",EL="\u{1D53C}",SL="\u{1D556}",ML="\u22D5",OL="\u29E3",LL="\u2A71",AL="\u03B5",DL="\u0395",NL="\u03B5",IL="\u03F5",RL="\u2256",PL="\u2255",BL="\u2242",HL="\u2A96",FL="\u2A95",$L="\u2A75",zL="=",qL="\u2242",VL="\u225F",UL="\u21CC",_L="\u2261",jL="\u2A78",WL="\u29E5",GL="\u2971",KL="\u2253",JL="\u212F",XL="\u2130",YL="\u2250",QL="\u2A73",ZL="\u2242",eA="\u0397",tA="\u03B7",rA="\xD0",nA="\xF0",iA="\xCB",oA="\xEB",aA="\u20AC",sA="!",lA="\u2203",uA="\u2203",cA="\u2130",fA="\u2147",dA="\u2147",pA="\u2252",hA="\u0424",vA="\u0444",mA="\u2640",gA="\uFB03",yA="\uFB00",bA="\uFB04",wA="\u{1D509}",CA="\u{1D523}",xA="\uFB01",kA="\u25FC",TA="\u25AA",EA="fj",SA="\u266D",MA="\uFB02",OA="\u25B1",LA="\u0192",AA="\u{1D53D}",DA="\u{1D557}",NA="\u2200",IA="\u2200",RA="\u22D4",PA="\u2AD9",BA="\u2131",HA="\u2A0D",FA="\xBD",$A="\u2153",zA="\xBC",qA="\u2155",VA="\u2159",UA="\u215B",_A="\u2154",jA="\u2156",WA="\xBE",GA="\u2157",KA="\u215C",JA="\u2158",XA="\u215A",YA="\u215D",QA="\u215E",ZA="\u2044",eD="\u2322",tD="\u{1D4BB}",rD="\u2131",nD="\u01F5",iD="\u0393",oD="\u03B3",aD="\u03DC",sD="\u03DD",lD="\u2A86",uD="\u011E",cD="\u011F",fD="\u0122",dD="\u011C",pD="\u011D",hD="\u0413",vD="\u0433",mD="\u0120",gD="\u0121",yD="\u2265",bD="\u2267",wD="\u2A8C",CD="\u22DB",xD="\u2265",kD="\u2267",TD="\u2A7E",ED="\u2AA9",SD="\u2A7E",MD="\u2A80",OD="\u2A82",LD="\u2A84",AD="\u22DB\uFE00",DD="\u2A94",ND="\u{1D50A}",ID="\u{1D524}",RD="\u226B",PD="\u22D9",BD="\u22D9",HD="\u2137",FD="\u0403",$D="\u0453",zD="\u2AA5",qD="\u2277",VD="\u2A92",UD="\u2AA4",_D="\u2A8A",jD="\u2A8A",WD="\u2A88",GD="\u2269",KD="\u2A88",JD="\u2269",XD="\u22E7",YD="\u{1D53E}",QD="\u{1D558}",ZD="`",eN="\u2265",tN="\u22DB",rN="\u2267",nN="\u2AA2",iN="\u2277",oN="\u2A7E",aN="\u2273",sN="\u{1D4A2}",lN="\u210A",uN="\u2273",cN="\u2A8E",fN="\u2A90",dN="\u2AA7",pN="\u2A7A",hN=">",vN=">",mN="\u226B",gN="\u22D7",yN="\u2995",bN="\u2A7C",wN="\u2A86",CN="\u2978",xN="\u22D7",kN="\u22DB",TN="\u2A8C",EN="\u2277",SN="\u2273",MN="\u2269\uFE00",ON="\u2269\uFE00",LN="\u02C7",AN="\u200A",DN="\xBD",NN="\u210B",IN="\u042A",RN="\u044A",PN="\u2948",BN="\u2194",HN="\u21D4",FN="\u21AD",$N="^",zN="\u210F",qN="\u0124",VN="\u0125",UN="\u2665",_N="\u2665",jN="\u2026",WN="\u22B9",GN="\u{1D525}",KN="\u210C",JN="\u210B",XN="\u2925",YN="\u2926",QN="\u21FF",ZN="\u223B",eI="\u21A9",tI="\u21AA",rI="\u{1D559}",nI="\u210D",iI="\u2015",oI="\u2500",aI="\u{1D4BD}",sI="\u210B",lI="\u210F",uI="\u0126",cI="\u0127",fI="\u224E",dI="\u224F",pI="\u2043",hI="\u2010",vI="\xCD",mI="\xED",gI="\u2063",yI="\xCE",bI="\xEE",wI="\u0418",CI="\u0438",xI="\u0130",kI="\u0415",TI="\u0435",EI="\xA1",SI="\u21D4",MI="\u{1D526}",OI="\u2111",LI="\xCC",AI="\xEC",DI="\u2148",NI="\u2A0C",II="\u222D",RI="\u29DC",PI="\u2129",BI="\u0132",HI="\u0133",FI="\u012A",$I="\u012B",zI="\u2111",qI="\u2148",VI="\u2110",UI="\u2111",_I="\u0131",jI="\u2111",WI="\u22B7",GI="\u01B5",KI="\u21D2",JI="\u2105",XI="\u221E",YI="\u29DD",QI="\u0131",ZI="\u22BA",eR="\u222B",tR="\u222C",rR="\u2124",nR="\u222B",iR="\u22BA",oR="\u22C2",aR="\u2A17",sR="\u2A3C",lR="\u2063",uR="\u2062",cR="\u0401",fR="\u0451",dR="\u012E",pR="\u012F",hR="\u{1D540}",vR="\u{1D55A}",mR="\u0399",gR="\u03B9",yR="\u2A3C",bR="\xBF",wR="\u{1D4BE}",CR="\u2110",xR="\u2208",kR="\u22F5",TR="\u22F9",ER="\u22F4",SR="\u22F3",MR="\u2208",OR="\u2062",LR="\u0128",AR="\u0129",DR="\u0406",NR="\u0456",IR="\xCF",RR="\xEF",PR="\u0134",BR="\u0135",HR="\u0419",FR="\u0439",$R="\u{1D50D}",zR="\u{1D527}",qR="\u0237",VR="\u{1D541}",UR="\u{1D55B}",_R="\u{1D4A5}",jR="\u{1D4BF}",WR="\u0408",GR="\u0458",KR="\u0404",JR="\u0454",XR="\u039A",YR="\u03BA",QR="\u03F0",ZR="\u0136",eP="\u0137",tP="\u041A",rP="\u043A",nP="\u{1D50E}",iP="\u{1D528}",oP="\u0138",aP="\u0425",sP="\u0445",lP="\u040C",uP="\u045C",cP="\u{1D542}",fP="\u{1D55C}",dP="\u{1D4A6}",pP="\u{1D4C0}",hP="\u21DA",vP="\u0139",mP="\u013A",gP="\u29B4",yP="\u2112",bP="\u039B",wP="\u03BB",CP="\u27E8",xP="\u27EA",kP="\u2991",TP="\u27E8",EP="\u2A85",SP="\u2112",MP="\xAB",OP="\u21E4",LP="\u291F",AP="\u2190",DP="\u219E",NP="\u21D0",IP="\u291D",RP="\u21A9",PP="\u21AB",BP="\u2939",HP="\u2973",FP="\u21A2",$P="\u2919",zP="\u291B",qP="\u2AAB",VP="\u2AAD",UP="\u2AAD\uFE00",_P="\u290C",jP="\u290E",WP="\u2772",GP="{",KP="[",JP="\u298B",XP="\u298F",YP="\u298D",QP="\u013D",ZP="\u013E",eB="\u013B",tB="\u013C",rB="\u2308",nB="{",iB="\u041B",oB="\u043B",aB="\u2936",sB="\u201C",lB="\u201E",uB="\u2967",cB="\u294B",fB="\u21B2",dB="\u2264",pB="\u2266",hB="\u27E8",vB="\u21E4",mB="\u2190",gB="\u2190",yB="\u21D0",bB="\u21C6",wB="\u21A2",CB="\u2308",xB="\u27E6",kB="\u2961",TB="\u2959",EB="\u21C3",SB="\u230A",MB="\u21BD",OB="\u21BC",LB="\u21C7",AB="\u2194",DB="\u2194",NB="\u21D4",IB="\u21C6",RB="\u21CB",PB="\u21AD",BB="\u294E",HB="\u21A4",FB="\u22A3",$B="\u295A",zB="\u22CB",qB="\u29CF",VB="\u22B2",UB="\u22B4",_B="\u2951",jB="\u2960",WB="\u2958",GB="\u21BF",KB="\u2952",JB="\u21BC",XB="\u2A8B",YB="\u22DA",QB="\u2264",ZB="\u2266",eH="\u2A7D",tH="\u2AA8",rH="\u2A7D",nH="\u2A7F",iH="\u2A81",oH="\u2A83",aH="\u22DA\uFE00",sH="\u2A93",lH="\u2A85",uH="\u22D6",cH="\u22DA",fH="\u2A8B",dH="\u22DA",pH="\u2266",hH="\u2276",vH="\u2276",mH="\u2AA1",gH="\u2272",yH="\u2A7D",bH="\u2272",wH="\u297C",CH="\u230A",xH="\u{1D50F}",kH="\u{1D529}",TH="\u2276",EH="\u2A91",SH="\u2962",MH="\u21BD",OH="\u21BC",LH="\u296A",AH="\u2584",DH="\u0409",NH="\u0459",IH="\u21C7",RH="\u226A",PH="\u22D8",BH="\u231E",HH="\u21DA",FH="\u296B",$H="\u25FA",zH="\u013F",qH="\u0140",VH="\u23B0",UH="\u23B0",_H="\u2A89",jH="\u2A89",WH="\u2A87",GH="\u2268",KH="\u2A87",JH="\u2268",XH="\u22E6",YH="\u27EC",QH="\u21FD",ZH="\u27E6",eF="\u27F5",tF="\u27F5",rF="\u27F8",nF="\u27F7",iF="\u27F7",oF="\u27FA",aF="\u27FC",sF="\u27F6",lF="\u27F6",uF="\u27F9",cF="\u21AB",fF="\u21AC",dF="\u2985",pF="\u{1D543}",hF="\u{1D55D}",vF="\u2A2D",mF="\u2A34",gF="\u2217",yF="_",bF="\u2199",wF="\u2198",CF="\u25CA",xF="\u25CA",kF="\u29EB",TF="(",EF="\u2993",SF="\u21C6",MF="\u231F",OF="\u21CB",LF="\u296D",AF="\u200E",DF="\u22BF",NF="\u2039",IF="\u{1D4C1}",RF="\u2112",PF="\u21B0",BF="\u21B0",HF="\u2272",FF="\u2A8D",$F="\u2A8F",zF="[",qF="\u2018",VF="\u201A",UF="\u0141",_F="\u0142",jF="\u2AA6",WF="\u2A79",GF="<",KF="<",JF="\u226A",XF="\u22D6",YF="\u22CB",QF="\u22C9",ZF="\u2976",e$="\u2A7B",t$="\u25C3",r$="\u22B4",n$="\u25C2",i$="\u2996",o$="\u294A",a$="\u2966",s$="\u2268\uFE00",l$="\u2268\uFE00",u$="\xAF",c$="\u2642",f$="\u2720",d$="\u2720",p$="\u21A6",h$="\u21A6",v$="\u21A7",m$="\u21A4",g$="\u21A5",y$="\u25AE",b$="\u2A29",w$="\u041C",C$="\u043C",x$="\u2014",k$="\u223A",T$="\u2221",E$="\u205F",S$="\u2133",M$="\u{1D510}",O$="\u{1D52A}",L$="\u2127",A$="\xB5",D$="*",N$="\u2AF0",I$="\u2223",R$="\xB7",P$="\u229F",B$="\u2212",H$="\u2238",F$="\u2A2A",$$="\u2213",z$="\u2ADB",q$="\u2026",V$="\u2213",U$="\u22A7",_$="\u{1D544}",j$="\u{1D55E}",W$="\u2213",G$="\u{1D4C2}",K$="\u2133",J$="\u223E",X$="\u039C",Y$="\u03BC",Q$="\u22B8",Z$="\u22B8",ez="\u2207",tz="\u0143",rz="\u0144",nz="\u2220\u20D2",iz="\u2249",oz="\u2A70\u0338",az="\u224B\u0338",sz="\u0149",lz="\u2249",uz="\u266E",cz="\u2115",fz="\u266E",dz="\xA0",pz="\u224E\u0338",hz="\u224F\u0338",vz="\u2A43",mz="\u0147",gz="\u0148",yz="\u0145",bz="\u0146",wz="\u2247",Cz="\u2A6D\u0338",xz="\u2A42",kz="\u041D",Tz="\u043D",Ez="\u2013",Sz="\u2924",Mz="\u2197",Oz="\u21D7",Lz="\u2197",Az="\u2260",Dz="\u2250\u0338",Nz="\u200B",Iz="\u200B",Rz="\u200B",Pz="\u200B",Bz="\u2262",Hz="\u2928",Fz="\u2242\u0338",$z="\u226B",zz="\u226A",qz=`
`,Vz="\u2204",Uz="\u2204",_z="\u{1D511}",jz="\u{1D52B}",Wz="\u2267\u0338",Gz="\u2271",Kz="\u2271",Jz="\u2267\u0338",Xz="\u2A7E\u0338",Yz="\u2A7E\u0338",Qz="\u22D9\u0338",Zz="\u2275",e2="\u226B\u20D2",t2="\u226F",r2="\u226F",n2="\u226B\u0338",i2="\u21AE",o2="\u21CE",a2="\u2AF2",s2="\u220B",l2="\u22FC",u2="\u22FA",c2="\u220B",f2="\u040A",d2="\u045A",p2="\u219A",h2="\u21CD",v2="\u2025",m2="\u2266\u0338",g2="\u2270",y2="\u219A",b2="\u21CD",w2="\u21AE",C2="\u21CE",x2="\u2270",k2="\u2266\u0338",T2="\u2A7D\u0338",E2="\u2A7D\u0338",S2="\u226E",M2="\u22D8\u0338",O2="\u2274",L2="\u226A\u20D2",A2="\u226E",D2="\u22EA",N2="\u22EC",I2="\u226A\u0338",R2="\u2224",P2="\u2060",B2="\xA0",H2="\u{1D55F}",F2="\u2115",$2="\u2AEC",z2="\xAC",q2="\u2262",V2="\u226D",U2="\u2226",_2="\u2209",j2="\u2260",W2="\u2242\u0338",G2="\u2204",K2="\u226F",J2="\u2271",X2="\u2267\u0338",Y2="\u226B\u0338",Q2="\u2279",Z2="\u2A7E\u0338",eq="\u2275",tq="\u224E\u0338",rq="\u224F\u0338",nq="\u2209",iq="\u22F5\u0338",oq="\u22F9\u0338",aq="\u2209",sq="\u22F7",lq="\u22F6",uq="\u29CF\u0338",cq="\u22EA",fq="\u22EC",dq="\u226E",pq="\u2270",hq="\u2278",vq="\u226A\u0338",mq="\u2A7D\u0338",gq="\u2274",yq="\u2AA2\u0338",bq="\u2AA1\u0338",wq="\u220C",Cq="\u220C",xq="\u22FE",kq="\u22FD",Tq="\u2280",Eq="\u2AAF\u0338",Sq="\u22E0",Mq="\u220C",Oq="\u29D0\u0338",Lq="\u22EB",Aq="\u22ED",Dq="\u228F\u0338",Nq="\u22E2",Iq="\u2290\u0338",Rq="\u22E3",Pq="\u2282\u20D2",Bq="\u2288",Hq="\u2281",Fq="\u2AB0\u0338",$q="\u22E1",zq="\u227F\u0338",qq="\u2283\u20D2",Vq="\u2289",Uq="\u2241",_q="\u2244",jq="\u2247",Wq="\u2249",Gq="\u2224",Kq="\u2226",Jq="\u2226",Xq="\u2AFD\u20E5",Yq="\u2202\u0338",Qq="\u2A14",Zq="\u2280",eV="\u22E0",tV="\u2280",rV="\u2AAF\u0338",nV="\u2AAF\u0338",iV="\u2933\u0338",oV="\u219B",aV="\u21CF",sV="\u219D\u0338",lV="\u219B",uV="\u21CF",cV="\u22EB",fV="\u22ED",dV="\u2281",pV="\u22E1",hV="\u2AB0\u0338",vV="\u{1D4A9}",mV="\u{1D4C3}",gV="\u2224",yV="\u2226",bV="\u2241",wV="\u2244",CV="\u2244",xV="\u2224",kV="\u2226",TV="\u22E2",EV="\u22E3",SV="\u2284",MV="\u2AC5\u0338",OV="\u2288",LV="\u2282\u20D2",AV="\u2288",DV="\u2AC5\u0338",NV="\u2281",IV="\u2AB0\u0338",RV="\u2285",PV="\u2AC6\u0338",BV="\u2289",HV="\u2283\u20D2",FV="\u2289",$V="\u2AC6\u0338",zV="\u2279",qV="\xD1",VV="\xF1",UV="\u2278",_V="\u22EA",jV="\u22EC",WV="\u22EB",GV="\u22ED",KV="\u039D",JV="\u03BD",XV="#",YV="\u2116",QV="\u2007",ZV="\u224D\u20D2",eU="\u22AC",tU="\u22AD",rU="\u22AE",nU="\u22AF",iU="\u2265\u20D2",oU=">\u20D2",aU="\u2904",sU="\u29DE",lU="\u2902",uU="\u2264\u20D2",cU="<\u20D2",fU="\u22B4\u20D2",dU="\u2903",pU="\u22B5\u20D2",hU="\u223C\u20D2",vU="\u2923",mU="\u2196",gU="\u21D6",yU="\u2196",bU="\u2927",wU="\xD3",CU="\xF3",xU="\u229B",kU="\xD4",TU="\xF4",EU="\u229A",SU="\u041E",MU="\u043E",OU="\u229D",LU="\u0150",AU="\u0151",DU="\u2A38",NU="\u2299",IU="\u29BC",RU="\u0152",PU="\u0153",BU="\u29BF",HU="\u{1D512}",FU="\u{1D52C}",$U="\u02DB",zU="\xD2",qU="\xF2",VU="\u29C1",UU="\u29B5",_U="\u03A9",jU="\u222E",WU="\u21BA",GU="\u29BE",KU="\u29BB",JU="\u203E",XU="\u29C0",YU="\u014C",QU="\u014D",ZU="\u03A9",e_="\u03C9",t_="\u039F",r_="\u03BF",n_="\u29B6",i_="\u2296",o_="\u{1D546}",a_="\u{1D560}",s_="\u29B7",l_="\u201C",u_="\u2018",c_="\u29B9",f_="\u2295",d_="\u21BB",p_="\u2A54",h_="\u2228",v_="\u2A5D",m_="\u2134",g_="\u2134",y_="\xAA",b_="\xBA",w_="\u22B6",C_="\u2A56",x_="\u2A57",k_="\u2A5B",T_="\u24C8",E_="\u{1D4AA}",S_="\u2134",M_="\xD8",O_="\xF8",L_="\u2298",A_="\xD5",D_="\xF5",N_="\u2A36",I_="\u2A37",R_="\u2297",P_="\xD6",B_="\xF6",H_="\u233D",F_="\u203E",$_="\u23DE",z_="\u23B4",q_="\u23DC",V_="\xB6",U_="\u2225",__="\u2225",j_="\u2AF3",W_="\u2AFD",G_="\u2202",K_="\u2202",J_="\u041F",X_="\u043F",Y_="%",Q_=".",Z_="\u2030",e3="\u22A5",t3="\u2031",r3="\u{1D513}",n3="\u{1D52D}",i3="\u03A6",o3="\u03C6",a3="\u03D5",s3="\u2133",l3="\u260E",u3="\u03A0",c3="\u03C0",f3="\u22D4",d3="\u03D6",p3="\u210F",h3="\u210E",v3="\u210F",m3="\u2A23",g3="\u229E",y3="\u2A22",b3="+",w3="\u2214",C3="\u2A25",x3="\u2A72",k3="\xB1",T3="\xB1",E3="\u2A26",S3="\u2A27",M3="\xB1",O3="\u210C",L3="\u2A15",A3="\u{1D561}",D3="\u2119",N3="\xA3",I3="\u2AB7",R3="\u2ABB",P3="\u227A",B3="\u227C",H3="\u2AB7",F3="\u227A",$3="\u227C",z3="\u227A",q3="\u2AAF",V3="\u227C",U3="\u227E",_3="\u2AAF",j3="\u2AB9",W3="\u2AB5",G3="\u22E8",K3="\u2AAF",J3="\u2AB3",X3="\u227E",Y3="\u2032",Q3="\u2033",Z3="\u2119",ej="\u2AB9",tj="\u2AB5",rj="\u22E8",nj="\u220F",ij="\u220F",oj="\u232E",aj="\u2312",sj="\u2313",lj="\u221D",uj="\u221D",cj="\u2237",fj="\u221D",dj="\u227E",pj="\u22B0",hj="\u{1D4AB}",vj="\u{1D4C5}",mj="\u03A8",gj="\u03C8",yj="\u2008",bj="\u{1D514}",wj="\u{1D52E}",Cj="\u2A0C",xj="\u{1D562}",kj="\u211A",Tj="\u2057",Ej="\u{1D4AC}",Sj="\u{1D4C6}",Mj="\u210D",Oj="\u2A16",Lj="?",Aj="\u225F",Dj='"',Nj='"',Ij="\u21DB",Rj="\u223D\u0331",Pj="\u0154",Bj="\u0155",Hj="\u221A",Fj="\u29B3",$j="\u27E9",zj="\u27EB",qj="\u2992",Vj="\u29A5",Uj="\u27E9",_j="\xBB",jj="\u2975",Wj="\u21E5",Gj="\u2920",Kj="\u2933",Jj="\u2192",Xj="\u21A0",Yj="\u21D2",Qj="\u291E",Zj="\u21AA",eW="\u21AC",tW="\u2945",rW="\u2974",nW="\u2916",iW="\u21A3",oW="\u219D",aW="\u291A",sW="\u291C",lW="\u2236",uW="\u211A",cW="\u290D",fW="\u290F",dW="\u2910",pW="\u2773",hW="}",vW="]",mW="\u298C",gW="\u298E",yW="\u2990",bW="\u0158",wW="\u0159",CW="\u0156",xW="\u0157",kW="\u2309",TW="}",EW="\u0420",SW="\u0440",MW="\u2937",OW="\u2969",LW="\u201D",AW="\u201D",DW="\u21B3",NW="\u211C",IW="\u211B",RW="\u211C",PW="\u211D",BW="\u211C",HW="\u25AD",FW="\xAE",$W="\xAE",zW="\u220B",qW="\u21CB",VW="\u296F",UW="\u297D",_W="\u230B",jW="\u{1D52F}",WW="\u211C",GW="\u2964",KW="\u21C1",JW="\u21C0",XW="\u296C",YW="\u03A1",QW="\u03C1",ZW="\u03F1",e5="\u27E9",t5="\u21E5",r5="\u2192",n5="\u2192",i5="\u21D2",o5="\u21C4",a5="\u21A3",s5="\u2309",l5="\u27E7",u5="\u295D",c5="\u2955",f5="\u21C2",d5="\u230B",p5="\u21C1",h5="\u21C0",v5="\u21C4",m5="\u21CC",g5="\u21C9",y5="\u219D",b5="\u21A6",w5="\u22A2",C5="\u295B",x5="\u22CC",k5="\u29D0",T5="\u22B3",E5="\u22B5",S5="\u294F",M5="\u295C",O5="\u2954",L5="\u21BE",A5="\u2953",D5="\u21C0",N5="\u02DA",I5="\u2253",R5="\u21C4",P5="\u21CC",B5="\u200F",H5="\u23B1",F5="\u23B1",$5="\u2AEE",z5="\u27ED",q5="\u21FE",V5="\u27E7",U5="\u2986",_5="\u{1D563}",j5="\u211D",W5="\u2A2E",G5="\u2A35",K5="\u2970",J5=")",X5="\u2994",Y5="\u2A12",Q5="\u21C9",Z5="\u21DB",eG="\u203A",tG="\u{1D4C7}",rG="\u211B",nG="\u21B1",iG="\u21B1",oG="]",aG="\u2019",sG="\u2019",lG="\u22CC",uG="\u22CA",cG="\u25B9",fG="\u22B5",dG="\u25B8",pG="\u29CE",hG="\u29F4",vG="\u2968",mG="\u211E",gG="\u015A",yG="\u015B",bG="\u201A",wG="\u2AB8",CG="\u0160",xG="\u0161",kG="\u2ABC",TG="\u227B",EG="\u227D",SG="\u2AB0",MG="\u2AB4",OG="\u015E",LG="\u015F",AG="\u015C",DG="\u015D",NG="\u2ABA",IG="\u2AB6",RG="\u22E9",PG="\u2A13",BG="\u227F",HG="\u0421",FG="\u0441",$G="\u22A1",zG="\u22C5",qG="\u2A66",VG="\u2925",UG="\u2198",_G="\u21D8",jG="\u2198",WG="\xA7",GG=";",KG="\u2929",JG="\u2216",XG="\u2216",YG="\u2736",QG="\u{1D516}",ZG="\u{1D530}",e8="\u2322",t8="\u266F",r8="\u0429",n8="\u0449",i8="\u0428",o8="\u0448",a8="\u2193",s8="\u2190",l8="\u2223",u8="\u2225",c8="\u2192",f8="\u2191",d8="\xAD",p8="\u03A3",h8="\u03C3",v8="\u03C2",m8="\u03C2",g8="\u223C",y8="\u2A6A",b8="\u2243",w8="\u2243",C8="\u2A9E",x8="\u2AA0",k8="\u2A9D",T8="\u2A9F",E8="\u2246",S8="\u2A24",M8="\u2972",O8="\u2190",L8="\u2218",A8="\u2216",D8="\u2A33",N8="\u29E4",I8="\u2223",R8="\u2323",P8="\u2AAA",B8="\u2AAC",H8="\u2AAC\uFE00",F8="\u042C",$8="\u044C",z8="\u233F",q8="\u29C4",V8="/",U8="\u{1D54A}",_8="\u{1D564}",j8="\u2660",W8="\u2660",G8="\u2225",K8="\u2293",J8="\u2293\uFE00",X8="\u2294",Y8="\u2294\uFE00",Q8="\u221A",Z8="\u228F",e4="\u2291",t4="\u228F",r4="\u2291",n4="\u2290",i4="\u2292",o4="\u2290",a4="\u2292",s4="\u25A1",l4="\u25A1",u4="\u2293",c4="\u228F",f4="\u2291",d4="\u2290",p4="\u2292",h4="\u2294",v4="\u25AA",m4="\u25A1",g4="\u25AA",y4="\u2192",b4="\u{1D4AE}",w4="\u{1D4C8}",C4="\u2216",x4="\u2323",k4="\u22C6",T4="\u22C6",E4="\u2606",S4="\u2605",M4="\u03F5",O4="\u03D5",L4="\xAF",A4="\u2282",D4="\u22D0",N4="\u2ABD",I4="\u2AC5",R4="\u2286",P4="\u2AC3",B4="\u2AC1",H4="\u2ACB",F4="\u228A",$4="\u2ABF",z4="\u2979",q4="\u2282",V4="\u22D0",U4="\u2286",_4="\u2AC5",j4="\u2286",W4="\u228A",G4="\u2ACB",K4="\u2AC7",J4="\u2AD5",X4="\u2AD3",Y4="\u2AB8",Q4="\u227B",Z4="\u227D",e6="\u227B",t6="\u2AB0",r6="\u227D",n6="\u227F",i6="\u2AB0",o6="\u2ABA",a6="\u2AB6",s6="\u22E9",l6="\u227F",u6="\u220B",c6="\u2211",f6="\u2211",d6="\u266A",p6="\xB9",h6="\xB2",v6="\xB3",m6="\u2283",g6="\u22D1",y6="\u2ABE",b6="\u2AD8",w6="\u2AC6",C6="\u2287",x6="\u2AC4",k6="\u2283",T6="\u2287",E6="\u27C9",S6="\u2AD7",M6="\u297B",O6="\u2AC2",L6="\u2ACC",A6="\u228B",D6="\u2AC0",N6="\u2283",I6="\u22D1",R6="\u2287",P6="\u2AC6",B6="\u228B",H6="\u2ACC",F6="\u2AC8",$6="\u2AD4",z6="\u2AD6",q6="\u2926",V6="\u2199",U6="\u21D9",_6="\u2199",j6="\u292A",W6="\xDF",G6="	",K6="\u2316",J6="\u03A4",X6="\u03C4",Y6="\u23B4",Q6="\u0164",Z6="\u0165",eK="\u0162",tK="\u0163",rK="\u0422",nK="\u0442",iK="\u20DB",oK="\u2315",aK="\u{1D517}",sK="\u{1D531}",lK="\u2234",uK="\u2234",cK="\u2234",fK="\u0398",dK="\u03B8",pK="\u03D1",hK="\u03D1",vK="\u2248",mK="\u223C",gK="\u205F\u200A",yK="\u2009",bK="\u2009",wK="\u2248",CK="\u223C",xK="\xDE",kK="\xFE",TK="\u02DC",EK="\u223C",SK="\u2243",MK="\u2245",OK="\u2248",LK="\u2A31",AK="\u22A0",DK="\xD7",NK="\u2A30",IK="\u222D",RK="\u2928",PK="\u2336",BK="\u2AF1",HK="\u22A4",FK="\u{1D54B}",$K="\u{1D565}",zK="\u2ADA",qK="\u2929",VK="\u2034",UK="\u2122",_K="\u2122",jK="\u25B5",WK="\u25BF",GK="\u25C3",KK="\u22B4",JK="\u225C",XK="\u25B9",YK="\u22B5",QK="\u25EC",ZK="\u225C",e9="\u2A3A",t9="\u20DB",r9="\u2A39",n9="\u29CD",i9="\u2A3B",o9="\u23E2",a9="\u{1D4AF}",s9="\u{1D4C9}",l9="\u0426",u9="\u0446",c9="\u040B",f9="\u045B",d9="\u0166",p9="\u0167",h9="\u226C",v9="\u219E",m9="\u21A0",g9="\xDA",y9="\xFA",b9="\u2191",w9="\u219F",C9="\u21D1",x9="\u2949",k9="\u040E",T9="\u045E",E9="\u016C",S9="\u016D",M9="\xDB",O9="\xFB",L9="\u0423",A9="\u0443",D9="\u21C5",N9="\u0170",I9="\u0171",R9="\u296E",P9="\u297E",B9="\u{1D518}",H9="\u{1D532}",F9="\xD9",$9="\xF9",z9="\u2963",q9="\u21BF",V9="\u21BE",U9="\u2580",_9="\u231C",j9="\u231C",W9="\u230F",G9="\u25F8",K9="\u016A",J9="\u016B",X9="\xA8",Y9="_",Q9="\u23DF",Z9="\u23B5",eJ="\u23DD",tJ="\u22C3",rJ="\u228E",nJ="\u0172",iJ="\u0173",oJ="\u{1D54C}",aJ="\u{1D566}",sJ="\u2912",lJ="\u2191",uJ="\u2191",cJ="\u21D1",fJ="\u21C5",dJ="\u2195",pJ="\u2195",hJ="\u21D5",vJ="\u296E",mJ="\u21BF",gJ="\u21BE",yJ="\u228E",bJ="\u2196",wJ="\u2197",CJ="\u03C5",xJ="\u03D2",kJ="\u03D2",TJ="\u03A5",EJ="\u03C5",SJ="\u21A5",MJ="\u22A5",OJ="\u21C8",LJ="\u231D",AJ="\u231D",DJ="\u230E",NJ="\u016E",IJ="\u016F",RJ="\u25F9",PJ="\u{1D4B0}",BJ="\u{1D4CA}",HJ="\u22F0",FJ="\u0168",$J="\u0169",zJ="\u25B5",qJ="\u25B4",VJ="\u21C8",UJ="\xDC",_J="\xFC",jJ="\u29A7",WJ="\u299C",GJ="\u03F5",KJ="\u03F0",JJ="\u2205",XJ="\u03D5",YJ="\u03D6",QJ="\u221D",ZJ="\u2195",e7="\u21D5",t7="\u03F1",r7="\u03C2",n7="\u228A\uFE00",i7="\u2ACB\uFE00",o7="\u228B\uFE00",a7="\u2ACC\uFE00",s7="\u03D1",l7="\u22B2",u7="\u22B3",c7="\u2AE8",f7="\u2AEB",d7="\u2AE9",p7="\u0412",h7="\u0432",v7="\u22A2",m7="\u22A8",g7="\u22A9",y7="\u22AB",b7="\u2AE6",w7="\u22BB",C7="\u2228",x7="\u22C1",k7="\u225A",T7="\u22EE",E7="|",S7="\u2016",M7="|",O7="\u2016",L7="\u2223",A7="|",D7="\u2758",N7="\u2240",I7="\u200A",R7="\u{1D519}",P7="\u{1D533}",B7="\u22B2",H7="\u2282\u20D2",F7="\u2283\u20D2",$7="\u{1D54D}",z7="\u{1D567}",q7="\u221D",V7="\u22B3",U7="\u{1D4B1}",_7="\u{1D4CB}",j7="\u2ACB\uFE00",W7="\u228A\uFE00",G7="\u2ACC\uFE00",K7="\u228B\uFE00",J7="\u22AA",X7="\u299A",Y7="\u0174",Q7="\u0175",Z7="\u2A5F",eX="\u2227",tX="\u22C0",rX="\u2259",nX="\u2118",iX="\u{1D51A}",oX="\u{1D534}",aX="\u{1D54E}",sX="\u{1D568}",lX="\u2118",uX="\u2240",cX="\u2240",fX="\u{1D4B2}",dX="\u{1D4CC}",pX="\u22C2",hX="\u25EF",vX="\u22C3",mX="\u25BD",gX="\u{1D51B}",yX="\u{1D535}",bX="\u27F7",wX="\u27FA",CX="\u039E",xX="\u03BE",kX="\u27F5",TX="\u27F8",EX="\u27FC",SX="\u22FB",MX="\u2A00",OX="\u{1D54F}",LX="\u{1D569}",AX="\u2A01",DX="\u2A02",NX="\u27F6",IX="\u27F9",RX="\u{1D4B3}",PX="\u{1D4CD}",BX="\u2A06",HX="\u2A04",FX="\u25B3",$X="\u22C1",zX="\u22C0",qX="\xDD",VX="\xFD",UX="\u042F",_X="\u044F",jX="\u0176",WX="\u0177",GX="\u042B",KX="\u044B",JX="\xA5",XX="\u{1D51C}",YX="\u{1D536}",QX="\u0407",ZX="\u0457",eY="\u{1D550}",tY="\u{1D56A}",rY="\u{1D4B4}",nY="\u{1D4CE}",iY="\u042E",oY="\u044E",aY="\xFF",sY="\u0178",lY="\u0179",uY="\u017A",cY="\u017D",fY="\u017E",dY="\u0417",pY="\u0437",hY="\u017B",vY="\u017C",mY="\u2128",gY="\u200B",yY="\u0396",bY="\u03B6",wY="\u{1D537}",CY="\u2128",xY="\u0416",kY="\u0436",TY="\u21DD",EY="\u{1D56B}",SY="\u2124",MY="\u{1D4B5}",OY="\u{1D4CF}",LY="\u200D",AY="\u200C",ph={Aacute:hC,aacute:vC,Abreve:mC,abreve:gC,ac:yC,acd:bC,acE:wC,Acirc:CC,acirc:xC,acute:kC,Acy:TC,acy:EC,AElig:SC,aelig:MC,af:OC,Afr:LC,afr:AC,Agrave:DC,agrave:NC,alefsym:IC,aleph:RC,Alpha:PC,alpha:BC,Amacr:HC,amacr:FC,amalg:$C,amp:zC,AMP:qC,andand:VC,And:UC,and:_C,andd:jC,andslope:WC,andv:GC,ang:KC,ange:JC,angle:XC,angmsdaa:YC,angmsdab:QC,angmsdac:ZC,angmsdad:ex,angmsdae:tx,angmsdaf:rx,angmsdag:nx,angmsdah:ix,angmsd:ox,angrt:ax,angrtvb:sx,angrtvbd:lx,angsph:ux,angst:cx,angzarr:fx,Aogon:dx,aogon:px,Aopf:hx,aopf:vx,apacir:mx,ap:gx,apE:yx,ape:bx,apid:wx,apos:Cx,ApplyFunction:xx,approx:kx,approxeq:Tx,Aring:Ex,aring:Sx,Ascr:Mx,ascr:Ox,Assign:Lx,ast:Ax,asymp:Dx,asympeq:Nx,Atilde:Ix,atilde:Rx,Auml:Px,auml:Bx,awconint:Hx,awint:Fx,backcong:$x,backepsilon:zx,backprime:qx,backsim:Vx,backsimeq:Ux,Backslash:_x,Barv:jx,barvee:Wx,barwed:Gx,Barwed:Kx,barwedge:Jx,bbrk:Xx,bbrktbrk:Yx,bcong:Qx,Bcy:Zx,bcy:ek,bdquo:tk,becaus:rk,because:nk,Because:ik,bemptyv:ok,bepsi:ak,bernou:sk,Bernoullis:lk,Beta:uk,beta:ck,beth:fk,between:dk,Bfr:pk,bfr:hk,bigcap:vk,bigcirc:mk,bigcup:gk,bigodot:yk,bigoplus:bk,bigotimes:wk,bigsqcup:Ck,bigstar:xk,bigtriangledown:kk,bigtriangleup:Tk,biguplus:Ek,bigvee:Sk,bigwedge:Mk,bkarow:Ok,blacklozenge:Lk,blacksquare:Ak,blacktriangle:Dk,blacktriangledown:Nk,blacktriangleleft:Ik,blacktriangleright:Rk,blank:Pk,blk12:Bk,blk14:Hk,blk34:Fk,block:$k,bne:zk,bnequiv:qk,bNot:Vk,bnot:Uk,Bopf:_k,bopf:jk,bot:Wk,bottom:Gk,bowtie:Kk,boxbox:Jk,boxdl:Xk,boxdL:Yk,boxDl:Qk,boxDL:Zk,boxdr:e1,boxdR:t1,boxDr:r1,boxDR:n1,boxh:i1,boxH:o1,boxhd:a1,boxHd:s1,boxhD:l1,boxHD:u1,boxhu:c1,boxHu:f1,boxhU:d1,boxHU:p1,boxminus:h1,boxplus:v1,boxtimes:m1,boxul:g1,boxuL:y1,boxUl:b1,boxUL:w1,boxur:C1,boxuR:x1,boxUr:k1,boxUR:T1,boxv:E1,boxV:S1,boxvh:M1,boxvH:O1,boxVh:L1,boxVH:A1,boxvl:D1,boxvL:N1,boxVl:I1,boxVL:R1,boxvr:P1,boxvR:B1,boxVr:H1,boxVR:F1,bprime:$1,breve:z1,Breve:q1,brvbar:V1,bscr:U1,Bscr:_1,bsemi:j1,bsim:W1,bsime:G1,bsolb:K1,bsol:J1,bsolhsub:X1,bull:Y1,bullet:Q1,bump:Z1,bumpE:eT,bumpe:tT,Bumpeq:rT,bumpeq:nT,Cacute:iT,cacute:oT,capand:aT,capbrcup:sT,capcap:lT,cap:uT,Cap:cT,capcup:fT,capdot:dT,CapitalDifferentialD:pT,caps:hT,caret:vT,caron:mT,Cayleys:gT,ccaps:yT,Ccaron:bT,ccaron:wT,Ccedil:CT,ccedil:xT,Ccirc:kT,ccirc:TT,Cconint:ET,ccups:ST,ccupssm:MT,Cdot:OT,cdot:LT,cedil:AT,Cedilla:DT,cemptyv:NT,cent:IT,centerdot:RT,CenterDot:PT,cfr:BT,Cfr:HT,CHcy:FT,chcy:$T,check:zT,checkmark:qT,Chi:VT,chi:UT,circ:_T,circeq:jT,circlearrowleft:WT,circlearrowright:GT,circledast:KT,circledcirc:JT,circleddash:XT,CircleDot:YT,circledR:QT,circledS:ZT,CircleMinus:eE,CirclePlus:tE,CircleTimes:rE,cir:nE,cirE:iE,cire:oE,cirfnint:aE,cirmid:sE,cirscir:lE,ClockwiseContourIntegral:uE,CloseCurlyDoubleQuote:cE,CloseCurlyQuote:fE,clubs:dE,clubsuit:pE,colon:hE,Colon:vE,Colone:mE,colone:gE,coloneq:yE,comma:bE,commat:wE,comp:CE,compfn:xE,complement:kE,complexes:TE,cong:EE,congdot:SE,Congruent:ME,conint:OE,Conint:LE,ContourIntegral:AE,copf:DE,Copf:NE,coprod:IE,Coproduct:RE,copy:PE,COPY:BE,copysr:HE,CounterClockwiseContourIntegral:FE,crarr:$E,cross:zE,Cross:qE,Cscr:VE,cscr:UE,csub:_E,csube:jE,csup:WE,csupe:GE,ctdot:KE,cudarrl:JE,cudarrr:XE,cuepr:YE,cuesc:QE,cularr:ZE,cularrp:eS,cupbrcap:tS,cupcap:rS,CupCap:nS,cup:iS,Cup:oS,cupcup:aS,cupdot:sS,cupor:lS,cups:uS,curarr:cS,curarrm:fS,curlyeqprec:dS,curlyeqsucc:pS,curlyvee:hS,curlywedge:vS,curren:mS,curvearrowleft:gS,curvearrowright:yS,cuvee:bS,cuwed:wS,cwconint:CS,cwint:xS,cylcty:kS,dagger:TS,Dagger:ES,daleth:SS,darr:MS,Darr:OS,dArr:LS,dash:AS,Dashv:DS,dashv:NS,dbkarow:IS,dblac:RS,Dcaron:PS,dcaron:BS,Dcy:HS,dcy:FS,ddagger:$S,ddarr:zS,DD:qS,dd:VS,DDotrahd:US,ddotseq:_S,deg:jS,Del:WS,Delta:GS,delta:KS,demptyv:JS,dfisht:XS,Dfr:YS,dfr:QS,dHar:ZS,dharl:eM,dharr:tM,DiacriticalAcute:rM,DiacriticalDot:nM,DiacriticalDoubleAcute:iM,DiacriticalGrave:oM,DiacriticalTilde:aM,diam:sM,diamond:lM,Diamond:uM,diamondsuit:cM,diams:fM,die:dM,DifferentialD:pM,digamma:hM,disin:vM,div:mM,divide:gM,divideontimes:yM,divonx:bM,DJcy:wM,djcy:CM,dlcorn:xM,dlcrop:kM,dollar:TM,Dopf:EM,dopf:SM,Dot:MM,dot:OM,DotDot:LM,doteq:AM,doteqdot:DM,DotEqual:NM,dotminus:IM,dotplus:RM,dotsquare:PM,doublebarwedge:BM,DoubleContourIntegral:HM,DoubleDot:FM,DoubleDownArrow:$M,DoubleLeftArrow:zM,DoubleLeftRightArrow:qM,DoubleLeftTee:VM,DoubleLongLeftArrow:UM,DoubleLongLeftRightArrow:_M,DoubleLongRightArrow:jM,DoubleRightArrow:WM,DoubleRightTee:GM,DoubleUpArrow:KM,DoubleUpDownArrow:JM,DoubleVerticalBar:XM,DownArrowBar:YM,downarrow:QM,DownArrow:ZM,Downarrow:eO,DownArrowUpArrow:tO,DownBreve:rO,downdownarrows:nO,downharpoonleft:iO,downharpoonright:oO,DownLeftRightVector:aO,DownLeftTeeVector:sO,DownLeftVectorBar:lO,DownLeftVector:uO,DownRightTeeVector:cO,DownRightVectorBar:fO,DownRightVector:dO,DownTeeArrow:pO,DownTee:hO,drbkarow:vO,drcorn:mO,drcrop:gO,Dscr:yO,dscr:bO,DScy:wO,dscy:CO,dsol:xO,Dstrok:kO,dstrok:TO,dtdot:EO,dtri:SO,dtrif:MO,duarr:OO,duhar:LO,dwangle:AO,DZcy:DO,dzcy:NO,dzigrarr:IO,Eacute:RO,eacute:PO,easter:BO,Ecaron:HO,ecaron:FO,Ecirc:$O,ecirc:zO,ecir:qO,ecolon:VO,Ecy:UO,ecy:_O,eDDot:jO,Edot:WO,edot:GO,eDot:KO,ee:JO,efDot:XO,Efr:YO,efr:QO,eg:ZO,Egrave:eL,egrave:tL,egs:rL,egsdot:nL,el:iL,Element:oL,elinters:aL,ell:sL,els:lL,elsdot:uL,Emacr:cL,emacr:fL,empty:dL,emptyset:pL,EmptySmallSquare:hL,emptyv:vL,EmptyVerySmallSquare:mL,emsp13:gL,emsp14:yL,emsp:bL,ENG:wL,eng:CL,ensp:xL,Eogon:kL,eogon:TL,Eopf:EL,eopf:SL,epar:ML,eparsl:OL,eplus:LL,epsi:AL,Epsilon:DL,epsilon:NL,epsiv:IL,eqcirc:RL,eqcolon:PL,eqsim:BL,eqslantgtr:HL,eqslantless:FL,Equal:$L,equals:zL,EqualTilde:qL,equest:VL,Equilibrium:UL,equiv:_L,equivDD:jL,eqvparsl:WL,erarr:GL,erDot:KL,escr:JL,Escr:XL,esdot:YL,Esim:QL,esim:ZL,Eta:eA,eta:tA,ETH:rA,eth:nA,Euml:iA,euml:oA,euro:aA,excl:sA,exist:lA,Exists:uA,expectation:cA,exponentiale:fA,ExponentialE:dA,fallingdotseq:pA,Fcy:hA,fcy:vA,female:mA,ffilig:gA,fflig:yA,ffllig:bA,Ffr:wA,ffr:CA,filig:xA,FilledSmallSquare:kA,FilledVerySmallSquare:TA,fjlig:EA,flat:SA,fllig:MA,fltns:OA,fnof:LA,Fopf:AA,fopf:DA,forall:NA,ForAll:IA,fork:RA,forkv:PA,Fouriertrf:BA,fpartint:HA,frac12:FA,frac13:$A,frac14:zA,frac15:qA,frac16:VA,frac18:UA,frac23:_A,frac25:jA,frac34:WA,frac35:GA,frac38:KA,frac45:JA,frac56:XA,frac58:YA,frac78:QA,frasl:ZA,frown:eD,fscr:tD,Fscr:rD,gacute:nD,Gamma:iD,gamma:oD,Gammad:aD,gammad:sD,gap:lD,Gbreve:uD,gbreve:cD,Gcedil:fD,Gcirc:dD,gcirc:pD,Gcy:hD,gcy:vD,Gdot:mD,gdot:gD,ge:yD,gE:bD,gEl:wD,gel:CD,geq:xD,geqq:kD,geqslant:TD,gescc:ED,ges:SD,gesdot:MD,gesdoto:OD,gesdotol:LD,gesl:AD,gesles:DD,Gfr:ND,gfr:ID,gg:RD,Gg:PD,ggg:BD,gimel:HD,GJcy:FD,gjcy:$D,gla:zD,gl:qD,glE:VD,glj:UD,gnap:_D,gnapprox:jD,gne:WD,gnE:GD,gneq:KD,gneqq:JD,gnsim:XD,Gopf:YD,gopf:QD,grave:ZD,GreaterEqual:eN,GreaterEqualLess:tN,GreaterFullEqual:rN,GreaterGreater:nN,GreaterLess:iN,GreaterSlantEqual:oN,GreaterTilde:aN,Gscr:sN,gscr:lN,gsim:uN,gsime:cN,gsiml:fN,gtcc:dN,gtcir:pN,gt:hN,GT:vN,Gt:mN,gtdot:gN,gtlPar:yN,gtquest:bN,gtrapprox:wN,gtrarr:CN,gtrdot:xN,gtreqless:kN,gtreqqless:TN,gtrless:EN,gtrsim:SN,gvertneqq:MN,gvnE:ON,Hacek:LN,hairsp:AN,half:DN,hamilt:NN,HARDcy:IN,hardcy:RN,harrcir:PN,harr:BN,hArr:HN,harrw:FN,Hat:$N,hbar:zN,Hcirc:qN,hcirc:VN,hearts:UN,heartsuit:_N,hellip:jN,hercon:WN,hfr:GN,Hfr:KN,HilbertSpace:JN,hksearow:XN,hkswarow:YN,hoarr:QN,homtht:ZN,hookleftarrow:eI,hookrightarrow:tI,hopf:rI,Hopf:nI,horbar:iI,HorizontalLine:oI,hscr:aI,Hscr:sI,hslash:lI,Hstrok:uI,hstrok:cI,HumpDownHump:fI,HumpEqual:dI,hybull:pI,hyphen:hI,Iacute:vI,iacute:mI,ic:gI,Icirc:yI,icirc:bI,Icy:wI,icy:CI,Idot:xI,IEcy:kI,iecy:TI,iexcl:EI,iff:SI,ifr:MI,Ifr:OI,Igrave:LI,igrave:AI,ii:DI,iiiint:NI,iiint:II,iinfin:RI,iiota:PI,IJlig:BI,ijlig:HI,Imacr:FI,imacr:$I,image:zI,ImaginaryI:qI,imagline:VI,imagpart:UI,imath:_I,Im:jI,imof:WI,imped:GI,Implies:KI,incare:JI,in:"\u2208",infin:XI,infintie:YI,inodot:QI,intcal:ZI,int:eR,Int:tR,integers:rR,Integral:nR,intercal:iR,Intersection:oR,intlarhk:aR,intprod:sR,InvisibleComma:lR,InvisibleTimes:uR,IOcy:cR,iocy:fR,Iogon:dR,iogon:pR,Iopf:hR,iopf:vR,Iota:mR,iota:gR,iprod:yR,iquest:bR,iscr:wR,Iscr:CR,isin:xR,isindot:kR,isinE:TR,isins:ER,isinsv:SR,isinv:MR,it:OR,Itilde:LR,itilde:AR,Iukcy:DR,iukcy:NR,Iuml:IR,iuml:RR,Jcirc:PR,jcirc:BR,Jcy:HR,jcy:FR,Jfr:$R,jfr:zR,jmath:qR,Jopf:VR,jopf:UR,Jscr:_R,jscr:jR,Jsercy:WR,jsercy:GR,Jukcy:KR,jukcy:JR,Kappa:XR,kappa:YR,kappav:QR,Kcedil:ZR,kcedil:eP,Kcy:tP,kcy:rP,Kfr:nP,kfr:iP,kgreen:oP,KHcy:aP,khcy:sP,KJcy:lP,kjcy:uP,Kopf:cP,kopf:fP,Kscr:dP,kscr:pP,lAarr:hP,Lacute:vP,lacute:mP,laemptyv:gP,lagran:yP,Lambda:bP,lambda:wP,lang:CP,Lang:xP,langd:kP,langle:TP,lap:EP,Laplacetrf:SP,laquo:MP,larrb:OP,larrbfs:LP,larr:AP,Larr:DP,lArr:NP,larrfs:IP,larrhk:RP,larrlp:PP,larrpl:BP,larrsim:HP,larrtl:FP,latail:$P,lAtail:zP,lat:qP,late:VP,lates:UP,lbarr:_P,lBarr:jP,lbbrk:WP,lbrace:GP,lbrack:KP,lbrke:JP,lbrksld:XP,lbrkslu:YP,Lcaron:QP,lcaron:ZP,Lcedil:eB,lcedil:tB,lceil:rB,lcub:nB,Lcy:iB,lcy:oB,ldca:aB,ldquo:sB,ldquor:lB,ldrdhar:uB,ldrushar:cB,ldsh:fB,le:dB,lE:pB,LeftAngleBracket:hB,LeftArrowBar:vB,leftarrow:mB,LeftArrow:gB,Leftarrow:yB,LeftArrowRightArrow:bB,leftarrowtail:wB,LeftCeiling:CB,LeftDoubleBracket:xB,LeftDownTeeVector:kB,LeftDownVectorBar:TB,LeftDownVector:EB,LeftFloor:SB,leftharpoondown:MB,leftharpoonup:OB,leftleftarrows:LB,leftrightarrow:AB,LeftRightArrow:DB,Leftrightarrow:NB,leftrightarrows:IB,leftrightharpoons:RB,leftrightsquigarrow:PB,LeftRightVector:BB,LeftTeeArrow:HB,LeftTee:FB,LeftTeeVector:$B,leftthreetimes:zB,LeftTriangleBar:qB,LeftTriangle:VB,LeftTriangleEqual:UB,LeftUpDownVector:_B,LeftUpTeeVector:jB,LeftUpVectorBar:WB,LeftUpVector:GB,LeftVectorBar:KB,LeftVector:JB,lEg:XB,leg:YB,leq:QB,leqq:ZB,leqslant:eH,lescc:tH,les:rH,lesdot:nH,lesdoto:iH,lesdotor:oH,lesg:aH,lesges:sH,lessapprox:lH,lessdot:uH,lesseqgtr:cH,lesseqqgtr:fH,LessEqualGreater:dH,LessFullEqual:pH,LessGreater:hH,lessgtr:vH,LessLess:mH,lesssim:gH,LessSlantEqual:yH,LessTilde:bH,lfisht:wH,lfloor:CH,Lfr:xH,lfr:kH,lg:TH,lgE:EH,lHar:SH,lhard:MH,lharu:OH,lharul:LH,lhblk:AH,LJcy:DH,ljcy:NH,llarr:IH,ll:RH,Ll:PH,llcorner:BH,Lleftarrow:HH,llhard:FH,lltri:$H,Lmidot:zH,lmidot:qH,lmoustache:VH,lmoust:UH,lnap:_H,lnapprox:jH,lne:WH,lnE:GH,lneq:KH,lneqq:JH,lnsim:XH,loang:YH,loarr:QH,lobrk:ZH,longleftarrow:eF,LongLeftArrow:tF,Longleftarrow:rF,longleftrightarrow:nF,LongLeftRightArrow:iF,Longleftrightarrow:oF,longmapsto:aF,longrightarrow:sF,LongRightArrow:lF,Longrightarrow:uF,looparrowleft:cF,looparrowright:fF,lopar:dF,Lopf:pF,lopf:hF,loplus:vF,lotimes:mF,lowast:gF,lowbar:yF,LowerLeftArrow:bF,LowerRightArrow:wF,loz:CF,lozenge:xF,lozf:kF,lpar:TF,lparlt:EF,lrarr:SF,lrcorner:MF,lrhar:OF,lrhard:LF,lrm:AF,lrtri:DF,lsaquo:NF,lscr:IF,Lscr:RF,lsh:PF,Lsh:BF,lsim:HF,lsime:FF,lsimg:$F,lsqb:zF,lsquo:qF,lsquor:VF,Lstrok:UF,lstrok:_F,ltcc:jF,ltcir:WF,lt:GF,LT:KF,Lt:JF,ltdot:XF,lthree:YF,ltimes:QF,ltlarr:ZF,ltquest:e$,ltri:t$,ltrie:r$,ltrif:n$,ltrPar:i$,lurdshar:o$,luruhar:a$,lvertneqq:s$,lvnE:l$,macr:u$,male:c$,malt:f$,maltese:d$,Map:"\u2905",map:p$,mapsto:h$,mapstodown:v$,mapstoleft:m$,mapstoup:g$,marker:y$,mcomma:b$,Mcy:w$,mcy:C$,mdash:x$,mDDot:k$,measuredangle:T$,MediumSpace:E$,Mellintrf:S$,Mfr:M$,mfr:O$,mho:L$,micro:A$,midast:D$,midcir:N$,mid:I$,middot:R$,minusb:P$,minus:B$,minusd:H$,minusdu:F$,MinusPlus:$$,mlcp:z$,mldr:q$,mnplus:V$,models:U$,Mopf:_$,mopf:j$,mp:W$,mscr:G$,Mscr:K$,mstpos:J$,Mu:X$,mu:Y$,multimap:Q$,mumap:Z$,nabla:ez,Nacute:tz,nacute:rz,nang:nz,nap:iz,napE:oz,napid:az,napos:sz,napprox:lz,natural:uz,naturals:cz,natur:fz,nbsp:dz,nbump:pz,nbumpe:hz,ncap:vz,Ncaron:mz,ncaron:gz,Ncedil:yz,ncedil:bz,ncong:wz,ncongdot:Cz,ncup:xz,Ncy:kz,ncy:Tz,ndash:Ez,nearhk:Sz,nearr:Mz,neArr:Oz,nearrow:Lz,ne:Az,nedot:Dz,NegativeMediumSpace:Nz,NegativeThickSpace:Iz,NegativeThinSpace:Rz,NegativeVeryThinSpace:Pz,nequiv:Bz,nesear:Hz,nesim:Fz,NestedGreaterGreater:$z,NestedLessLess:zz,NewLine:qz,nexist:Vz,nexists:Uz,Nfr:_z,nfr:jz,ngE:Wz,nge:Gz,ngeq:Kz,ngeqq:Jz,ngeqslant:Xz,nges:Yz,nGg:Qz,ngsim:Zz,nGt:e2,ngt:t2,ngtr:r2,nGtv:n2,nharr:i2,nhArr:o2,nhpar:a2,ni:s2,nis:l2,nisd:u2,niv:c2,NJcy:f2,njcy:d2,nlarr:p2,nlArr:h2,nldr:v2,nlE:m2,nle:g2,nleftarrow:y2,nLeftarrow:b2,nleftrightarrow:w2,nLeftrightarrow:C2,nleq:x2,nleqq:k2,nleqslant:T2,nles:E2,nless:S2,nLl:M2,nlsim:O2,nLt:L2,nlt:A2,nltri:D2,nltrie:N2,nLtv:I2,nmid:R2,NoBreak:P2,NonBreakingSpace:B2,nopf:H2,Nopf:F2,Not:$2,not:z2,NotCongruent:q2,NotCupCap:V2,NotDoubleVerticalBar:U2,NotElement:_2,NotEqual:j2,NotEqualTilde:W2,NotExists:G2,NotGreater:K2,NotGreaterEqual:J2,NotGreaterFullEqual:X2,NotGreaterGreater:Y2,NotGreaterLess:Q2,NotGreaterSlantEqual:Z2,NotGreaterTilde:eq,NotHumpDownHump:tq,NotHumpEqual:rq,notin:nq,notindot:iq,notinE:oq,notinva:aq,notinvb:sq,notinvc:lq,NotLeftTriangleBar:uq,NotLeftTriangle:cq,NotLeftTriangleEqual:fq,NotLess:dq,NotLessEqual:pq,NotLessGreater:hq,NotLessLess:vq,NotLessSlantEqual:mq,NotLessTilde:gq,NotNestedGreaterGreater:yq,NotNestedLessLess:bq,notni:wq,notniva:Cq,notnivb:xq,notnivc:kq,NotPrecedes:Tq,NotPrecedesEqual:Eq,NotPrecedesSlantEqual:Sq,NotReverseElement:Mq,NotRightTriangleBar:Oq,NotRightTriangle:Lq,NotRightTriangleEqual:Aq,NotSquareSubset:Dq,NotSquareSubsetEqual:Nq,NotSquareSuperset:Iq,NotSquareSupersetEqual:Rq,NotSubset:Pq,NotSubsetEqual:Bq,NotSucceeds:Hq,NotSucceedsEqual:Fq,NotSucceedsSlantEqual:$q,NotSucceedsTilde:zq,NotSuperset:qq,NotSupersetEqual:Vq,NotTilde:Uq,NotTildeEqual:_q,NotTildeFullEqual:jq,NotTildeTilde:Wq,NotVerticalBar:Gq,nparallel:Kq,npar:Jq,nparsl:Xq,npart:Yq,npolint:Qq,npr:Zq,nprcue:eV,nprec:tV,npreceq:rV,npre:nV,nrarrc:iV,nrarr:oV,nrArr:aV,nrarrw:sV,nrightarrow:lV,nRightarrow:uV,nrtri:cV,nrtrie:fV,nsc:dV,nsccue:pV,nsce:hV,Nscr:vV,nscr:mV,nshortmid:gV,nshortparallel:yV,nsim:bV,nsime:wV,nsimeq:CV,nsmid:xV,nspar:kV,nsqsube:TV,nsqsupe:EV,nsub:SV,nsubE:MV,nsube:OV,nsubset:LV,nsubseteq:AV,nsubseteqq:DV,nsucc:NV,nsucceq:IV,nsup:RV,nsupE:PV,nsupe:BV,nsupset:HV,nsupseteq:FV,nsupseteqq:$V,ntgl:zV,Ntilde:qV,ntilde:VV,ntlg:UV,ntriangleleft:_V,ntrianglelefteq:jV,ntriangleright:WV,ntrianglerighteq:GV,Nu:KV,nu:JV,num:XV,numero:YV,numsp:QV,nvap:ZV,nvdash:eU,nvDash:tU,nVdash:rU,nVDash:nU,nvge:iU,nvgt:oU,nvHarr:aU,nvinfin:sU,nvlArr:lU,nvle:uU,nvlt:cU,nvltrie:fU,nvrArr:dU,nvrtrie:pU,nvsim:hU,nwarhk:vU,nwarr:mU,nwArr:gU,nwarrow:yU,nwnear:bU,Oacute:wU,oacute:CU,oast:xU,Ocirc:kU,ocirc:TU,ocir:EU,Ocy:SU,ocy:MU,odash:OU,Odblac:LU,odblac:AU,odiv:DU,odot:NU,odsold:IU,OElig:RU,oelig:PU,ofcir:BU,Ofr:HU,ofr:FU,ogon:$U,Ograve:zU,ograve:qU,ogt:VU,ohbar:UU,ohm:_U,oint:jU,olarr:WU,olcir:GU,olcross:KU,oline:JU,olt:XU,Omacr:YU,omacr:QU,Omega:ZU,omega:e_,Omicron:t_,omicron:r_,omid:n_,ominus:i_,Oopf:o_,oopf:a_,opar:s_,OpenCurlyDoubleQuote:l_,OpenCurlyQuote:u_,operp:c_,oplus:f_,orarr:d_,Or:p_,or:h_,ord:v_,order:m_,orderof:g_,ordf:y_,ordm:b_,origof:w_,oror:C_,orslope:x_,orv:k_,oS:T_,Oscr:E_,oscr:S_,Oslash:M_,oslash:O_,osol:L_,Otilde:A_,otilde:D_,otimesas:N_,Otimes:I_,otimes:R_,Ouml:P_,ouml:B_,ovbar:H_,OverBar:F_,OverBrace:$_,OverBracket:z_,OverParenthesis:q_,para:V_,parallel:U_,par:__,parsim:j_,parsl:W_,part:G_,PartialD:K_,Pcy:J_,pcy:X_,percnt:Y_,period:Q_,permil:Z_,perp:e3,pertenk:t3,Pfr:r3,pfr:n3,Phi:i3,phi:o3,phiv:a3,phmmat:s3,phone:l3,Pi:u3,pi:c3,pitchfork:f3,piv:d3,planck:p3,planckh:h3,plankv:v3,plusacir:m3,plusb:g3,pluscir:y3,plus:b3,plusdo:w3,plusdu:C3,pluse:x3,PlusMinus:k3,plusmn:T3,plussim:E3,plustwo:S3,pm:M3,Poincareplane:O3,pointint:L3,popf:A3,Popf:D3,pound:N3,prap:I3,Pr:R3,pr:P3,prcue:B3,precapprox:H3,prec:F3,preccurlyeq:$3,Precedes:z3,PrecedesEqual:q3,PrecedesSlantEqual:V3,PrecedesTilde:U3,preceq:_3,precnapprox:j3,precneqq:W3,precnsim:G3,pre:K3,prE:J3,precsim:X3,prime:Y3,Prime:Q3,primes:Z3,prnap:ej,prnE:tj,prnsim:rj,prod:nj,Product:ij,profalar:oj,profline:aj,profsurf:sj,prop:lj,Proportional:uj,Proportion:cj,propto:fj,prsim:dj,prurel:pj,Pscr:hj,pscr:vj,Psi:mj,psi:gj,puncsp:yj,Qfr:bj,qfr:wj,qint:Cj,qopf:xj,Qopf:kj,qprime:Tj,Qscr:Ej,qscr:Sj,quaternions:Mj,quatint:Oj,quest:Lj,questeq:Aj,quot:Dj,QUOT:Nj,rAarr:Ij,race:Rj,Racute:Pj,racute:Bj,radic:Hj,raemptyv:Fj,rang:$j,Rang:zj,rangd:qj,range:Vj,rangle:Uj,raquo:_j,rarrap:jj,rarrb:Wj,rarrbfs:Gj,rarrc:Kj,rarr:Jj,Rarr:Xj,rArr:Yj,rarrfs:Qj,rarrhk:Zj,rarrlp:eW,rarrpl:tW,rarrsim:rW,Rarrtl:nW,rarrtl:iW,rarrw:oW,ratail:aW,rAtail:sW,ratio:lW,rationals:uW,rbarr:cW,rBarr:fW,RBarr:dW,rbbrk:pW,rbrace:hW,rbrack:vW,rbrke:mW,rbrksld:gW,rbrkslu:yW,Rcaron:bW,rcaron:wW,Rcedil:CW,rcedil:xW,rceil:kW,rcub:TW,Rcy:EW,rcy:SW,rdca:MW,rdldhar:OW,rdquo:LW,rdquor:AW,rdsh:DW,real:NW,realine:IW,realpart:RW,reals:PW,Re:BW,rect:HW,reg:FW,REG:$W,ReverseElement:zW,ReverseEquilibrium:qW,ReverseUpEquilibrium:VW,rfisht:UW,rfloor:_W,rfr:jW,Rfr:WW,rHar:GW,rhard:KW,rharu:JW,rharul:XW,Rho:YW,rho:QW,rhov:ZW,RightAngleBracket:e5,RightArrowBar:t5,rightarrow:r5,RightArrow:n5,Rightarrow:i5,RightArrowLeftArrow:o5,rightarrowtail:a5,RightCeiling:s5,RightDoubleBracket:l5,RightDownTeeVector:u5,RightDownVectorBar:c5,RightDownVector:f5,RightFloor:d5,rightharpoondown:p5,rightharpoonup:h5,rightleftarrows:v5,rightleftharpoons:m5,rightrightarrows:g5,rightsquigarrow:y5,RightTeeArrow:b5,RightTee:w5,RightTeeVector:C5,rightthreetimes:x5,RightTriangleBar:k5,RightTriangle:T5,RightTriangleEqual:E5,RightUpDownVector:S5,RightUpTeeVector:M5,RightUpVectorBar:O5,RightUpVector:L5,RightVectorBar:A5,RightVector:D5,ring:N5,risingdotseq:I5,rlarr:R5,rlhar:P5,rlm:B5,rmoustache:H5,rmoust:F5,rnmid:$5,roang:z5,roarr:q5,robrk:V5,ropar:U5,ropf:_5,Ropf:j5,roplus:W5,rotimes:G5,RoundImplies:K5,rpar:J5,rpargt:X5,rppolint:Y5,rrarr:Q5,Rrightarrow:Z5,rsaquo:eG,rscr:tG,Rscr:rG,rsh:nG,Rsh:iG,rsqb:oG,rsquo:aG,rsquor:sG,rthree:lG,rtimes:uG,rtri:cG,rtrie:fG,rtrif:dG,rtriltri:pG,RuleDelayed:hG,ruluhar:vG,rx:mG,Sacute:gG,sacute:yG,sbquo:bG,scap:wG,Scaron:CG,scaron:xG,Sc:kG,sc:TG,sccue:EG,sce:SG,scE:MG,Scedil:OG,scedil:LG,Scirc:AG,scirc:DG,scnap:NG,scnE:IG,scnsim:RG,scpolint:PG,scsim:BG,Scy:HG,scy:FG,sdotb:$G,sdot:zG,sdote:qG,searhk:VG,searr:UG,seArr:_G,searrow:jG,sect:WG,semi:GG,seswar:KG,setminus:JG,setmn:XG,sext:YG,Sfr:QG,sfr:ZG,sfrown:e8,sharp:t8,SHCHcy:r8,shchcy:n8,SHcy:i8,shcy:o8,ShortDownArrow:a8,ShortLeftArrow:s8,shortmid:l8,shortparallel:u8,ShortRightArrow:c8,ShortUpArrow:f8,shy:d8,Sigma:p8,sigma:h8,sigmaf:v8,sigmav:m8,sim:g8,simdot:y8,sime:b8,simeq:w8,simg:C8,simgE:x8,siml:k8,simlE:T8,simne:E8,simplus:S8,simrarr:M8,slarr:O8,SmallCircle:L8,smallsetminus:A8,smashp:D8,smeparsl:N8,smid:I8,smile:R8,smt:P8,smte:B8,smtes:H8,SOFTcy:F8,softcy:$8,solbar:z8,solb:q8,sol:V8,Sopf:U8,sopf:_8,spades:j8,spadesuit:W8,spar:G8,sqcap:K8,sqcaps:J8,sqcup:X8,sqcups:Y8,Sqrt:Q8,sqsub:Z8,sqsube:e4,sqsubset:t4,sqsubseteq:r4,sqsup:n4,sqsupe:i4,sqsupset:o4,sqsupseteq:a4,square:s4,Square:l4,SquareIntersection:u4,SquareSubset:c4,SquareSubsetEqual:f4,SquareSuperset:d4,SquareSupersetEqual:p4,SquareUnion:h4,squarf:v4,squ:m4,squf:g4,srarr:y4,Sscr:b4,sscr:w4,ssetmn:C4,ssmile:x4,sstarf:k4,Star:T4,star:E4,starf:S4,straightepsilon:M4,straightphi:O4,strns:L4,sub:A4,Sub:D4,subdot:N4,subE:I4,sube:R4,subedot:P4,submult:B4,subnE:H4,subne:F4,subplus:$4,subrarr:z4,subset:q4,Subset:V4,subseteq:U4,subseteqq:_4,SubsetEqual:j4,subsetneq:W4,subsetneqq:G4,subsim:K4,subsub:J4,subsup:X4,succapprox:Y4,succ:Q4,succcurlyeq:Z4,Succeeds:e6,SucceedsEqual:t6,SucceedsSlantEqual:r6,SucceedsTilde:n6,succeq:i6,succnapprox:o6,succneqq:a6,succnsim:s6,succsim:l6,SuchThat:u6,sum:c6,Sum:f6,sung:d6,sup1:p6,sup2:h6,sup3:v6,sup:m6,Sup:g6,supdot:y6,supdsub:b6,supE:w6,supe:C6,supedot:x6,Superset:k6,SupersetEqual:T6,suphsol:E6,suphsub:S6,suplarr:M6,supmult:O6,supnE:L6,supne:A6,supplus:D6,supset:N6,Supset:I6,supseteq:R6,supseteqq:P6,supsetneq:B6,supsetneqq:H6,supsim:F6,supsub:$6,supsup:z6,swarhk:q6,swarr:V6,swArr:U6,swarrow:_6,swnwar:j6,szlig:W6,Tab:G6,target:K6,Tau:J6,tau:X6,tbrk:Y6,Tcaron:Q6,tcaron:Z6,Tcedil:eK,tcedil:tK,Tcy:rK,tcy:nK,tdot:iK,telrec:oK,Tfr:aK,tfr:sK,there4:lK,therefore:uK,Therefore:cK,Theta:fK,theta:dK,thetasym:pK,thetav:hK,thickapprox:vK,thicksim:mK,ThickSpace:gK,ThinSpace:yK,thinsp:bK,thkap:wK,thksim:CK,THORN:xK,thorn:kK,tilde:TK,Tilde:EK,TildeEqual:SK,TildeFullEqual:MK,TildeTilde:OK,timesbar:LK,timesb:AK,times:DK,timesd:NK,tint:IK,toea:RK,topbot:PK,topcir:BK,top:HK,Topf:FK,topf:$K,topfork:zK,tosa:qK,tprime:VK,trade:UK,TRADE:_K,triangle:jK,triangledown:WK,triangleleft:GK,trianglelefteq:KK,triangleq:JK,triangleright:XK,trianglerighteq:YK,tridot:QK,trie:ZK,triminus:e9,TripleDot:t9,triplus:r9,trisb:n9,tritime:i9,trpezium:o9,Tscr:a9,tscr:s9,TScy:l9,tscy:u9,TSHcy:c9,tshcy:f9,Tstrok:d9,tstrok:p9,twixt:h9,twoheadleftarrow:v9,twoheadrightarrow:m9,Uacute:g9,uacute:y9,uarr:b9,Uarr:w9,uArr:C9,Uarrocir:x9,Ubrcy:k9,ubrcy:T9,Ubreve:E9,ubreve:S9,Ucirc:M9,ucirc:O9,Ucy:L9,ucy:A9,udarr:D9,Udblac:N9,udblac:I9,udhar:R9,ufisht:P9,Ufr:B9,ufr:H9,Ugrave:F9,ugrave:$9,uHar:z9,uharl:q9,uharr:V9,uhblk:U9,ulcorn:_9,ulcorner:j9,ulcrop:W9,ultri:G9,Umacr:K9,umacr:J9,uml:X9,UnderBar:Y9,UnderBrace:Q9,UnderBracket:Z9,UnderParenthesis:eJ,Union:tJ,UnionPlus:rJ,Uogon:nJ,uogon:iJ,Uopf:oJ,uopf:aJ,UpArrowBar:sJ,uparrow:lJ,UpArrow:uJ,Uparrow:cJ,UpArrowDownArrow:fJ,updownarrow:dJ,UpDownArrow:pJ,Updownarrow:hJ,UpEquilibrium:vJ,upharpoonleft:mJ,upharpoonright:gJ,uplus:yJ,UpperLeftArrow:bJ,UpperRightArrow:wJ,upsi:CJ,Upsi:xJ,upsih:kJ,Upsilon:TJ,upsilon:EJ,UpTeeArrow:SJ,UpTee:MJ,upuparrows:OJ,urcorn:LJ,urcorner:AJ,urcrop:DJ,Uring:NJ,uring:IJ,urtri:RJ,Uscr:PJ,uscr:BJ,utdot:HJ,Utilde:FJ,utilde:$J,utri:zJ,utrif:qJ,uuarr:VJ,Uuml:UJ,uuml:_J,uwangle:jJ,vangrt:WJ,varepsilon:GJ,varkappa:KJ,varnothing:JJ,varphi:XJ,varpi:YJ,varpropto:QJ,varr:ZJ,vArr:e7,varrho:t7,varsigma:r7,varsubsetneq:n7,varsubsetneqq:i7,varsupsetneq:o7,varsupsetneqq:a7,vartheta:s7,vartriangleleft:l7,vartriangleright:u7,vBar:c7,Vbar:f7,vBarv:d7,Vcy:p7,vcy:h7,vdash:v7,vDash:m7,Vdash:g7,VDash:y7,Vdashl:b7,veebar:w7,vee:C7,Vee:x7,veeeq:k7,vellip:T7,verbar:E7,Verbar:S7,vert:M7,Vert:O7,VerticalBar:L7,VerticalLine:A7,VerticalSeparator:D7,VerticalTilde:N7,VeryThinSpace:I7,Vfr:R7,vfr:P7,vltri:B7,vnsub:H7,vnsup:F7,Vopf:$7,vopf:z7,vprop:q7,vrtri:V7,Vscr:U7,vscr:_7,vsubnE:j7,vsubne:W7,vsupnE:G7,vsupne:K7,Vvdash:J7,vzigzag:X7,Wcirc:Y7,wcirc:Q7,wedbar:Z7,wedge:eX,Wedge:tX,wedgeq:rX,weierp:nX,Wfr:iX,wfr:oX,Wopf:aX,wopf:sX,wp:lX,wr:uX,wreath:cX,Wscr:fX,wscr:dX,xcap:pX,xcirc:hX,xcup:vX,xdtri:mX,Xfr:gX,xfr:yX,xharr:bX,xhArr:wX,Xi:CX,xi:xX,xlarr:kX,xlArr:TX,xmap:EX,xnis:SX,xodot:MX,Xopf:OX,xopf:LX,xoplus:AX,xotime:DX,xrarr:NX,xrArr:IX,Xscr:RX,xscr:PX,xsqcup:BX,xuplus:HX,xutri:FX,xvee:$X,xwedge:zX,Yacute:qX,yacute:VX,YAcy:UX,yacy:_X,Ycirc:jX,ycirc:WX,Ycy:GX,ycy:KX,yen:JX,Yfr:XX,yfr:YX,YIcy:QX,yicy:ZX,Yopf:eY,yopf:tY,Yscr:rY,yscr:nY,YUcy:iY,yucy:oY,yuml:aY,Yuml:sY,Zacute:lY,zacute:uY,Zcaron:cY,zcaron:fY,Zcy:dY,zcy:pY,Zdot:hY,zdot:vY,zeetrf:mY,ZeroWidthSpace:gY,Zeta:yY,zeta:bY,zfr:wY,Zfr:CY,ZHcy:xY,zhcy:kY,zigrarr:TY,zopf:EY,Zopf:SY,Zscr:MY,zscr:OY,zwj:LY,zwnj:AY},DY="\xC1",NY="\xE1",IY="\xC2",RY="\xE2",PY="\xB4",BY="\xC6",HY="\xE6",FY="\xC0",$Y="\xE0",zY="&",qY="&",VY="\xC5",UY="\xE5",_Y="\xC3",jY="\xE3",WY="\xC4",GY="\xE4",KY="\xA6",JY="\xC7",XY="\xE7",YY="\xB8",QY="\xA2",ZY="\xA9",eQ="\xA9",tQ="\xA4",rQ="\xB0",nQ="\xF7",iQ="\xC9",oQ="\xE9",aQ="\xCA",sQ="\xEA",lQ="\xC8",uQ="\xE8",cQ="\xD0",fQ="\xF0",dQ="\xCB",pQ="\xEB",hQ="\xBD",vQ="\xBC",mQ="\xBE",gQ=">",yQ=">",bQ="\xCD",wQ="\xED",CQ="\xCE",xQ="\xEE",kQ="\xA1",TQ="\xCC",EQ="\xEC",SQ="\xBF",MQ="\xCF",OQ="\xEF",LQ="\xAB",AQ="<",DQ="<",NQ="\xAF",IQ="\xB5",RQ="\xB7",PQ="\xA0",BQ="\xAC",HQ="\xD1",FQ="\xF1",$Q="\xD3",zQ="\xF3",qQ="\xD4",VQ="\xF4",UQ="\xD2",_Q="\xF2",jQ="\xAA",WQ="\xBA",GQ="\xD8",KQ="\xF8",JQ="\xD5",XQ="\xF5",YQ="\xD6",QQ="\xF6",ZQ="\xB6",eZ="\xB1",tZ="\xA3",rZ='"',nZ='"',iZ="\xBB",oZ="\xAE",aZ="\xAE",sZ="\xA7",lZ="\xAD",uZ="\xB9",cZ="\xB2",fZ="\xB3",dZ="\xDF",pZ="\xDE",hZ="\xFE",vZ="\xD7",mZ="\xDA",gZ="\xFA",yZ="\xDB",bZ="\xFB",wZ="\xD9",CZ="\xF9",xZ="\xA8",kZ="\xDC",TZ="\xFC",EZ="\xDD",SZ="\xFD",MZ="\xA5",OZ="\xFF",LZ={Aacute:DY,aacute:NY,Acirc:IY,acirc:RY,acute:PY,AElig:BY,aelig:HY,Agrave:FY,agrave:$Y,amp:zY,AMP:qY,Aring:VY,aring:UY,Atilde:_Y,atilde:jY,Auml:WY,auml:GY,brvbar:KY,Ccedil:JY,ccedil:XY,cedil:YY,cent:QY,copy:ZY,COPY:eQ,curren:tQ,deg:rQ,divide:nQ,Eacute:iQ,eacute:oQ,Ecirc:aQ,ecirc:sQ,Egrave:lQ,egrave:uQ,ETH:cQ,eth:fQ,Euml:dQ,euml:pQ,frac12:hQ,frac14:vQ,frac34:mQ,gt:gQ,GT:yQ,Iacute:bQ,iacute:wQ,Icirc:CQ,icirc:xQ,iexcl:kQ,Igrave:TQ,igrave:EQ,iquest:SQ,Iuml:MQ,iuml:OQ,laquo:LQ,lt:AQ,LT:DQ,macr:NQ,micro:IQ,middot:RQ,nbsp:PQ,not:BQ,Ntilde:HQ,ntilde:FQ,Oacute:$Q,oacute:zQ,Ocirc:qQ,ocirc:VQ,Ograve:UQ,ograve:_Q,ordf:jQ,ordm:WQ,Oslash:GQ,oslash:KQ,Otilde:JQ,otilde:XQ,Ouml:YQ,ouml:QQ,para:ZQ,plusmn:eZ,pound:tZ,quot:rZ,QUOT:nZ,raquo:iZ,reg:oZ,REG:aZ,sect:sZ,shy:lZ,sup1:uZ,sup2:cZ,sup3:fZ,szlig:dZ,THORN:pZ,thorn:hZ,times:vZ,Uacute:mZ,uacute:gZ,Ucirc:yZ,ucirc:bZ,Ugrave:wZ,ugrave:CZ,uml:xZ,Uuml:kZ,uuml:TZ,Yacute:EZ,yacute:SZ,yen:MZ,yuml:OZ},AZ="&",DZ="'",NZ=">",IZ="<",RZ='"',hh={amp:AZ,apos:DZ,gt:NZ,lt:IZ,quot:RZ},Cl={},PZ={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},BZ=pn&&pn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Cl,"__esModule",{value:!0});var Wf=BZ(PZ),HZ=String.fromCodePoint||function(r){var e="";return r>65535&&(r-=65536,e+=String.fromCharCode(r>>>10&1023|55296),r=56320|r&1023),e+=String.fromCharCode(r),e};function FZ(r){return r>=55296&&r<=57343||r>1114111?"\uFFFD":(r in Wf.default&&(r=Wf.default[r]),HZ(r))}Cl.default=FZ;var Io=pn&&pn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(It,"__esModule",{value:!0});It.decodeHTML=It.decodeHTMLStrict=It.decodeXML=void 0;var Hs=Io(ph),$Z=Io(LZ),zZ=Io(hh),Gf=Io(Cl),qZ=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;It.decodeXML=vh(zZ.default);It.decodeHTMLStrict=vh(Hs.default);function vh(r){var e=mh(r);return function(t){return String(t).replace(qZ,e)}}var Kf=function(r,e){return r<e?1:-1};It.decodeHTML=(function(){for(var r=Object.keys($Z.default).sort(Kf),e=Object.keys(Hs.default).sort(Kf),t=0,n=0;t<e.length;t++)r[n]===e[t]?(e[t]+=";?",n++):e[t]+=";";var i=new RegExp("&(?:"+e.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),o=mh(Hs.default);function a(s){return s.substr(-1)!==";"&&(s+=";"),o(s)}return function(s){return String(s).replace(i,a)}})();function mh(r){return function(t){if(t.charAt(1)==="#"){var n=t.charAt(2);return n==="X"||n==="x"?Gf.default(parseInt(t.substr(3),16)):Gf.default(parseInt(t.substr(2),10))}return r[t.slice(1,-1)]||t}}var je={},gh=pn&&pn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(je,"__esModule",{value:!0});je.escapeUTF8=je.escape=je.encodeNonAsciiHTML=je.encodeHTML=je.encodeXML=void 0;var VZ=gh(hh),yh=wh(VZ.default),bh=Ch(yh);je.encodeXML=Th(yh);var UZ=gh(ph),xl=wh(UZ.default),_Z=Ch(xl);je.encodeHTML=WZ(xl,_Z);je.encodeNonAsciiHTML=Th(xl);function wh(r){return Object.keys(r).sort().reduce(function(e,t){return e[r[t]]="&"+t+";",e},{})}function Ch(r){for(var e=[],t=[],n=0,i=Object.keys(r);n<i.length;n++){var o=i[n];o.length===1?e.push("\\"+o):t.push(o)}e.sort();for(var a=0;a<e.length-1;a++){for(var s=a;s<e.length-1&&e[s].charCodeAt(1)+1===e[s+1].charCodeAt(1);)s+=1;var l=1+s-a;l<3||e.splice(a,l,e[a]+"-"+e[s])}return t.unshift("["+e.join("")+"]"),new RegExp(t.join("|"),"g")}var xh=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,jZ=String.prototype.codePointAt!=null?function(r){return r.codePointAt(0)}:function(r){return(r.charCodeAt(0)-55296)*1024+r.charCodeAt(1)-56320+65536};function Ro(r){return"&#x"+(r.length>1?jZ(r):r.charCodeAt(0)).toString(16).toUpperCase()+";"}function WZ(r,e){return function(t){return t.replace(e,function(n){return r[n]}).replace(xh,Ro)}}var kh=new RegExp(bh.source+"|"+xh.source,"g");function GZ(r){return r.replace(kh,Ro)}je.escape=GZ;function KZ(r){return r.replace(bh,Ro)}je.escapeUTF8=KZ;function Th(r){return function(e){return e.replace(kh,function(t){return r[t]||Ro(t)})}}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.decodeXMLStrict=r.decodeHTML5Strict=r.decodeHTML4Strict=r.decodeHTML5=r.decodeHTML4=r.decodeHTMLStrict=r.decodeHTML=r.decodeXML=r.encodeHTML5=r.encodeHTML4=r.escapeUTF8=r.escape=r.encodeNonAsciiHTML=r.encodeHTML=r.encodeXML=r.encode=r.decodeStrict=r.decode=void 0;var e=It,t=je;function n(l,u){return(!u||u<=0?e.decodeXML:e.decodeHTML)(l)}r.decode=n;function i(l,u){return(!u||u<=0?e.decodeXML:e.decodeHTMLStrict)(l)}r.decodeStrict=i;function o(l,u){return(!u||u<=0?t.encodeXML:t.encodeHTML)(l)}r.encode=o;var a=je;Object.defineProperty(r,"encodeXML",{enumerable:!0,get:function(){return a.encodeXML}}),Object.defineProperty(r,"encodeHTML",{enumerable:!0,get:function(){return a.encodeHTML}}),Object.defineProperty(r,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return a.encodeNonAsciiHTML}}),Object.defineProperty(r,"escape",{enumerable:!0,get:function(){return a.escape}}),Object.defineProperty(r,"escapeUTF8",{enumerable:!0,get:function(){return a.escapeUTF8}}),Object.defineProperty(r,"encodeHTML4",{enumerable:!0,get:function(){return a.encodeHTML}}),Object.defineProperty(r,"encodeHTML5",{enumerable:!0,get:function(){return a.encodeHTML}});var s=It;Object.defineProperty(r,"decodeXML",{enumerable:!0,get:function(){return s.decodeXML}}),Object.defineProperty(r,"decodeHTML",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(r,"decodeHTMLStrict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(r,"decodeHTML4",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(r,"decodeHTML5",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(r,"decodeHTML4Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(r,"decodeHTML5Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(r,"decodeXMLStrict",{enumerable:!0,get:function(){return s.decodeXML}})})(wl);var Eh="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});",JZ=92,XZ=/[\\&]/,kl="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",YZ=new RegExp("\\\\"+kl+"|"+Eh,"gi"),QZ='[&<>"]',Jf=new RegExp(QZ,"g"),ZZ=function(r){return r.charCodeAt(0)===JZ?r.charAt(1):wl.decodeHTML(r)};function Qn(r){return XZ.test(r)?r.replace(YZ,ZZ):r}function ji(r){try{return pC(r)}catch{return r}}function eee(r){switch(r){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return r}}function on(r){return Jf.test(r)?r.replace(Jf,eee):r}function Fs(r,e){for(var t=[],n=0;n<e;n++)t.push(r);return t.join("")}function Xf(r){return r?!/[^ \t]+/.test(r):!0}var tee=(function(){function r(e){this.current=e,this.root=e,this.entering=!0}return r.prototype.next=function(){var e=this.current,t=this.entering;if(e===null)return null;var n=Tl(e);return t&&n?e.firstChild?(this.current=e.firstChild,this.entering=!0):this.entering=!1:e===this.root?this.current=null:e.next===null?(this.current=e.parent,this.entering=!1):(this.current=e.next,this.entering=!0),{entering:t,node:e}},r.prototype.resumeAt=function(e,t){this.current=e,this.entering=t===!0},r})();function Tl(r){switch(r.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}var ree=1,Po={};function nee(r){return Po[r]}function $s(r){delete Po[r]}function iee(){Po={}}var ri=(function(){function r(e,t){this.parent=null,this.prev=null,this.next=null,this.firstChild=null,this.lastChild=null,this.literal=null,e==="document"?this.id=-1:this.id=ree++,this.type=e,this.sourcepos=t,Po[this.id]=this}return r.prototype.isContainer=function(){return Tl(this)},r.prototype.unlink=function(){this.prev?this.prev.next=this.next:this.parent&&(this.parent.firstChild=this.next),this.next?this.next.prev=this.prev:this.parent&&(this.parent.lastChild=this.prev),this.parent=null,this.next=null,this.prev=null},r.prototype.replaceWith=function(e){this.insertBefore(e),this.unlink()},r.prototype.insertAfter=function(e){e.unlink(),e.next=this.next,e.next&&(e.next.prev=e),e.prev=this,this.next=e,this.parent&&(e.parent=this.parent,e.next||(e.parent.lastChild=e))},r.prototype.insertBefore=function(e){e.unlink(),e.prev=this.prev,e.prev&&(e.prev.next=e),e.next=this,this.prev=e,e.parent=this.parent,e.prev||(e.parent.firstChild=e)},r.prototype.appendChild=function(e){e.unlink(),e.parent=this,this.lastChild?(this.lastChild.next=e,e.prev=this.lastChild,this.lastChild=e):(this.firstChild=e,this.lastChild=e)},r.prototype.prependChild=function(e){e.unlink(),e.parent=this,this.firstChild?(this.firstChild.prev=e,e.next=this.firstChild,this.firstChild=e):(this.firstChild=e,this.lastChild=e)},r.prototype.walker=function(){return new tee(this)},r})(),Bt=(function(r){et(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.open=!0,i.lineOffsets=null,i.stringContent=null,i.lastLineBlank=!1,i.lastLineChecked=!1,i.type=t,i}return e})(ri),oee=(function(r){et(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.listData=null,t}return e})(Bt),aee=(function(r){et(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.level=0,t.headingType="atx",t}return e})(Bt),see=(function(r){et(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isFenced=!1,t.fenceChar=null,t.fenceLength=0,t.fenceOffset=-1,t.info=null,t.infoPadding=0,t}return e})(Bt),lee=(function(r){et(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.columns=[],t}return e})(Bt),uee=(function(r){et(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.startIdx=0,t.endIdx=0,t.paddingLeft=0,t.paddingRight=0,t.ignored=!1,t}return e})(Bt),cee=(function(r){et(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.title="",t.dest="",t.label="",t}return e})(Bt),fee=(function(r){et(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.syntaxLength=0,t.offset=-1,t.info="",t}return e})(Bt),dee=(function(r){et(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.htmlBlockType=-1,t}return e})(Bt),pee=(function(r){et(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.destination=null,t.title=null,t.extendedAutolink=!1,t}return e})(ri),hee=(function(r){et(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.tickCount=0,t}return e})(ri),vee=(function(r){et(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.info="",t}return e})(ri);function ie(r,e){switch(r){case"heading":return new aee(r,e);case"list":case"item":return new oee(r,e);case"link":case"image":return new pee(r,e);case"codeBlock":return new see(r,e);case"htmlBlock":return new dee(r,e);case"table":return new lee(r,e);case"tableCell":return new uee(r,e);case"document":case"paragraph":case"blockQuote":case"thematicBreak":case"tableRow":case"tableBody":case"tableHead":case"frontMatter":return new Bt(r,e);case"code":return new hee(r,e);case"refDef":return new cee(r,e);case"customBlock":return new fee(r,e);case"customInline":return new vee(r,e);default:return new ri(r,e)}}function Sh(r){return r.type==="codeBlock"}function mee(r){return r.type==="htmlBlock"}function gee(r){return r.type==="heading"}function Yf(r){return r.type==="list"}function yee(r){return r.type==="table"}function tn(r){return r.type==="refDef"}function Mh(r){return r.type==="customBlock"}function bee(r){return r.type==="customInline"}function fe(r,e){var t=ie("text",e);return t.literal=r,t}var Oh="[A-Za-z][A-Za-z0-9-]*",wee="[a-zA-Z_:][a-zA-Z0-9:._-]*",Cee="[^\"'=<>`\\x00-\\x20]+",xee="'[^']*'",kee='"[^"]*"',Tee="(?:"+Cee+"|"+xee+"|"+kee+")",Eee="(?:\\s*=\\s*"+Tee+")",See="(?:\\s+"+wee+Eee+"?)",Lh="<"+Oh+See+"*\\s*/?>",Ah="</"+Oh+"\\s*[>]",Mee="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",Oee="[<][?].*?[?][>]",Lee="<![A-Z]+\\s+[^>]*>",Aee="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",Dee="(?:"+Lh+"|"+Ah+"|"+Mee+"|"+Oee+"|"+Lee+"|"+Aee+")",Nee=new RegExp("^"+Dee,"i");var zs;String.fromCodePoint?zs=function(r){try{return String.fromCodePoint(r)}catch(e){if(e instanceof RangeError)return"\uFFFD";throw e}}:(Qf=String.fromCharCode,Zf=Math.floor,zs=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=16384,n=[],i,o,a=-1,s=r.length;if(!s)return"";for(var l="";++a<s;){var u=Number(r[a]);if(!isFinite(u)||u<0||u>1114111||Zf(u)!==u)return"\uFFFD";u<=65535?n.push(u):(u-=65536,i=(u>>10)+55296,o=u%1024+56320,n.push(i,o)),(a+1===s||n.length>t)&&(l+=Qf.apply(void 0,n),n.length=0)}return l});var Qf,Zf,ds=zs,Iee="(?:[w-]+.)*[A-Za-z0-9-]+.[A-Za-z0-9-]+",Ree="[^<\\s]*[^<?!.,:*_?~\\s]",Pee="[\\w.+-]+@(?:[\\w-]+\\.)+[\\w-]+";function Bee(r){var e=/\)+$/.exec(r);if(e){for(var t=0,n=0,i=r;n<i.length;n++){var o=i[n];o==="("?t<0?t=1:t+=1:o===")"&&(t-=1)}if(t<0){var a=Math.min(-t,e[0].length);return r.substring(0,r.length-a)}}return r}function Hee(r){return r.replace(/&[A-Za-z0-9]+;$/,"")}function Fee(r){for(var e=new RegExp(Pee,"g"),t=[],n;n=e.exec(r);){var i=n[0];/[_-]+$/.test(i)||t.push({text:i,range:[n.index,n.index+i.length-1],url:"mailto:"+i})}return t}function $ee(r){for(var e=new RegExp("(www|https?://)."+Iee+Ree,"g"),t=[],n;n=e.exec(r);){var i=Hee(Bee(n[0])),o=n[1]==="www"?"http://":"";t.push({text:i,range:[n.index,n.index+i.length-1],url:""+o+i})}return t}function zee(r){return Bs(Bs([],$ee(r)),Fee(r)).sort(function(e,t){return e.range[0]-t.range[0]})}function qee(r,e){typeof e=="boolean"&&(e=zee);for(var t,n=function(){var i=t.entering,o=t.node;if(i&&o.type==="text"&&o.parent.type!=="link"){var a=o.literal,s=e(a);if(!s||!s.length)return"continue";for(var l=0,u=o.sourcepos[0],c=u[0],f=u[1],d=function(S,A){return[[c,f+S],[c,f+A]]},p=[],h=0,v=s;h<v.length;h++){var m=v[h],g=m.range,w=m.url,y=m.text;g[0]>l&&p.push(fe(a.substring(l,g[0]),d(l,g[0]-1)));var x=ie("link",d.apply(void 0,g));x.appendChild(fe(y,d.apply(void 0,g))),x.destination=w,x.extendedAutolink=!0,p.push(x),l=g[1]+1}l<a.length&&p.push(fe(a.substring(l),d(l,a.length-1)));for(var b=0,E=p;b<E.length;b++){var T=E[b];o.insertBefore(T)}o.unlink()}};t=r.next();)n()}function go(r){return r[r.length-1]}function ed(r){return r.slice(1,r.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()}function Wi(r,e){Object.keys(r).forEach(function(t){e(t,r[t])})}function Vee(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var n=ke({},r);return e.forEach(function(i){delete n[i]}),n}function rn(r){return!Object.keys(r).length}function Uee(r){Object.keys(r).forEach(function(e){delete r[e]})}var qs=10,ps=42,Gi=95,_ee=96,td=91,jee=93,Ki=126,rd=60,Wee=33,nd=92,Gee=38,id=40,hs=41,Kee=58,br=39,wr=34,Cr=36,vs="\\\\"+kl,od=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),Jee=new RegExp('^(?:"('+vs+'|[^"\\x00])*"|'+("'("+vs+"|[^'\\x00])*'")+"|"+("\\(("+vs+"|[^()\\x00])*\\))")),Xee=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,ad=new RegExp("^"+kl),Yee=new RegExp("^"+Eh,"i"),Qee=/`+/,Zee=/^`+/,ete=/\.\.\./g,tte=/--+/g,rte=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,nte=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,ite=/^ *(?:\n *)?/,ms=/^[ \t\n\x0b\x0c\x0d]/,sd=/^\s/,ote=/ *$/,ate=/^ */,ld=/^ *(?:\n|$)/,ste=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,lte=/^[^\n`\[\]\\!<&*_'"~$]+/m,ute=(function(){function r(e){this.subject="",this.delimiters=null,this.brackets=null,this.pos=0,this.lineStartNum=0,this.lineIdx=0,this.lineOffsets=[0],this.linePosOffset=0,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.options=e}return r.prototype.sourcepos=function(e,t){var n=this.linePosOffset+this.lineOffsets[this.lineIdx],i=this.lineStartNum+this.lineIdx,o=[i,e+n];return typeof t=="number"?[o,[i,t+n]]:o},r.prototype.nextLine=function(){this.lineIdx+=1,this.linePosOffset=-this.pos},r.prototype.match=function(e){var t=e.exec(this.subject.slice(this.pos));return t===null?null:(this.pos+=t.index+t[0].length,t[0])},r.prototype.peek=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},r.prototype.spnl=function(){return this.match(ite),!0},r.prototype.parseBackticks=function(e){var t=this.pos+1,n=this.match(Zee);if(n===null)return!1;for(var i=this.pos,o;(o=this.match(Qee))!==null;)if(o===n){var a=this.subject.slice(i,this.pos-n.length),s=this.sourcepos(t,this.pos),l=a.split(`
`);if(l.length>1){var u=go(l);this.lineIdx+=l.length-1,this.linePosOffset=-(this.pos-u.length-n.length),s[1]=this.sourcepos(this.pos),a=l.join(" ")}var c=ie("code",s);return a.length>0&&a.match(/[^ ]/)!==null&&a[0]==" "&&a[a.length-1]==" "?c.literal=a.slice(1,a.length-1):c.literal=a,c.tickCount=n.length,e.appendChild(c),!0}return this.pos=i,e.appendChild(fe(n,this.sourcepos(t,this.pos-1))),!0},r.prototype.parseBackslash=function(e){var t=this.subject,n;this.pos+=1;var i=this.pos;return this.peek()===qs?(this.pos+=1,n=ie("linebreak",this.sourcepos(this.pos-1,this.pos)),e.appendChild(n),this.nextLine()):ad.test(t.charAt(this.pos))?(e.appendChild(fe(t.charAt(this.pos),this.sourcepos(i,this.pos))),this.pos+=1):e.appendChild(fe("\\",this.sourcepos(i,i))),!0},r.prototype.parseAutolink=function(e){var t,n,i,o=this.pos+1;return(t=this.match(rte))?(n=t.slice(1,t.length-1),i=ie("link",this.sourcepos(o,this.pos)),i.destination=ji("mailto:"+n),i.title="",i.appendChild(fe(n,this.sourcepos(o+1,this.pos-1))),e.appendChild(i),!0):(t=this.match(nte))?(n=t.slice(1,t.length-1),i=ie("link",this.sourcepos(o,this.pos)),i.destination=ji(n),i.title="",i.appendChild(fe(n,this.sourcepos(o+1,this.pos-1))),e.appendChild(i),!0):!1},r.prototype.parseHtmlTag=function(e){var t=this.pos+1,n=this.match(Nee);if(n===null)return!1;var i=ie("htmlInline",this.sourcepos(t,this.pos));return i.literal=n,e.appendChild(i),!0},r.prototype.scanDelims=function(e){var t=0,n=this.pos;if(e===br||e===wr)t++,this.pos++;else for(;this.peek()===e;)t++,this.pos++;if(t===0||t<2&&(e===Ki||e===Cr))return this.pos=n,null;var i=n===0?`
`:this.subject.charAt(n-1),o=this.peek(),a;o===-1?a=`
`:a=ds(o);var s=sd.test(a),l=od.test(a),u=sd.test(i),c=od.test(i),f=!s&&(!l||u||c),d=!u&&(!c||s||l),p,h;return e===Gi?(p=f&&(!d||c),h=d&&(!f||l)):e===br||e===wr?(p=f&&!d,h=d):e===Cr?(p=!s,h=!u):(p=f,h=d),this.pos=n,{numdelims:t,canOpen:p,canClose:h}},r.prototype.handleDelim=function(e,t){var n=this.scanDelims(e);if(!n)return!1;var i=n.numdelims,o=this.pos+1,a;this.pos+=i,e===br?a="\u2019":e===wr?a="\u201C":a=this.subject.slice(o-1,this.pos);var s=fe(a,this.sourcepos(o,this.pos));return t.appendChild(s),(n.canOpen||n.canClose)&&(this.options.smart||e!==br&&e!==wr)&&(this.delimiters={cc:e,numdelims:i,origdelims:i,node:s,previous:this.delimiters,next:null,canOpen:n.canOpen,canClose:n.canClose},this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)),!0},r.prototype.removeDelimiter=function(e){e.previous!==null&&(e.previous.next=e.next),e.next===null?this.delimiters=e.previous:e.next.previous=e.previous},r.prototype.removeDelimitersBetween=function(e,t){e.next!==t&&(e.next=t,t.previous=e)},r.prototype.processEmphasis=function(e){var t,n,i,o,a,s,l,u=!1,c=(t={},t[Gi]=[e,e,e],t[ps]=[e,e,e],t[br]=[e],t[wr]=[e],t[Ki]=[e],t[Cr]=[e],t);for(i=this.delimiters;i!==null&&i.previous!==e;)i=i.previous;for(;i!==null;){var f=i.cc,d=f===Gi||f===ps;if(!i.canClose)i=i.next;else{for(n=i.previous,l=!1;n!==null&&n!==e&&n!==c[f][d?i.origdelims%3:0];){if(u=d&&(i.canOpen||n.canClose)&&i.origdelims%3!==0&&(n.origdelims+i.origdelims)%3===0,n.cc===i.cc&&n.canOpen&&!u){l=!0;break}n=n.previous}if(o=i,d||f===Ki||f===Cr){if(!l)i=i.next;else if(n){var p=i.numdelims>=2&&n.numdelims>=2?2:1,h=d?0:1;a=n.node,s=i.node;var v=d?p===1?"emph":"strong":"strike";f===Cr&&(v="customInline");var m=ie(v),g=a.sourcepos[1],w=s.sourcepos[0];m.sourcepos=[[g[0],g[1]-p+1],[w[0],w[1]+p-1]],a.sourcepos[1][1]-=p,s.sourcepos[0][1]+=p,a.literal=a.literal.slice(p),s.literal=s.literal.slice(p),n.numdelims-=p,i.numdelims-=p;for(var y=a.next,x=void 0;y&&y!==s;)x=y.next,y.unlink(),m.appendChild(y),y=x;if(f===Cr){var b=m.firstChild,E=b.literal||"",T=E.split(/\s/)[0];m.info=T,E.length<=T.length?b.unlink():(b.sourcepos[0][1]+=T.length,b.literal=E.replace(T+" ",""))}if(a.insertAfter(m),this.removeDelimitersBetween(n,i),n.numdelims<=h&&(n.numdelims===0&&a.unlink(),this.removeDelimiter(n)),i.numdelims<=h){i.numdelims===0&&s.unlink();var S=i.next;this.removeDelimiter(i),i=S}}}else f===br?(i.node.literal="\u2019",l&&(n.node.literal="\u2018"),i=i.next):f===wr&&(i.node.literal="\u201D",l&&(n.node.literal="\u201C"),i=i.next);l||(c[f][d?o.origdelims%3:0]=o.previous,o.canOpen||this.removeDelimiter(o))}}for(;this.delimiters!==null&&this.delimiters!==e;)this.removeDelimiter(this.delimiters)},r.prototype.parseLinkTitle=function(){var e=this.match(Jee);return e===null?null:Qn(e.substr(1,e.length-2))},r.prototype.parseLinkDestination=function(){var e=this.match(Xee);if(e===null){if(this.peek()===rd)return null;for(var t=this.pos,n=0,i=void 0;(i=this.peek())!==-1;)if(i===nd&&ad.test(this.subject.charAt(this.pos+1)))this.pos+=1,this.peek()!==-1&&(this.pos+=1);else if(i===id)this.pos+=1,n+=1;else if(i===hs){if(n<1)break;this.pos+=1,n-=1}else{if(ms.exec(ds(i))!==null)break;this.pos+=1}return this.pos===t&&i!==hs||n!==0?null:(e=this.subject.substr(t,this.pos-t),ji(Qn(e)))}return ji(Qn(e.substr(1,e.length-2)))},r.prototype.parseLinkLabel=function(){var e=this.match(ste);return e===null||e.length>1001?0:e.length},r.prototype.parseOpenBracket=function(e){var t=this.pos;this.pos+=1;var n=fe("[",this.sourcepos(this.pos,this.pos));return e.appendChild(n),this.addBracket(n,t,!1),!0},r.prototype.parseBang=function(e){var t=this.pos;if(this.pos+=1,this.peek()===td){this.pos+=1;var n=fe("![",this.sourcepos(this.pos-1,this.pos));e.appendChild(n),this.addBracket(n,t+1,!0)}else{var n=fe("!",this.sourcepos(this.pos,this.pos));e.appendChild(n)}return!0},r.prototype.parseCloseBracket=function(e){var t=null,n=null,i=!1;this.pos+=1;var o=this.pos,a=this.brackets;if(a===null)return e.appendChild(fe("]",this.sourcepos(o,o))),!0;if(!a.active)return e.appendChild(fe("]",this.sourcepos(o,o))),this.removeBracket(),!0;var s=a.image,l=this.pos;this.peek()===id&&(this.pos++,this.spnl()&&(t=this.parseLinkDestination())!==null&&this.spnl()&&(ms.test(this.subject.charAt(this.pos-1))&&(n=this.parseLinkTitle())||!0)&&this.spnl()&&this.peek()===hs?(this.pos+=1,i=!0):this.pos=l);var u="";if(!i){var c=this.pos,f=this.parseLinkLabel();if(f>2?u=this.subject.slice(c,c+f):a.bracketAfter||(u=this.subject.slice(a.index,o)),f===0&&(this.pos=l),u){u=ed(u);var d=this.refMap[u];d&&(t=d.destination,n=d.title,i=!0)}}if(i){var p=ie(s?"image":"link");p.destination=t,p.title=n||"",p.sourcepos=[a.startpos,this.sourcepos(this.pos)];for(var h=a.node.next,v=void 0;h;)v=h.next,h.unlink(),p.appendChild(h),h=v;if(e.appendChild(p),this.processEmphasis(a.previousDelimiter),this.removeBracket(),a.node.unlink(),!s)for(a=this.brackets;a!==null;)a.image||(a.active=!1),a=a.previous;return this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:u}),!0}return this.removeBracket(),this.pos=o,e.appendChild(fe("]",this.sourcepos(o,o))),this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:u}),!0},r.prototype.addBracket=function(e,t,n){this.brackets!==null&&(this.brackets.bracketAfter=!0),this.brackets={node:e,startpos:this.sourcepos(t+(n?0:1)),previous:this.brackets,previousDelimiter:this.delimiters,index:t,image:n,active:!0}},r.prototype.removeBracket=function(){this.brackets&&(this.brackets=this.brackets.previous)},r.prototype.parseEntity=function(e){var t,n=this.pos+1;return(t=this.match(Yee))?(e.appendChild(fe(wl.decodeHTML(t),this.sourcepos(n,this.pos))),!0):!1},r.prototype.parseString=function(e){var t,n=this.pos+1;if(t=this.match(lte)){if(this.options.smart){var i=t.replace(ete,"\u2026").replace(tte,function(a){var s=0,l=0;return a.length%3===0?l=a.length/3:a.length%2===0?s=a.length/2:a.length%3===2?(s=1,l=(a.length-2)/3):(s=2,l=(a.length-4)/3),Fs("\u2014",l)+Fs("\u2013",s)});e.appendChild(fe(i,this.sourcepos(n,this.pos)))}else{var o=fe(t,this.sourcepos(n,this.pos));e.appendChild(o)}return!0}return!1},r.prototype.parseNewline=function(e){this.pos+=1;var t=e.lastChild;if(t&&t.type==="text"&&t.literal[t.literal.length-1]===" "){var n=t.literal[t.literal.length-2]===" ",i=t.literal.length;t.literal=t.literal.replace(ote,"");var o=i-t.literal.length;t.sourcepos[1][1]-=o,e.appendChild(ie(n?"linebreak":"softbreak",this.sourcepos(this.pos-o,this.pos)))}else e.appendChild(ie("softbreak",this.sourcepos(this.pos,this.pos)));return this.nextLine(),this.match(ate),!0},r.prototype.parseReference=function(e,t){if(!this.options.referenceDefinition)return 0;this.subject=e.stringContent,this.pos=0;var n=null,i=this.pos,o=this.parseLinkLabel();if(o===0)return 0;var a=this.subject.substr(0,o);if(this.peek()===Kee)this.pos++;else return this.pos=i,0;this.spnl();var s=this.parseLinkDestination();if(s===null)return this.pos=i,0;var l=this.pos;this.spnl(),this.pos!==l&&(n=this.parseLinkTitle()),n===null&&(n="",this.pos=l);var u=!0;if(this.match(ld)===null&&(n===""?u=!1:(n="",this.pos=l,u=this.match(ld)!==null)),!u)return this.pos=i,0;var c=ed(a);if(c==="")return this.pos=i,0;var f=this.getReferenceDefSourcepos(e);e.sourcepos[0][0]=f[1][0]+1;var d=ie("refDef",f);return d.title=n,d.dest=s,d.label=c,e.insertBefore(d),t[c]?this.refDefCandidateMap[d.id]=d:t[c]=_s(d),this.pos-i},r.prototype.mergeTextNodes=function(e){for(var t,n=[];t=e.next();){var i=t.entering,o=t.node;if(i&&o.type==="text")n.push(o);else if(n.length===1)n=[];else if(n.length>1){var a=n[0],s=n[n.length-1];a.sourcepos&&s.sourcepos&&(a.sourcepos[1]=s.sourcepos[1]),a.next=s.next,a.next&&(a.next.prev=a);for(var l=1;l<n.length;l+=1)a.literal+=n[l].literal,n[l].unlink();n=[]}}},r.prototype.getReferenceDefSourcepos=function(e){for(var t=e.stringContent.split(/\n|\r\n/),n=!1,i=0,o={line:0,ch:0},a=0;a<t.length;a+=1){var s=t[a];if(ms.test(s))break;if(/\:/.test(s)&&i===0){if(n)break;var l=s.indexOf(":")===s.length-1?a+1:a;o={line:l,ch:t[l].length},n=!0}var u=s.match(/'|"/g);if(u&&(i+=u.length),i===2){o={line:a,ch:s.length};break}}return[[e.sourcepos[0][0],e.sourcepos[0][1]],[e.sourcepos[0][0]+o.line,o.ch]]},r.prototype.parseInline=function(e){var t,n=!1,i=this.peek();if(i===-1)return!1;switch(i){case qs:n=this.parseNewline(e);break;case nd:n=this.parseBackslash(e);break;case _ee:n=this.parseBackticks(e);break;case ps:case Gi:case Ki:case Cr:n=this.handleDelim(i,e);break;case br:case wr:n=!!(!((t=this.options)===null||t===void 0)&&t.smart)&&this.handleDelim(i,e);break;case td:n=this.parseOpenBracket(e);break;case Wee:n=this.parseBang(e);break;case jee:n=this.parseCloseBracket(e);break;case rd:n=this.parseAutolink(e)||this.parseHtmlTag(e);break;case Gee:e.disabledEntityParse||(n=this.parseEntity(e));break;default:n=this.parseString(e);break}return n||(this.pos+=1,e.appendChild(fe(ds(i),this.sourcepos(this.pos,this.pos+1)))),!0},r.prototype.parse=function(e){for(this.subject=e.stringContent.trim(),this.pos=0,this.delimiters=null,this.brackets=null,this.lineOffsets=e.lineOffsets||[0],this.lineIdx=0,this.linePosOffset=0,this.lineStartNum=e.sourcepos[0][0],gee(e)&&(this.lineOffsets[0]+=e.level+1);this.parseInline(e););e.stringContent=null,this.processEmphasis(null),this.mergeTextNodes(e.walker());var t=this.options,n=t.extendedAutolinks,i=t.customParser;if(n&&qee(e.walker(),n),i&&e.firstChild)for(var o,a=e.firstChild.walker();o=a.next();){var s=o.node,l=o.entering;i[s.type]&&i[s.type](s,{entering:l,options:this.options})}},r})(),cte=/^\[([ \txX])\][ \t]+/;function fte(r,e){if(e.firstChild&&e.firstChild.type==="paragraph"){var t=e.firstChild,n=t.stringContent.match(cte);if(n){var i=n[0].length;t.stringContent=t.stringContent.substring(i-1),t.sourcepos[0][1]+=i,t.lineOffsets[0]+=i,e.listData.task=!0,e.listData.checked=/[xX]/.test(n[1])}}}var dte={continue:function(){return 0},finalize:function(){},canContain:function(r){return r==="tableHead"||r==="tableBody"},acceptsLines:!1},pte={continue:function(){return 0},finalize:function(){},canContain:function(r){return r==="tableRow"},acceptsLines:!1},hte={continue:function(){return 1},finalize:function(){},canContain:function(r){return r==="tableRow"||r==="tableDelimRow"},acceptsLines:!1},vte={continue:function(){return 1},finalize:function(){},canContain:function(r){return r==="tableDelimCell"},acceptsLines:!1},mte={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},gte={continue:function(){return 1},finalize:function(){},canContain:function(r){return r==="tableCell"},acceptsLines:!1},yte={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},yo=4,Dh=9,Nh=62,bte=60,Ih=32,Rh=91,Ph=/[^ \t\f\v\r\n]/,wte=/^(?:`{3,}|~{3,})(?= *$)/;function ud(r){for(var e=r;e;){if(e.lastLineBlank)return!0;var t=e.type;if(!e.lastLineChecked&&(t==="list"||t==="item"))e.lastLineChecked=!0,e=e.lastChild;else{e.lastLineChecked=!0;break}}return!1}function We(r,e){return e<r.length?r.charCodeAt(e):-1}function Bh(r){return!Ph.test(r)}function hn(r){return r===Ih||r===Dh}var Cte=/^\$\$$/,xte={continue:function(r,e){var t=r.currentLine,n=t.match(Cte);if(n)return r.lastLineLength=n[0].length,r.finalize(e,r.lineNumber),2;for(var i=e.offset;i>0&&hn(We(t,r.offset));)r.advanceOffset(1,!0),i--;return 0},finalize:function(r,e){if(e.stringContent!==null){var t=e.stringContent,n=t.indexOf(`
`),i=t.slice(0,n),o=t.slice(n+1),a=i.match(/^(\s*)(.*)/);e.info=Qn(a[2].trim()),e.literal=o,e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},Hh={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!0},kte={continue:function(){return 0},finalize:function(){},canContain:function(r){return r!=="item"},acceptsLines:!1},Tte={continue:function(){return 0},finalize:function(r,e){for(var t=e.firstChild;t;){if(ud(t)&&t.next){e.listData.tight=!1;break}for(var n=t.firstChild;n;){if(ud(n)&&(t.next||n.next)){e.listData.tight=!1;break}n=n.next}t=t.next}},canContain:function(r){return r==="item"},acceptsLines:!1},Ete={continue:function(r){var e=r.currentLine;if(!r.indented&&We(e,r.nextNonspace)===Nh)r.advanceNextNonspace(),r.advanceOffset(1,!1),hn(We(e,r.offset))&&r.advanceOffset(1,!0);else return 1;return 0},finalize:function(){},canContain:function(r){return r!=="item"},acceptsLines:!1},Ste={continue:function(r,e){if(r.blank){if(e.firstChild===null)return 1;r.advanceNextNonspace()}else if(r.indent>=e.listData.markerOffset+e.listData.padding)r.advanceOffset(e.listData.markerOffset+e.listData.padding,!0);else return 1;return 0},finalize:fte,canContain:function(r){return r!=="item"},acceptsLines:!1},Mte={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},Ote={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},Lte={continue:function(r,e){var t=r.currentLine,n=r.indent;if(e.isFenced){var i=n<=3&&t.charAt(r.nextNonspace)===e.fenceChar&&t.slice(r.nextNonspace).match(wte);if(i&&i[0].length>=e.fenceLength)return r.lastLineLength=r.offset+n+i[0].length,r.finalize(e,r.lineNumber),2;for(var o=e.fenceOffset;o>0&&hn(We(t,r.offset));)r.advanceOffset(1,!0),o--}else if(n>=yo)r.advanceOffset(yo,!0);else if(r.blank)r.advanceNextNonspace();else return 1;return 0},finalize:function(r,e){var t;if(e.stringContent!==null){if(e.isFenced){var n=e.stringContent,i=n.indexOf(`
`),o=n.slice(0,i),a=n.slice(i+1),s=o.match(/^(\s*)(.*)/);e.infoPadding=s[1].length,e.info=Qn(s[2].trim()),e.literal=a}else e.literal=(t=e.stringContent)===null||t===void 0?void 0:t.replace(/(\n *)+$/,`
`);e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},Ate={continue:function(r,e){return r.blank&&(e.htmlBlockType===6||e.htmlBlockType===7)?1:0},finalize:function(r,e){var t;e.literal=((t=e.stringContent)===null||t===void 0?void 0:t.replace(/(\n *)+$/,""))||null,e.stringContent=null},canContain:function(){return!1},acceptsLines:!0},Dte={continue:function(r){return r.blank?1:0},finalize:function(r,e){if(e.stringContent!==null){for(var t,n=!1;We(e.stringContent,0)===Rh&&(t=r.inlineParser.parseReference(e,r.refMap));)e.stringContent=e.stringContent.slice(t),n=!0;n&&Bh(e.stringContent)&&e.unlink()}},canContain:function(){return!1},acceptsLines:!0},Nte=Hh,Ite=Hh,nn={document:kte,list:Tte,blockQuote:Ete,item:Ste,heading:Mte,thematicBreak:Ote,codeBlock:Lte,htmlBlock:Ate,paragraph:Dte,table:dte,tableBody:pte,tableHead:hte,tableRow:gte,tableCell:yte,tableDelimRow:vte,tableDelimCell:mte,refDef:Nte,customBlock:xte,frontMatter:Ite};function Vs(r){for(var e=0,t=0,n=[],i=0;i<r.length;i+=1)if(r[i]==="|"&&r[i-1]!=="\\"){var o=r.substring(e,i);e===0&&Xf(o)?t=i+1:n.push(o),e=i+1}if(e<r.length){var o=r.substring(e,r.length);Xf(o)||n.push(o)}return[t,n]}function Us(r,e,t,n){for(var i=[],o=0,a=e;o<a.length;o++){var s=a[o],l=s.match(/^[ \t]+/),u=l?l[0].length:0,c=void 0,f=void 0;if(u===s.length)u=0,c=0,f="";else{var d=s.match(/[ \t]+$/);c=d?d[0].length:0,f=s.slice(u,s.length-c)}var p=n+u,h=ie(r,[[t,n],[t,n+s.length-1]]);h.stringContent=f.replace(/\\\|/g,"|"),h.startIdx=i.length,h.endIdx=i.length,h.lineOffsets=[p-1],h.paddingLeft=u,h.paddingRight=c,i.push(h),n+=s.length+1}return i}function Rte(r){var e=null,t=r.stringContent,n=t[0],i=t[t.length-1];return i===":"?e=n===":"?"center":"right":n===":"&&(e="left"),{align:e}}var Pte=function(r,e){var t=e.stringContent;if(e.type==="paragraph"&&!r.indented&&!r.blank){var n=t.length-1,i=t.lastIndexOf(`
`,n-1)+1,o=t.slice(i,n),a=r.currentLine.slice(r.nextNonspace),s=Vs(o),l=s[0],u=s[1],c=Vs(a),f=c[0],d=c[1],p=/^[ \t]*:?-+:?[ \t]*$/;if(!u.length||!d.length||d.some(function(S){return!p.test(S)})||d.length===1&&a.indexOf("|")!==0)return 0;var h=e.lineOffsets,v=r.lineNumber-1,m=go(h)+1,g=ie("table",[[v,m],[r.lineNumber,r.offset]]);if(g.columns=d.map(function(){return{align:null}}),e.insertAfter(g),h.length===1)e.unlink();else{e.stringContent=t.slice(0,i);var w=t.lastIndexOf(`
`,i-2)+1,y=i-w-1;r.lastLineLength=h[h.length-2]+y,r.finalize(e,v-1)}r.advanceOffset(r.currentLine.length-r.offset,!1);var x=ie("tableHead",[[v,m],[r.lineNumber,r.offset]]);g.appendChild(x);var b=ie("tableRow",[[v,m],[v,m+o.length-1]]),E=ie("tableDelimRow",[[r.lineNumber,r.nextNonspace+1],[r.lineNumber,r.offset]]);x.appendChild(b),x.appendChild(E),Us("tableCell",u,v,m+l).forEach(function(S){b.appendChild(S)});var T=Us("tableDelimCell",d,r.lineNumber,r.nextNonspace+1+f);return T.forEach(function(S){E.appendChild(S)}),g.columns=T.map(Rte),r.tip=g,2}return 0},Bte=function(r,e){if(e.type!=="table"&&e.type!=="tableBody"||!r.blank&&r.currentLine.indexOf("|")===-1)return 0;if(r.advanceOffset(r.currentLine.length-r.offset,!1),r.blank){var t=e;return e.type==="tableBody"&&(t=e.parent,r.finalize(e,r.lineNumber-1)),r.finalize(t,r.lineNumber-1),0}var n=e;e.type==="table"&&(n=r.addChild("tableBody",r.nextNonspace),n.stringContent=null);var i=ie("tableRow",[[r.lineNumber,r.nextNonspace+1],[r.lineNumber,r.currentLine.length]]);n.appendChild(i);var o=n.parent,a=r.currentLine.slice(r.nextNonspace),s=Vs(a),l=s[0],u=s[1];return Us("tableCell",u,r.lineNumber,r.nextNonspace+1+l).forEach(function(c,f){f>=o.columns.length&&(c.ignored=!0),i.appendChild(c)}),2},Hte=/^(\$\$)(\s*[a-zA-Z])+/,Fte=/^(\$\$)(\s*[a-zA-Z])+.*(\$\$)/,$te=function(r){var e;if(!r.indented&&!Fte.test(r.currentLine)&&(e=r.currentLine.match(Hte))){var t=e[1].length;r.closeUnmatchedBlocks();var n=r.addChild("customBlock",r.nextNonspace);return n.syntaxLength=t,n.offset=r.indent,r.advanceNextNonspace(),r.advanceOffset(t,!1),2}return 0},zte=/^`{3,}(?!.*`)|^~{3,}/,qte=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:"+Lh+"|"+Ah+")\\s*$","i")],Vte=/^(?:=+|-+)[ \t]*$/,Ute=/^#{1,6}(?:[ \t]+|$)/,_te=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/,Fh=/^[*+-]/,$h=/^(\d{1,9})([.)])/;function jte(r,e){var t=r.currentLine.slice(r.nextNonspace),n,i,o={type:"bullet",tight:!0,bulletChar:"",start:0,delimiter:"",padding:0,markerOffset:r.indent,task:!1,checked:!1};if(r.indent>=4)return null;if(n=t.match(Fh))o.type="bullet",o.bulletChar=n[0][0];else if((n=t.match($h))&&(e.type!=="paragraph"||n[1]==="1"))o.type="ordered",o.start=parseInt(n[1],10),o.delimiter=n[2];else return null;if(i=We(r.currentLine,r.nextNonspace+n[0].length),!(i===-1||i===Dh||i===Ih)||e.type==="paragraph"&&!r.currentLine.slice(r.nextNonspace+n[0].length).match(Ph))return null;r.advanceNextNonspace(),r.advanceOffset(n[0].length,!0);var a=r.column,s=r.offset;do r.advanceOffset(1,!0),i=We(r.currentLine,r.offset);while(r.column-a<5&&hn(i));var l=We(r.currentLine,r.offset)===-1,u=r.column-a;return u>=5||u<1||l?(o.padding=n[0].length+1,r.column=a,r.offset=s,hn(We(r.currentLine,r.offset))&&r.advanceOffset(1,!0)):o.padding=n[0].length+u,o}function Wte(r,e){return r.type===e.type&&r.delimiter===e.delimiter&&r.bulletChar===e.bulletChar}function zh(r,e){return r.options.disallowDeepHeading&&(e.type==="blockQuote"||e.type==="item")}var Gte=function(r){return!r.indented&&We(r.currentLine,r.nextNonspace)===Nh?(r.advanceNextNonspace(),r.advanceOffset(1,!1),hn(We(r.currentLine,r.offset))&&r.advanceOffset(1,!0),r.closeUnmatchedBlocks(),r.addChild("blockQuote",r.nextNonspace),1):0},Kte=function(r,e){var t;if(!r.indented&&!zh(r,e)&&(t=r.currentLine.slice(r.nextNonspace).match(Ute))){r.advanceNextNonspace(),r.advanceOffset(t[0].length,!1),r.closeUnmatchedBlocks();var n=r.addChild("heading",r.nextNonspace);return n.level=t[0].trim().length,n.headingType="atx",n.stringContent=r.currentLine.slice(r.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),r.advanceOffset(r.currentLine.length-r.offset),2}return 0},Jte=function(r){var e;if(!r.indented&&(e=r.currentLine.slice(r.nextNonspace).match(zte))){var t=e[0].length;r.closeUnmatchedBlocks();var n=r.addChild("codeBlock",r.nextNonspace);return n.isFenced=!0,n.fenceLength=t,n.fenceChar=e[0][0],n.fenceOffset=r.indent,r.advanceNextNonspace(),r.advanceOffset(t,!1),2}return 0},Xte=function(r,e){if(!r.indented&&We(r.currentLine,r.nextNonspace)===bte){var t=r.currentLine.slice(r.nextNonspace),n=r.options.disallowedHtmlBlockTags,i=void 0;for(i=1;i<=7;i++){var o=t.match(qte[i]);if(o){if(i===7){if(e.type==="paragraph")return 0;if(n.length>0){var a=new RegExp("</?(?:"+n.join("|")+")","i");if(a.test(o[0]))return 0}}r.closeUnmatchedBlocks();var s=r.addChild("htmlBlock",r.offset);return s.htmlBlockType=i,2}}}return 0},Yte=function(r,e){var t;if(e.stringContent!==null&&!r.indented&&e.type==="paragraph"&&!zh(r,e.parent)&&(t=r.currentLine.slice(r.nextNonspace).match(Vte))){r.closeUnmatchedBlocks();for(var n=void 0;We(e.stringContent,0)===Rh&&(n=r.inlineParser.parseReference(e,r.refMap));)e.stringContent=e.stringContent.slice(n);if(e.stringContent.length>0){var i=ie("heading",e.sourcepos);return i.level=t[0][0]==="="?1:2,i.headingType="setext",i.stringContent=e.stringContent,e.insertAfter(i),e.unlink(),r.tip=i,r.advanceOffset(r.currentLine.length-r.offset,!1),2}return 0}return 0},Qte=function(r){return!r.indented&&_te.test(r.currentLine.slice(r.nextNonspace))?(r.closeUnmatchedBlocks(),r.addChild("thematicBreak",r.nextNonspace),r.advanceOffset(r.currentLine.length-r.offset,!1),2):0},Zte=function(r,e){var t,n=e;return(!r.indented||e.type==="list")&&(t=jte(r,n))?(r.closeUnmatchedBlocks(),(r.tip.type!=="list"||!Wte(n.listData,t))&&(n=r.addChild("list",r.nextNonspace),n.listData=t),n=r.addChild("item",r.nextNonspace),n.listData=t,1):0},ere=function(r){return r.indented&&r.tip.type!=="paragraph"&&!r.blank?(r.advanceOffset(yo,!0),r.closeUnmatchedBlocks(),r.addChild("codeBlock",r.offset),2):0},gs=[Gte,Kte,Jte,Xte,Yte,Qte,Zte,ere,Pte,Bte,$te],qh=/^(-{3}|\+{3}|;{3})$/,tre=function(r,e){var t=r.currentLine,n=r.lineNumber,i=r.indented;if(n===1&&!i&&e.type==="document"&&qh.test(t)){r.closeUnmatchedBlocks();var o=r.addChild("frontMatter",r.nextNonspace);return o.stringContent=t,r.advanceNextNonspace(),r.advanceOffset(t.length,!1),2}return 0},rre={continue:function(r,e){var t=r.currentLine,n=t.match(qh);return e.type==="frontMatter"&&n?(e.stringContent+=t,r.lastLineLength=n[0].length,r.finalize(e,r.lineNumber),2):0},finalize:function(r,e){e.stringContent!==null&&(e.literal=e.stringContent,e.stringContent=null)},canContain:function(){return!1},acceptsLines:!0},nre=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],ire=/^[#`~*+_=<>0-9-;$]/,ore=/\r\n|\n|\r/;function ys(){return ie("document",[[1,1],[0,0]])}var are={smart:!1,tagFilter:!1,extendedAutolinks:!1,disallowedHtmlBlockTags:[],referenceDefinition:!1,disallowDeepHeading:!1,customParser:null,frontMatter:!1},sre=(function(){function r(e){this.options=ke(ke({},are),e),this.doc=ys(),this.tip=this.doc,this.oldtip=this.doc,this.lineNumber=0,this.offset=0,this.column=0,this.nextNonspace=0,this.nextNonspaceColumn=0,this.indent=0,this.currentLine="",this.indented=!1,this.blank=!1,this.partiallyConsumedTab=!1,this.allClosed=!0,this.lastMatchedContainer=this.doc,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.lastLineLength=0,this.lines=[],this.options.frontMatter&&(nn.frontMatter=rre,gs.unshift(tre)),this.inlineParser=new ute(this.options)}return r.prototype.advanceOffset=function(e,t){t===void 0&&(t=!1);for(var n=this.currentLine,i,o,a;e>0&&(a=n[this.offset]);)a==="	"?(i=4-this.column%4,t?(this.partiallyConsumedTab=i>e,o=i>e?e:i,this.column+=o,this.offset+=this.partiallyConsumedTab?0:1,e-=o):(this.partiallyConsumedTab=!1,this.column+=i,this.offset+=1,e-=1)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,e-=1)},r.prototype.advanceNextNonspace=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},r.prototype.findNextNonspace=function(){for(var e=this.currentLine,t=this.offset,n=this.column,i;(i=e.charAt(t))!=="";)if(i===" ")t++,n++;else if(i==="	")t++,n+=4-n%4;else break;this.blank=i===`
`||i==="\r"||i==="",this.nextNonspace=t,this.nextNonspaceColumn=n,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=yo},r.prototype.addLine=function(){if(this.partiallyConsumedTab){this.offset+=1;var e=4-this.column%4;this.tip.stringContent+=Fs(" ",e)}this.tip.lineOffsets?this.tip.lineOffsets.push(this.offset):this.tip.lineOffsets=[this.offset],this.tip.stringContent+=this.currentLine.slice(this.offset)+`
`},r.prototype.addChild=function(e,t){for(;!nn[this.tip.type].canContain(e);)this.finalize(this.tip,this.lineNumber-1);var n=t+1,i=ie(e,[[this.lineNumber,n],[0,0]]);return i.stringContent="",this.tip.appendChild(i),this.tip=i,i},r.prototype.closeUnmatchedBlocks=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var e=this.oldtip.parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=e}this.allClosed=!0}},r.prototype.finalize=function(e,t){var n=e.parent;e.open=!1,e.sourcepos[1]=[t,this.lastLineLength],nn[e.type].finalize(this,e),this.tip=n},r.prototype.processInlines=function(e){var t,n=this.options.customParser,i=e.walker();for(this.inlineParser.refMap=this.refMap,this.inlineParser.refLinkCandidateMap=this.refLinkCandidateMap,this.inlineParser.refDefCandidateMap=this.refDefCandidateMap,this.inlineParser.options=this.options;t=i.next();){var o=t.node,a=t.entering,s=o.type;n&&n[s]&&n[s](o,{entering:a,options:this.options}),!a&&(s==="paragraph"||s==="heading"||s==="tableCell"&&!o.ignored)&&this.inlineParser.parse(o)}},r.prototype.incorporateLine=function(e){var t=this.doc;this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,e.indexOf("\0")!==-1&&(e=e.replace(/\0/g,"\uFFFD")),this.currentLine=e;for(var n=!0,i;(i=t.lastChild)&&i.open;){switch(t=i,this.findNextNonspace(),nn[t.type].continue(this,t)){case 0:break;case 1:n=!1;break;case 2:this.lastLineLength=e.length;return;default:throw new Error("continue returned illegal value, must be 0, 1, or 2")}if(!n){t=t.parent;break}}this.allClosed=t===this.oldtip,this.lastMatchedContainer=t;for(var o=t.type!=="paragraph"&&nn[t.type].acceptsLines,a=gs.length;!o;){if(this.findNextNonspace(),t.type!=="table"&&t.type!=="tableBody"&&t.type!=="paragraph"&&!this.indented&&!ire.test(e.slice(this.nextNonspace))){this.advanceNextNonspace();break}for(var s=0;s<a;){var l=gs[s](this,t);if(l===1){t=this.tip;break}else if(l===2){t=this.tip,o=!0;break}else s++}if(s===a){this.advanceNextNonspace();break}}if(!this.allClosed&&!this.blank&&this.tip.type==="paragraph")this.addLine();else{this.closeUnmatchedBlocks(),this.blank&&t.lastChild&&(t.lastChild.lastLineBlank=!0);for(var u=t.type,c=this.blank&&!(u==="blockQuote"||Sh(t)&&t.isFenced||u==="item"&&!t.firstChild&&t.sourcepos[0][0]===this.lineNumber),f=t;f;)f.lastLineBlank=c,f=f.parent;nn[u].acceptsLines?(this.addLine(),mee(t)&&t.htmlBlockType>=1&&t.htmlBlockType<=5&&nre[t.htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=e.length,this.finalize(t,this.lineNumber))):this.offset<e.length&&!this.blank&&(t=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}this.lastLineLength=e.length},r.prototype.parse=function(e,t){this.doc=ys(),this.tip=this.doc,this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";var n=e.split(ore),i=n.length;this.lines=t||n,this.options.referenceDefinition&&this.clearRefMaps(),e.charCodeAt(e.length-1)===qs&&(i-=1);for(var o=0;o<i;o++)this.incorporateLine(n[o]);for(;this.tip;)this.finalize(this.tip,i);return this.processInlines(this.doc),this.doc},r.prototype.partialParseStart=function(e,t){this.doc=ys(),this.tip=this.doc,this.lineNumber=e-1,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";for(var n=t.length,i=0;i<n;i++)this.incorporateLine(t[i]);return this.doc},r.prototype.partialParseExtends=function(e){for(var t=0;t<e.length;t++)this.incorporateLine(e[t])},r.prototype.partialParseFinish=function(){for(;this.tip;)this.finalize(this.tip,this.lineNumber);this.processInlines(this.doc)},r.prototype.setRefMaps=function(e,t,n){this.refMap=e,this.refLinkCandidateMap=t,this.refDefCandidateMap=n},r.prototype.clearRefMaps=function(){[this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(e){Uee(e)})},r})();function cd(r,e){return r[0]<e[0]?1:r[0]>e[0]?-1:r[1]<e[1]?1:r[1]>e[1]?-1:0}function lre(r,e){var t=r[0],n=r[1];return cd(n,e)===1?1:cd(t,e)===-1?-1:0}function ure(r,e){if(!(r.parent!==e.parent||r===e)){for(var t=r.next;t&&t!==e;){for(var n=t.next,i=0,o=["parent","prev","next"];i<o.length;i++){var a=o[i];t[a]&&($s(t[a].id),t[a]=null)}t=n}r.next=e.next,e.next?e.next.prev=r:r.parent.lastChild=r}}function cre(r){for(var e=[],t=r.firstChild;t;)e.push(t),t=t.next;return e}function fd(r,e){for(var t=0,n=e;t<n.length;t++){var i=n[t];r.insertBefore(i)}}function fre(r,e){for(var t=e.length-1;t>=0;t-=1)r.prependChild(e[t])}function dre(r,e){if(!(!r||!r.parent||e===0)){var t=r.parent.walker();t.resumeAt(r,!0);for(var n;n=t.next();){var i=n.node,o=n.entering;o&&(i.sourcepos[0][0]+=e,i.sourcepos[1][0]+=e)}}}function Vh(r,e){var t=r[0],n=r[1];return n[0]<e?1:t[0]>e?-1:0}function Ji(r,e){for(var t=r.firstChild;t;){var n=Vh(t.sourcepos,e);if(n===0)return t;if(n===-1)return t.prev||t;t=t.next}return r.lastChild}function pre(r){for(;r.lastChild;)r=r.lastChild;return r}function hre(r){for(;r.parent&&r.parent.type!=="document"&&r.parent.sourcepos[0][0]===r.sourcepos[0][0];)r=r.parent;return r}function vre(r,e){for(var t=r.firstChild,n=null;t;){var i=Vh(t.sourcepos,e);if(i===0){if(t.sourcepos[0][0]===e||!t.firstChild)return t;n=t,t=t.firstChild}else{if(i===-1)break;n=t,t=t.next}}return n?hre(pre(n)):null}function mre(r,e){for(var t=r,n=null;t;){var i=lre(t.sourcepos,e);if(i===0)if(t.firstChild)n=t,t=t.firstChild;else return t;else{if(i===-1)return n;if(t.next)t=t.next;else return n}}return t}function Uh(r){return nee(r)||null}function bs(r,e,t){if(t===void 0&&(t=null),e)for(var n=e.walker();e&&e!==t;){r(e);var i=n.next();if(i)e=i.node;else break}}function gre(r){var e=Uh(r);if(!e)return!0;for(;e&&e.type!=="document";){if(!e.parent&&!e.prev&&!e.next)return!0;e=e.parent}return!1}var dd=/\r\n|\n|\r/;function yre(r){var e=r.match(/^[ \t]+/);if(e&&(e[0].length>=2||/\t/.test(e[0])))return!0;var t=e?r.slice(e.length):r;return Fh.test(t)||$h.test(t)}function bre(r){return!Bh(r)&&r.indexOf("|")!==-1}function _s(r){var e=r.id,t=r.title,n=r.sourcepos,i=r.dest;return{id:e,title:t,sourcepos:n,unlinked:!1,destination:i}}var _h=(function(){function r(e,t){this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.referenceDefinition=!!t?.referenceDefinition,this.parser=new sre(t),this.parser.setRefMaps(this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap),this.eventHandlerMap={change:[]},e=e||"",this.lineTexts=e.split(dd),this.root=this.parser.parse(e,this.lineTexts)}return r.prototype.updateLineTexts=function(e,t,n){var i,o=e[0],a=e[1],s=t[0],l=t[1],u=n.split(dd),c=u.length,f=this.lineTexts[o-1],d=this.lineTexts[s-1];u[0]=f.slice(0,a-1)+u[0],u[c-1]=u[c-1]+d.slice(l-1);var p=s-o+1;return(i=this.lineTexts).splice.apply(i,Bs([o-1,p],u)),c-p},r.prototype.updateRootNodeState=function(){if(this.lineTexts.length===1&&this.lineTexts[0]===""){this.root.lastLineBlank=!0,this.root.sourcepos=[[1,1],[1,0]];return}this.root.lastChild&&(this.root.lastLineBlank=this.root.lastChild.lastLineBlank);for(var e=this.lineTexts,t=e.length-1;e[t]==="";)t-=1;e.length-2>t&&(t+=1),this.root.sourcepos[1]=[t+1,e[t].length]},r.prototype.replaceRangeNodes=function(e,t,n){e?(fd(e,n),ure(e,t),[e.id,t.id].forEach(function(i){return $s(i)}),e.unlink()):t?(fd(t,n),$s(t.id),t.unlink()):fre(this.root,n)},r.prototype.getNodeRange=function(e,t){var n=Ji(this.root,e[0]),i=Ji(this.root,t[0]);return i&&i.next&&t[0]+1===i.next.sourcepos[0][0]&&(i=i.next),[n,i]},r.prototype.trigger=function(e,t){this.eventHandlerMap[e].forEach(function(n){n(t)})},r.prototype.extendEndLine=function(e){for(;this.lineTexts[e]==="";)e+=1;return e},r.prototype.parseRange=function(e,t,n,i){e&&e.prev&&(Yf(e.prev)&&yre(this.lineTexts[n-1])||yee(e.prev)&&bre(this.lineTexts[n-1]))&&(e=e.prev,n=e.sourcepos[0][0]);for(var o=this.lineTexts.slice(n-1,i),a=this.parser.partialParseStart(n,o),s=t?t.next:this.root.firstChild,l=a.lastChild,u=l&&Sh(l)&&l.open,c=l&&Mh(l)&&l.open,f=l&&Yf(l);(u||c)&&s||f&&s&&(s.type==="list"||s.sourcepos[0][1]>=2);){var d=this.extendEndLine(s.sourcepos[1][0]);this.parser.partialParseExtends(this.lineTexts.slice(i,d)),e||(e=t),t=s,i=d,s=s.next}this.parser.partialParseFinish();var p=cre(a);return{newNodes:p,extStartNode:e,extEndNode:t}},r.prototype.getRemovedNodeRange=function(e,t){return!e||e&&tn(e)||t&&tn(t)?null:{id:[e.id,t.id],line:[e.sourcepos[0][0]-1,t.sourcepos[1][0]-1]}},r.prototype.markDeletedRefMap=function(e,t){var n=this;if(!rn(this.refMap)){var i=function(o){if(tn(o)){var a=n.refMap[o.label];a&&o.id===a.id&&(a.unlinked=!0)}};e&&bs(i,e.parent,t),t&&bs(i,t)}},r.prototype.replaceWithNewRefDefState=function(e){var t=this;if(!rn(this.refMap)){var n=function(i){if(tn(i)){var o=i.label,a=t.refMap[o];(!a||a.unlinked)&&(t.refMap[o]=_s(i))}};e.forEach(function(i){bs(n,i)})}},r.prototype.replaceWithRefDefCandidate=function(){var e=this;rn(this.refDefCandidateMap)||Wi(this.refDefCandidateMap,function(t,n){var i=n.label,o=n.sourcepos,a=e.refMap[i];(!a||a.unlinked||a.sourcepos[0][0]>o[0][0])&&(e.refMap[i]=_s(n))})},r.prototype.getRangeWithRefDef=function(e,t,n,i,o){if(this.referenceDefinition&&!rn(this.refMap)){var a=Ji(this.root,e-1),s=Ji(this.root,t+1);a&&tn(a)&&a!==n&&a!==i&&(n=a,e=n.sourcepos[0][0]),s&&tn(s)&&s!==n&&s!==i&&(i=s,t=this.extendEndLine(i.sourcepos[1][0]+o))}return[n,i,e,t]},r.prototype.parse=function(e,t,n){n===void 0&&(n=0);var i=this.getNodeRange(e,t),o=i[0],a=i[1],s=o?Math.min(o.sourcepos[0][0],e[0]):e[0],l=this.extendEndLine((a?Math.max(a.sourcepos[1][0],t[0]):t[0])+n),u=this.parseRange.apply(this,this.getRangeWithRefDef(s,l,o,a,n)),c=u.newNodes,f=u.extStartNode,d=u.extEndNode,p=this.getRemovedNodeRange(f,d),h=d?d.next:this.root.firstChild;return this.referenceDefinition?(this.markDeletedRefMap(f,d),this.replaceRangeNodes(f,d,c),this.replaceWithNewRefDefState(c)):this.replaceRangeNodes(f,d,c),{nodes:c,removedNodeRange:p,nextNode:h}},r.prototype.parseRefLink=function(){var e=this,t=[];return rn(this.refMap)||Wi(this.refMap,function(n,i){i.unlinked&&delete e.refMap[n],Wi(e.refLinkCandidateMap,function(o,a){var s=a.node,l=a.refLabel;l===n&&t.push(e.parse(s.sourcepos[0],s.sourcepos[1]))})}),t},r.prototype.removeUnlinkedCandidate=function(){rn(this.refDefCandidateMap)||[this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(e){Wi(e,function(t){gre(t)&&delete e[t]})})},r.prototype.editMarkdown=function(e,t,n){var i=this.updateLineTexts(e,t,n),o=this.parse(e,t,i),a=Vee(o,"nextNode");dre(o.nextNode,i),this.updateRootNodeState();var s=[a];return this.referenceDefinition&&(this.removeUnlinkedCandidate(),this.replaceWithRefDefCandidate(),s=s.concat(this.parseRefLink())),this.trigger("change",s),s},r.prototype.getLineTexts=function(){return this.lineTexts},r.prototype.getRootNode=function(){return this.root},r.prototype.findNodeAtPosition=function(e){var t=mre(this.root,e);return!t||t===this.root?null:t},r.prototype.findFirstNodeAtLine=function(e){return vre(this.root,e)},r.prototype.on=function(e,t){this.eventHandlerMap[e].push(t)},r.prototype.off=function(e,t){var n=this.eventHandlerMap[e],i=n.indexOf(t);n.splice(i,1)},r.prototype.findNodeById=function(e){return Uh(e)},r.prototype.removeAllNode=function(){iee()},r})(),wre=["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"],pd=new RegExp("<(/?(?:"+wre.join("|")+")[^>]*>)","ig");function hd(r){return pd.test(r)?r.replace(pd,function(e,t){return"&lt;"+t}):r}var vd={heading:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"h"+r.level,outerNewLine:!0}},text:function(r){return{type:"text",content:r.literal}},softbreak:function(r,e){var t=e.options;return{type:"html",content:t.softbreak}},linebreak:function(){return{type:"html",content:`<br />
`}},emph:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"em"}},strong:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"strong"}},paragraph:function(r,e){var t,n=e.entering,i=(t=r.parent)===null||t===void 0?void 0:t.parent;return i&&i.type==="list"&&i.listData.tight?null:{type:n?"openTag":"closeTag",tagName:"p",outerNewLine:!0}},thematicBreak:function(){return{type:"openTag",tagName:"hr",outerNewLine:!0,selfClose:!0}},blockQuote:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"blockquote",outerNewLine:!0,innerNewLine:!0}},list:function(r,e){var t=e.entering,n=r.listData,i=n.type,o=n.start,a=i==="bullet"?"ul":"ol",s={};return a==="ol"&&o!==null&&o!==1&&(s.start=o.toString()),{type:t?"openTag":"closeTag",tagName:a,attributes:s,outerNewLine:!0}},item:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"li",outerNewLine:!0}},htmlInline:function(r,e){var t=e.options,n=t.tagFilter?hd(r.literal):r.literal;return{type:"html",content:n}},htmlBlock:function(r,e){var t=e.options,n=t.tagFilter?hd(r.literal):r.literal;return t.nodeId?[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:n},{type:"closeTag",tagName:"div",outerNewLine:!0}]:{type:"html",content:n,outerNewLine:!0}},code:function(r){return[{type:"openTag",tagName:"code"},{type:"text",content:r.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(r){var e=r.info,t=e?e.split(/\s+/):[],n=[];return t.length>0&&t[0].length>0&&n.push("language-"+on(t[0])),[{type:"openTag",tagName:"pre",outerNewLine:!0},{type:"openTag",tagName:"code",classNames:n},{type:"text",content:r.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre",outerNewLine:!0}]},link:function(r,e){var t=e.entering;if(t){var n=r,i=n.title,o=n.destination;return{type:"openTag",tagName:"a",attributes:ke({href:on(o)},i&&{title:on(i)})}}return{type:"closeTag",tagName:"a"}},image:function(r,e){var t=e.getChildrenText,n=e.skipChildren,i=r,o=i.title,a=i.destination;return n(),{type:"openTag",tagName:"img",selfClose:!0,attributes:ke({src:on(a),alt:t(r)},o&&{title:on(o)})}},customBlock:function(r,e,t){var n=r.info.trim().toLowerCase(),i=t[n];if(i)try{return i(r,e)}catch(o){console.warn("[@toast-ui/editor] - The error occurred when "+n+" block node was parsed in markdown renderer: "+o)}return[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"text",content:r.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},frontMatter:function(r){return[{type:"openTag",tagName:"div",outerNewLine:!0,attributes:{style:"white-space: pre; display: none;"}},{type:"text",content:r.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},customInline:function(r,e,t){var n=r,i=n.info,o=n.firstChild,a=i.trim().toLowerCase(),s=t[a],l=e.entering;if(s)try{return s(r,e)}catch(u){console.warn("[@toast-ui/editor] - The error occurred when "+a+" inline node was parsed in markdown renderer: "+u)}return l?[{type:"openTag",tagName:"span"},{type:"text",content:"$$"+i+(o?" ":"")}]:[{type:"text",content:"$$"},{type:"closeTag",tagName:"span"}]}},md={strike:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"del"}},item:function(r,e){var t=e.entering,n=r.listData,i=n.checked,o=n.task;if(t){var a={type:"openTag",tagName:"li",outerNewLine:!0};return o?[a,{type:"openTag",tagName:"input",selfClose:!0,attributes:ke(ke({},i&&{checked:""}),{disabled:"",type:"checkbox"})},{type:"text",content:" "}]:a}return{type:"closeTag",tagName:"li",outerNewLine:!0}},table:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"table",outerNewLine:!0}},tableHead:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"thead",outerNewLine:!0}},tableBody:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"tbody",outerNewLine:!0}},tableRow:function(r,e){var t=e.entering;if(t)return{type:"openTag",tagName:"tr",outerNewLine:!0};var n=[];if(r.lastChild)for(var i=r.parent.parent.columns.length,o=r.lastChild.endIdx,a=o+1;a<i;a+=1)n.push({type:"openTag",tagName:"td",outerNewLine:!0},{type:"closeTag",tagName:"td",outerNewLine:!0});return n.push({type:"closeTag",tagName:"tr",outerNewLine:!0}),n},tableCell:function(r,e){var t=e.entering;if(r.ignored)return{type:"text",content:""};var n=r.parent.parent,i=n.type==="tableHead"?"th":"td",o=n.parent,a=o.columns[r.startIdx],s=a?.align?{align:a.align}:null;return t?ke({type:"openTag",tagName:i,outerNewLine:!0},s&&{attributes:s}):{type:"closeTag",tagName:i,outerNewLine:!0}}},Cre={softbreak:`
`,gfm:!1,tagFilter:!1,nodeId:!1};function xre(r){for(var e=[],t=r.walker(),n=null;n=t.next();){var i=n.node;i.type==="text"&&e.push(i.literal)}return e.join("")}var El=(function(){function r(e){this.buffer=[],this.options=ke(ke({},Cre),e),this.convertors=this.createConvertors(),delete this.options.convertors}return r.prototype.createConvertors=function(){var e=ke({},vd);if(this.options.gfm&&(e=ke(ke({},e),md)),this.options.convertors){var t=this.options.convertors,n=Object.keys(t),i=ke(ke({},vd),md);n.forEach(function(o){var a=e[o],s=t[o],l=Object.keys(i).indexOf(o)===-1?o.toLowerCase():o;a?e[l]=function(u,c,f){return c.origin=function(){return a(u,c,f)},s(u,c)}:e[l]=s})}return e},r.prototype.getConvertors=function(){return this.convertors},r.prototype.getOptions=function(){return this.options},r.prototype.render=function(e){var t=this;this.buffer=[];for(var n=e.walker(),i=null,o=function(){var s=i.node,l=i.entering,u=a.convertors[s.type];if(!u)return"continue";var c=!1,f={entering:l,leaf:!Tl(s),options:a.options,getChildrenText:xre,skipChildren:function(){c=!0}},d=Mh(s)||bee(s)?u(s,f,a.convertors):u(s,f);if(d){var p=Array.isArray(d)?d:[d];p.forEach(function(h,v){h.type==="openTag"&&t.options.nodeId&&v===0&&(h.attributes||(h.attributes={}),h.attributes["data-nodeid"]=String(s.id)),t.renderHTMLNode(h)}),c&&(n.resumeAt(s,!1),n.next())}},a=this;i=n.next();)o();return this.addNewLine(),this.buffer.join("")},r.prototype.renderHTMLNode=function(e){switch(e.type){case"openTag":case"closeTag":this.renderElementNode(e);break;case"text":this.renderTextNode(e);break;case"html":this.renderRawHtmlNode(e);break}},r.prototype.generateOpenTagString=function(e){var t=this,n=e.tagName,i=e.classNames,o=e.attributes;this.buffer.push("<"+n),i&&i.length>0&&this.buffer.push(' class="'+i.join(" ")+'"'),o&&Object.keys(o).forEach(function(a){var s=o[a];t.buffer.push(" "+a+'="'+s+'"')}),e.selfClose&&this.buffer.push(" /"),this.buffer.push(">")},r.prototype.generateCloseTagString=function(e){var t=e.tagName;this.buffer.push("</"+t+">")},r.prototype.addNewLine=function(){this.buffer.length&&go(go(this.buffer))!==`
`&&this.buffer.push(`
`)},r.prototype.addOuterNewLine=function(e){e.outerNewLine&&this.addNewLine()},r.prototype.addInnerNewLine=function(e){e.innerNewLine&&this.addNewLine()},r.prototype.renderTextNode=function(e){this.buffer.push(on(e.content))},r.prototype.renderRawHtmlNode=function(e){this.addOuterNewLine(e),this.buffer.push(e.content),this.addOuterNewLine(e)},r.prototype.renderElementNode=function(e){e.type==="openTag"?(this.addOuterNewLine(e),this.generateOpenTagString(e),e.selfClose?this.addOuterNewLine(e):this.addInnerNewLine(e)):(this.addInnerNewLine(e),this.generateCloseTagString(e),this.addOuterNewLine(e))},r})();function kre(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}else return Array.from(r)}var Tre=Object.hasOwnProperty,gd=Object.setPrototypeOf,Ere=Object.isFrozen,Sre=Object.getPrototypeOf,Mre=Object.getOwnPropertyDescriptor,Fe=Object.freeze,Rt=Object.seal,Ore=Object.create,jh=typeof Reflect<"u"&&Reflect,bo=jh.apply,js=jh.construct;bo||(bo=function(e,t,n){return e.apply(t,n)});Fe||(Fe=function(e){return e});Rt||(Rt=function(e){return e});js||(js=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(kre(t))))});var Lre=lt(Array.prototype.forEach),yd=lt(Array.prototype.pop),jn=lt(Array.prototype.push),to=lt(String.prototype.toLowerCase),bd=lt(String.prototype.match),Jt=lt(String.prototype.replace),Are=lt(String.prototype.indexOf),Dre=lt(String.prototype.trim),Lt=lt(RegExp.prototype.test),wd=Nre(TypeError);function lt(r){return function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return bo(r,e,n)}}function Nre(r){return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return js(r,t)}}function U(r,e){gd&&gd(r,null);for(var t=e.length;t--;){var n=e[t];if(typeof n=="string"){var i=to(n);i!==n&&(Ere(e)||(e[t]=i),n=i)}r[n]=!0}return r}function xr(r){var e=Ore(null),t=void 0;for(t in r)bo(Tre,r,[t])&&(e[t]=r[t]);return e}function Xi(r,e){for(;r!==null;){var t=Mre(r,e);if(t){if(t.get)return lt(t.get);if(typeof t.value=="function")return lt(t.value)}r=Sre(r)}function n(i){return console.warn("fallback value for",i),null}return n}var Cd=Fe(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ws=Fe(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Cs=Fe(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Ire=Fe(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),xs=Fe(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Rre=Fe(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),xd=Fe(["#text"]),kd=Fe(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),ks=Fe(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Td=Fe(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Yi=Fe(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Pre=Rt(/\{\{[\s\S]*|[\s\S]*\}\}/gm),Bre=Rt(/<%[\s\S]*|[\s\S]*%>/gm),Hre=Rt(/^data-[\-\w.\u00B7-\uFFFF]/),Fre=Rt(/^aria-[\-\w]+$/),$re=Rt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),zre=Rt(/^(?:\w+script|data):/i),qre=Rt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Yn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};function pt(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}else return Array.from(r)}var Vre=function(){return typeof window>"u"?null:window},Ure=function(e,t){if((typeof e>"u"?"undefined":Yn(e))!=="object"||typeof e.createPolicy!="function")return null;var n=null,i="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(i)&&(n=t.currentScript.getAttribute(i));var o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML:function(s){return s}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function Wh(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Vre(),e=function(C){return Wh(C)};if(e.version="2.3.3",e.removed=[],!r||!r.document||r.document.nodeType!==9)return e.isSupported=!1,e;var t=r.document,n=r.document,i=r.DocumentFragment,o=r.HTMLTemplateElement,a=r.Node,s=r.Element,l=r.NodeFilter,u=r.NamedNodeMap,c=u===void 0?r.NamedNodeMap||r.MozNamedAttrMap:u,f=r.Text,d=r.Comment,p=r.DOMParser,h=r.trustedTypes,v=s.prototype,m=Xi(v,"cloneNode"),g=Xi(v,"nextSibling"),w=Xi(v,"childNodes"),y=Xi(v,"parentNode");if(typeof o=="function"){var x=n.createElement("template");x.content&&x.content.ownerDocument&&(n=x.content.ownerDocument)}var b=Ure(h,t),E=b&&ii?b.createHTML(""):"",T=n,S=T.implementation,A=T.createNodeIterator,q=T.createDocumentFragment,K=T.getElementsByTagName,ue=t.importNode,$e={};try{$e=xr(n).documentMode?n.documentMode:{}}catch{}var he={};e.isSupported=typeof y=="function"&&S&&typeof S.createHTMLDocument<"u"&&$e!==9;var I=Pre,P=Bre,B=Hre,F=Fre,_=zre,W=qre,Q=$re,Y=null,ze=U({},[].concat(pt(Cd),pt(ws),pt(Cs),pt(xs),pt(xd))),oe=null,er=U({},[].concat(pt(kd),pt(ks),pt(Td),pt(Yi))),Ht=null,bn=null,Pl=!0,zo=!0,Bl=!1,Dr=!1,Nr=!1,qo=!1,Vo=!1,Ir=!1,ni=!1,Hl=!0,ii=!1,Fl=!0,Uo=!0,wn=!1,Rr={},Pr=null,$l=U({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),zl=null,ql=U({},["audio","video","img","source","image","track"]),_o=null,Vl=U({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),jo="http://www.w3.org/1998/Math/MathML",Wo="http://www.w3.org/2000/svg",Ft="http://www.w3.org/1999/xhtml",oi=Ft,Go=!1,Br=void 0,Pv=["application/xhtml+xml","text/html"],Bv="text/html",Hr=void 0,Fr=null,Hv=n.createElement("form"),Ko=function(C){Fr&&Fr===C||((!C||(typeof C>"u"?"undefined":Yn(C))!=="object")&&(C={}),C=xr(C),Y="ALLOWED_TAGS"in C?U({},C.ALLOWED_TAGS):ze,oe="ALLOWED_ATTR"in C?U({},C.ALLOWED_ATTR):er,_o="ADD_URI_SAFE_ATTR"in C?U(xr(Vl),C.ADD_URI_SAFE_ATTR):Vl,zl="ADD_DATA_URI_TAGS"in C?U(xr(ql),C.ADD_DATA_URI_TAGS):ql,Pr="FORBID_CONTENTS"in C?U({},C.FORBID_CONTENTS):$l,Ht="FORBID_TAGS"in C?U({},C.FORBID_TAGS):{},bn="FORBID_ATTR"in C?U({},C.FORBID_ATTR):{},Rr="USE_PROFILES"in C?C.USE_PROFILES:!1,Pl=C.ALLOW_ARIA_ATTR!==!1,zo=C.ALLOW_DATA_ATTR!==!1,Bl=C.ALLOW_UNKNOWN_PROTOCOLS||!1,Dr=C.SAFE_FOR_TEMPLATES||!1,Nr=C.WHOLE_DOCUMENT||!1,Ir=C.RETURN_DOM||!1,ni=C.RETURN_DOM_FRAGMENT||!1,Hl=C.RETURN_DOM_IMPORT!==!1,ii=C.RETURN_TRUSTED_TYPE||!1,Vo=C.FORCE_BODY||!1,Fl=C.SANITIZE_DOM!==!1,Uo=C.KEEP_CONTENT!==!1,wn=C.IN_PLACE||!1,Q=C.ALLOWED_URI_REGEXP||Q,oi=C.NAMESPACE||Ft,Br=Pv.indexOf(C.PARSER_MEDIA_TYPE)===-1?Br=Bv:Br=C.PARSER_MEDIA_TYPE,Hr=Br==="application/xhtml+xml"?function(O){return O}:to,Dr&&(zo=!1),ni&&(Ir=!0),Rr&&(Y=U({},[].concat(pt(xd))),oe=[],Rr.html===!0&&(U(Y,Cd),U(oe,kd)),Rr.svg===!0&&(U(Y,ws),U(oe,ks),U(oe,Yi)),Rr.svgFilters===!0&&(U(Y,Cs),U(oe,ks),U(oe,Yi)),Rr.mathMl===!0&&(U(Y,xs),U(oe,Td),U(oe,Yi))),C.ADD_TAGS&&(Y===ze&&(Y=xr(Y)),U(Y,C.ADD_TAGS)),C.ADD_ATTR&&(oe===er&&(oe=xr(oe)),U(oe,C.ADD_ATTR)),C.ADD_URI_SAFE_ATTR&&U(_o,C.ADD_URI_SAFE_ATTR),C.FORBID_CONTENTS&&(Pr===$l&&(Pr=xr(Pr)),U(Pr,C.FORBID_CONTENTS)),Uo&&(Y["#text"]=!0),Nr&&U(Y,["html","head","body"]),Y.table&&(U(Y,["tbody"]),delete Ht.tbody),Fe&&Fe(C),Fr=C)},Ul=U({},["mi","mo","mn","ms","mtext"]),_l=U({},["foreignobject","desc","title","annotation-xml"]),ai=U({},ws);U(ai,Cs),U(ai,Ire);var Jo=U({},xs);U(Jo,Rre);var Fv=function(C){var O=y(C);(!O||!O.tagName)&&(O={namespaceURI:Ft,tagName:"template"});var R=to(C.tagName),ee=to(O.tagName);if(C.namespaceURI===Wo)return O.namespaceURI===Ft?R==="svg":O.namespaceURI===jo?R==="svg"&&(ee==="annotation-xml"||Ul[ee]):!!ai[R];if(C.namespaceURI===jo)return O.namespaceURI===Ft?R==="math":O.namespaceURI===Wo?R==="math"&&_l[ee]:!!Jo[R];if(C.namespaceURI===Ft){if(O.namespaceURI===Wo&&!_l[ee]||O.namespaceURI===jo&&!Ul[ee])return!1;var Se=U({},["title","style","font","a","script"]);return!Jo[R]&&(Se[R]||!ai[R])}return!1},bt=function(C){jn(e.removed,{element:C});try{C.parentNode.removeChild(C)}catch{try{C.outerHTML=E}catch{C.remove()}}},jl=function(C,O){try{jn(e.removed,{attribute:O.getAttributeNode(C),from:O})}catch{jn(e.removed,{attribute:null,from:O})}if(O.removeAttribute(C),C==="is"&&!oe[C])if(Ir||ni)try{bt(O)}catch{}else try{O.setAttribute(C,"")}catch{}},Wl=function(C){var O=void 0,R=void 0;if(Vo)C="<remove></remove>"+C;else{var ee=bd(C,/^[\r\n\t ]+/);R=ee&&ee[0]}Br==="application/xhtml+xml"&&(C='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+C+"</body></html>");var Se=b?b.createHTML(C):C;if(oi===Ft)try{O=new p().parseFromString(Se,Br)}catch{}if(!O||!O.documentElement){O=S.createDocument(oi,"template",null);try{O.documentElement.innerHTML=Go?"":Se}catch{}}var Me=O.body||O.documentElement;return C&&R&&Me.insertBefore(n.createTextNode(R),Me.childNodes[0]||null),oi===Ft?K.call(O,Nr?"html":"body")[0]:Nr?O.documentElement:Me},Gl=function(C){return A.call(C.ownerDocument||C,C,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},$v=function(C){return C instanceof f||C instanceof d?!1:typeof C.nodeName!="string"||typeof C.textContent!="string"||typeof C.removeChild!="function"||!(C.attributes instanceof c)||typeof C.removeAttribute!="function"||typeof C.setAttribute!="function"||typeof C.namespaceURI!="string"||typeof C.insertBefore!="function"},Cn=function(C){return(typeof a>"u"?"undefined":Yn(a))==="object"?C instanceof a:C&&(typeof C>"u"?"undefined":Yn(C))==="object"&&typeof C.nodeType=="number"&&typeof C.nodeName=="string"},wt=function(C,O,R){he[C]&&Lre(he[C],function(ee){ee.call(e,O,R,Fr)})},Kl=function(C){var O=void 0;if(wt("beforeSanitizeElements",C,null),$v(C)||bd(C.nodeName,/[\u0080-\uFFFF]/))return bt(C),!0;var R=Hr(C.nodeName);if(wt("uponSanitizeElement",C,{tagName:R,allowedTags:Y}),!Cn(C.firstElementChild)&&(!Cn(C.content)||!Cn(C.content.firstElementChild))&&Lt(/<[/\w]/g,C.innerHTML)&&Lt(/<[/\w]/g,C.textContent)||R==="select"&&Lt(/<template/i,C.innerHTML))return bt(C),!0;if(!Y[R]||Ht[R]){if(Uo&&!Pr[R]){var ee=y(C)||C.parentNode,Se=w(C)||C.childNodes;if(Se&&ee)for(var Me=Se.length,Oe=Me-1;Oe>=0;--Oe)ee.insertBefore(m(Se[Oe],!0),g(C))}return bt(C),!0}return C instanceof s&&!Fv(C)||(R==="noscript"||R==="noembed")&&Lt(/<\/no(script|embed)/i,C.innerHTML)?(bt(C),!0):(Dr&&C.nodeType===3&&(O=C.textContent,O=Jt(O,I," "),O=Jt(O,P," "),C.textContent!==O&&(jn(e.removed,{element:C.cloneNode()}),C.textContent=O)),wt("afterSanitizeElements",C,null),!1)},Jl=function(C,O,R){if(Fl&&(O==="id"||O==="name")&&(R in n||R in Hv))return!1;if(!(zo&&!bn[O]&&Lt(B,O))){if(!(Pl&&Lt(F,O))){if(!oe[O]||bn[O])return!1;if(!_o[O]){if(!Lt(Q,Jt(R,W,""))){if(!((O==="src"||O==="xlink:href"||O==="href")&&C!=="script"&&Are(R,"data:")===0&&zl[C])){if(!(Bl&&!Lt(_,Jt(R,W,"")))){if(R)return!1}}}}}}return!0},Xl=function(C){var O=void 0,R=void 0,ee=void 0,Se=void 0;wt("beforeSanitizeAttributes",C,null);var Me=C.attributes;if(Me){var Oe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:oe};for(Se=Me.length;Se--;){O=Me[Se];var Ct=O,xn=Ct.name,Yl=Ct.namespaceURI;if(R=Dre(O.value),ee=Hr(xn),Oe.attrName=ee,Oe.attrValue=R,Oe.keepAttr=!0,Oe.forceKeepAttr=void 0,wt("uponSanitizeAttribute",C,Oe),R=Oe.attrValue,!Oe.forceKeepAttr&&(jl(xn,C),!!Oe.keepAttr)){if(Lt(/\/>/i,R)){jl(xn,C);continue}Dr&&(R=Jt(R,I," "),R=Jt(R,P," "));var qv=Hr(C.nodeName);if(Jl(qv,ee,R))try{Yl?C.setAttributeNS(Yl,xn,R):C.setAttribute(xn,R),yd(e.removed)}catch{}}}wt("afterSanitizeAttributes",C,null)}},zv=function H(C){var O=void 0,R=Gl(C);for(wt("beforeSanitizeShadowDOM",C,null);O=R.nextNode();)wt("uponSanitizeShadowNode",O,null),!Kl(O)&&(O.content instanceof i&&H(O.content),Xl(O));wt("afterSanitizeShadowDOM",C,null)};return e.sanitize=function(H,C){var O=void 0,R=void 0,ee=void 0,Se=void 0,Me=void 0;if(Go=!H,Go&&(H="<!-->"),typeof H!="string"&&!Cn(H)){if(typeof H.toString!="function")throw wd("toString is not a function");if(H=H.toString(),typeof H!="string")throw wd("dirty is not a string, aborting")}if(!e.isSupported){if(Yn(r.toStaticHTML)==="object"||typeof r.toStaticHTML=="function"){if(typeof H=="string")return r.toStaticHTML(H);if(Cn(H))return r.toStaticHTML(H.outerHTML)}return H}if(qo||Ko(C),e.removed=[],typeof H=="string"&&(wn=!1),!wn)if(H instanceof a)O=Wl("<!---->"),R=O.ownerDocument.importNode(H,!0),R.nodeType===1&&R.nodeName==="BODY"||R.nodeName==="HTML"?O=R:O.appendChild(R);else{if(!Ir&&!Dr&&!Nr&&H.indexOf("<")===-1)return b&&ii?b.createHTML(H):H;if(O=Wl(H),!O)return Ir?null:E}O&&Vo&&bt(O.firstChild);for(var Oe=Gl(wn?H:O);ee=Oe.nextNode();)ee.nodeType===3&&ee===Se||Kl(ee)||(ee.content instanceof i&&zv(ee.content),Xl(ee),Se=ee);if(Se=null,wn)return H;if(Ir){if(ni)for(Me=q.call(O.ownerDocument);O.firstChild;)Me.appendChild(O.firstChild);else Me=O;return Hl&&(Me=ue.call(t,Me,!0)),Me}var Ct=Nr?O.outerHTML:O.innerHTML;return Dr&&(Ct=Jt(Ct,I," "),Ct=Jt(Ct,P," ")),b&&ii?b.createHTML(Ct):Ct},e.setConfig=function(H){Ko(H),qo=!0},e.clearConfig=function(){Fr=null,qo=!1},e.isValidAttribute=function(H,C,O){Fr||Ko({});var R=Hr(H),ee=Hr(C);return Jl(R,ee,O)},e.addHook=function(H,C){typeof C=="function"&&(he[H]=he[H]||[],jn(he[H],C))},e.removeHook=function(H){he[H]&&yd(he[H])},e.removeHooks=function(H){he[H]&&(he[H]=[])},e.removeAllHooks=function(){he={}},e}var _re=Wh(),jre=["iframe","embed"],Gh=[];function Kh(r){Ee(jre,r)&&Gh.push(r.toLowerCase())}function Ar(r,e){return _re.sanitize(r,k({ADD_TAGS:Gh,ADD_ATTR:["rel","target","hreflang","type"],FORBID_TAGS:["input","script","textarea","form","button","select","meta","style","link","title","object","base"]},e))}function Jh(r,e){return r.literal.replace(new RegExp("(<\\s*"+e+"[^>]*>)|(</"+e+"\\s*[>])","ig"),"").trim()}function Ws(r){r=r.match(fn)[0];var e=r.match(new RegExp(_p,"g"));return e?e.reduce(function(t,n){var i=n.trim().split("="),o=i[0],a=i.slice(1);return a.length&&(t[o]=a.join("=").replace(/'|"/g,"").trim()),t},{}):{}}function Gs(r){return yt(r.attributes).reduce(function(e,t){return e[t.nodeName]=t.nodeValue,e},{})}function Ed(r,e,t,n){var i=n.getToDOMNode(e)(r),o=t(i.outerHTML),a=document.createElement("div");a.innerHTML=o,i=a.firstChild;var s=Gs(i);return{dom:i,htmlAttrs:s}}var Wre={htmlBlock:function(r,e,t){return{atom:!0,content:"block+",group:"block",attrs:{htmlAttrs:{default:{}},childrenHTML:{default:""},htmlBlock:{default:!0}},parseDOM:[{tag:r,getAttrs:function(n){return{htmlAttrs:Gs(n),childrenHTML:n.innerHTML}}}],toDOM:function(n){var i=Ed(n,r,e,t),o=i.dom,a=i.htmlAttrs;return a.class=a.class?a.class+" html-block":"html-block",Ve([r,a],yt(o.childNodes))}}},htmlInline:function(r,e,t){return{attrs:{htmlAttrs:{default:{}},htmlInline:{default:!0}},parseDOM:[{tag:r,getAttrs:function(n){return{htmlAttrs:Gs(n)}}}],toDOM:function(n){var i=Ed(n,r,e,t).htmlAttrs;return[r,i,0]}}}};function Gre(r,e,t){var n={nodes:{},marks:{}};return["htmlBlock","htmlInline"].forEach(function(i){r[i]&&Object.keys(r[i]).forEach(function(o){var a=i==="htmlBlock"?"nodes":"marks";Kh(o),n[a][o]=Wre[i](o,e,t)})}),n}var Kre=/^\s*<\s*\//,Jre={paragraph:function(r,e){var t=e.entering,n=e.origin,i=e.options;return i.nodeId?{type:t?"openTag":"closeTag",outerNewLine:!0,tagName:"p"}:n()},softbreak:function(r){var e=r.prev&&r.prev.type==="htmlInline",t=e&&/<br ?\/?>/.test(r.prev.literal),n=t?`
`:`<br>
`;return{type:"html",content:n}},item:function(r,e){var t=e.entering;if(t){var n={},i=[];return r.listData.task&&(n["data-task"]="",i.push("task-list-item"),r.listData.checked&&(i.push("checked"),n["data-task-checked"]="")),{type:"openTag",tagName:"li",classNames:i,attributes:n,outerNewLine:!0}}return{type:"closeTag",tagName:"li",outerNewLine:!0}},code:function(r){var e={"data-backticks":String(r.tickCount)};return[{type:"openTag",tagName:"code",attributes:e},{type:"text",content:r.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(r){var e=r,t=e.fenceLength,n=e.info,i=n?n.split(/\s+/):[],o=[],a={};if(t>3&&(a["data-backticks"]=t),i.length>0&&i[0].length>0){var s=i[0];o.push("lang-"+s),a["data-language"]=s}return[{type:"openTag",tagName:"pre",classNames:o},{type:"openTag",tagName:"code",attributes:a},{type:"text",content:r.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]},customInline:function(r,e){var t=e.origin,n=e.entering,i=e.skipChildren,o=r.info;if(o.indexOf("widget")!==-1&&n){i();var a=zp(r),s=$p(o,a).outerHTML;return[{type:"openTag",tagName:"span",classNames:["tui-widget"]},{type:"html",content:s},{type:"closeTag",tagName:"span"}]}return t()}};function Sl(r,e){var t=k({},Jre);return r&&(t.link=function(n,i){var o=i.entering,a=i.origin,s=a();return o&&(s.attributes=k(k({},s.attributes),r)),s}),e&&Object.keys(e).forEach(function(n){var i=t[n],o=e[n];i&&Ze(o)?t[n]=function(a,s){var l=k({},s);return l.origin=function(){return i(a,s)},o(a,l)}:Ee(["htmlBlock","htmlInline"],n)&&!Ze(o)?t[n]=function(a,s){var l=a.literal.match(fn);if(l){var u=l[0],c=l[1],f=l[3],d=(c||f).toLowerCase(),p=o[d],h=Jh(a,d);if(p){var v=k({},a);return v.attrs=Ws(u),v.childrenHTML=h,v.type=d,s.entering=!Kre.test(a.literal),p(v,s)}}return s.origin()}:t[n]=o}),t}var Xre=["list","item","blockQuote"],Yre=["UL","OL","BLOCKQUOTE"];function Qre(r,e){var t,n=r.child(e);return!n.childCount||n.childCount===1&&!(!((t=n.firstChild.text)===null||t===void 0)&&t.trim())}function Sd(r,e,t){var n=ti(e)-1,i=So(e)-1,o=t[n].getBoundingClientRect(),a=t[i].offsetTop-t[n].offsetTop+t[i].clientHeight;return{height:a<=0?t[n].clientHeight:a+Zre(r,t,Math.min(i+1,r.childCount-1)),rect:o}}function Zre(r,e,t){for(var n=r.childCount-1,i=0;t<=n&&Qre(r,t);)i+=e[t].clientHeight,t+=1;return i}function ene(r,e){for(;!r.getAttribute("data-nodeid")&&r.parentElement!==e;)r=r.parentElement;return r}function wo(r,e){for(var t=0;r&&r!==e&&(Ee(Yre,r.tagName)||(t+=r.offsetTop),r.offsetParent!==e.offsetParent);)r=r.parentElement;return t}function tne(r,e){for(var t=e,n=null;t;){var i=t.firstElementChild;if(!i)break;var o=Xh(i,r,wo(t,e));n=t,t=o}var a=t||n;return a===e?null:a}function Xh(r,e,t){return r&&e>t+r.offsetTop?Xh(r.nextElementSibling,e,t)||r:null}function rne(r,e,t,n){var i=Math.min((r-e)/t,1);return i*n}function Ts(r,e){for(var t=r.querySelector('[data-nodeid="'+e.id+'"]');!t||Wb(e);)e=e.parent,t=r.querySelector('[data-nodeid="'+e.id+'"]');return nne({mdNode:e,el:t})}function nne(r){for(var e=r.mdNode,t=r.el;(Ee(Xre,e.type)||e.type==="table")&&e.firstChild;)e=e.firstChild,t=t.firstElementChild;return{mdNode:e,el:t}}var ot={};function ine(r,e){ot[r]=ot[r]||{},ot[r].height=e}function one(r,e){ot[r]=ot[r]||{},ot[r].offsetTop=e}function ane(r){return ot[r]&&ot[r].height}function sne(r){return ot[r]&&ot[r].offsetTop}function Ks(r){r&&(delete ot[Number(r.getAttribute("data-nodeid"))],yt(r.children).forEach(function(e){Ks(e)}))}function lne(r,e,t){var n=ane(t),i=sne(t),o=n||r.clientHeight,a=i||wo(r,e)||r.offsetTop;return n||ine(t,o),i||one(t,a),{nodeHeight:o,offsetTop:a}}var Es=N("md-preview-highlight");function une(r,e){for(var t=r.firstChild;t&&t.next&&!(Mo(t.next)>e+1);)t=t.next;return t}var Yh=(function(){function r(e,t){var n=document.createElement("div");this.el=n,this.eventEmitter=e,this.isViewer=!!t.isViewer,this.el.className=N("md-preview");var i=t.linkAttributes,o=t.customHTMLRenderer,a=t.sanitizer,s=t.highlight,l=s===void 0?!1:s;this.renderer=new El({gfm:!0,nodeId:!0,convertors:Sl(i,o)}),this.cursorNodeId=null,this.sanitizer=a,this.initEvent(l),this.initContentSection(),this.isViewer&&(this.previewContent.style.overflowWrap="break-word")}return r.prototype.initContentSection=function(){this.previewContent=Jp('<div class="'+N("contents")+'"></div>'),this.isViewer||this.el.appendChild(this.previewContent)},r.prototype.toggleActive=function(e){fl(this.el,"active",e)},r.prototype.initEvent=function(e){var t=this;this.eventEmitter.listen("updatePreview",this.update.bind(this)),!this.isViewer&&(e&&(this.eventEmitter.listen("changeToolbarState",function(n){var i=n.mdNode,o=n.cursorPos;t.updateCursorNode(i,o)}),this.eventEmitter.listen("blur",function(){t.removeHighlight()})),dh(this.el,"scroll",function(n){t.eventEmitter.emit("scroll","preview",tne(n.target.scrollTop,t.previewContent))}),this.eventEmitter.listen("changePreviewTabPreview",function(){return t.toggleActive(!0)}),this.eventEmitter.listen("changePreviewTabWrite",function(){return t.toggleActive(!1)}))},r.prototype.removeHighlight=function(){if(this.cursorNodeId){var e=this.getElementByNodeId(this.cursorNodeId);e&&it(e,Es)}},r.prototype.updateCursorNode=function(e,t){e&&(e=cn(e,function(a){return!Jb(a)}),e.type==="tableRow"?e=une(e,t[1]):e.type==="tableBody"&&(e=null));var n=e?e.id:null;if(this.cursorNodeId!==n){var i=this.getElementByNodeId(this.cursorNodeId),o=this.getElementByNodeId(n);i&&it(i,Es),o&&vt(o,Es),this.cursorNodeId=n}},r.prototype.getElementByNodeId=function(e){return e?this.previewContent.querySelector('[data-nodeid="'+e+'"]'):null},r.prototype.update=function(e){var t=this;e.forEach(function(n){return t.replaceRangeNodes(n)}),this.eventEmitter.emit("afterPreviewRender",this)},r.prototype.replaceRangeNodes=function(e){var t=this,n=e.nodes,i=e.removedNodeRange,o=this.previewContent,a=this.eventEmitter.emitReduce("beforePreviewRender",this.sanitizer(n.map(function(h){return t.renderer.render(h)}).join("")));if(!i)o.insertAdjacentHTML("afterbegin",a);else{var s=i.id,l=s[0],u=s[1],c=this.getElementByNodeId(l),f=this.getElementByNodeId(u);if(c){c.insertAdjacentHTML("beforebegin",a);for(var d=c;d&&d!==f;){var p=d.nextElementSibling;Mr(d),Ks(d),d=p}d?.parentNode&&(Mr(d),Ks(d))}}},r.prototype.getRenderer=function(){return this.renderer},r.prototype.destroy=function(){fh(this.el,"scroll"),this.el=null},r.prototype.getElement=function(){return this.el},r.prototype.getHTML=function(){return hl(this.previewContent.innerHTML)},r.prototype.setHTML=function(e){this.previewContent.innerHTML=e},r.prototype.setHeight=function(e){gt(this.el,{height:e+"px"})},r.prototype.setMinHeight=function(e){gt(this.el,{minHeight:e+"px"})},r})();function Dt(r,e){for(var t=r.depth;t;){var n=r.node(t);if(e(n,t))return{node:n,depth:t,offset:t>0?r.before(t):0};t-=1}return null}function vn(r){return!!Dt(r,function(e){var t=e.type;return t.name==="listItem"||t.name==="bulletList"||t.name==="orderedList"})}function Co(r){return!!Dt(r,function(e){var t=e.type;return t.name==="tableHeadCell"||t.name==="tableBodyCell"})}function mn(r){return Dt(r,function(e){var t=e.type;return t.name==="listItem"})}function Bo(r){return{tag:r,getAttrs:function(e){var t=e.getAttribute("data-raw-html");return k({},t&&{rawHTML:t})}}}function Qh(r){return Object.keys(r).reduce(function(e,t){return t!=="rawHTML"&&r[t]&&(t=t==="className"?"class":t,e[t]=r[t]),e},{})}function Zh(r){return{tag:r,getAttrs:function(e){return["rawHTML","colspan","rowspan","extended"].reduce(function(t,n){var i=n==="rawHTML"?"data-raw-html":n,o=e.getAttribute(i);return o&&(t[n]=Ee(["rawHTML","extended"],n)?o:Number(o)),t},{})}}}function ye(){return{htmlAttrs:{default:null},classNames:{default:null}}}function le(r){var e=r.htmlAttrs,t=r.classNames;return k(k({},e),{class:t?t.join(" "):null})}function cne(r,e){var t=r.parent,n=r.startIndex,i=r.endIndex,o=t.contentMatchAt(n).findWrapping(e);if(o){var a=o.length?o[0]:e;return t.canReplaceWith(n,i,a)?o:null}return null}function fne(r,e){var t=r.parent,n=r.startIndex,i=r.endIndex,o=t.child(n),a=e.contentMatch.findWrapping(o.type);if(a){for(var s=a.length?a[a.length-1]:e,l=s.contentMatch,u=n;l&&u<i;u+=1)l=l.matchType(t.child(u).type);if(l&&l.validEnd)return a}return null}function dne(r,e,t,n){var i=cne(r,t),o=fne(e,t);if(i&&o){var a=i.map(function(l){return{type:l}}),s=o.map(function(l){return{type:l,attrs:n}});return a.concat({type:t}).concat(s)}return null}function pne(r,e,t,n,i){for(var o=e.start,a=e.end,s=e.startIndex,l=e.endIndex,u=e.parent,c=M.empty,f=t.length-1;f>=0;f-=1)c=M.from(t[f].type.create(t[f].attrs,c));r.step(new ce(o-(n?2:0),a,o,a,new L(c,0,0),t.length,!0));for(var d=0,f=0;f<t.length;f+=1)if(t[f].type===i){d=f+1;break}for(var p=t.length-d,h=o+t.length-(n?2:0),f=s,v=l;f<v;f+=1){var m=f===s;!m&&zt(r.doc,h,p)&&(r.split(h,p),h+=p*2),h+=u.child(f).nodeSize}return r}function ev(r,e,t,n){var i=e.$from,o=e.$to,a=e.depth,s=e,l=!1;if(a>=2&&i.node(a-1).type.compatibleContent(t)&&e.startIndex===0&&i.index(a-1)){var u=r.doc.resolve(e.start-2);s=new ir(u,u,a),e.endIndex<e.parent.childCount&&(e=new ir(i,r.doc.resolve(o.end(a)),a)),l=!0}var c=dne(s,e,t,n);return c?pne(r,e,c,l,t):r}function tv(r,e){for(var t=r.resolve(e);t.node().type.name!=="paragraph";)e-=2,t=r.resolve(e);return mn(t)}function hne(r,e){var t=e.$from,n=e.$to,i=mn(t),o=mn(n);if(i&&o)for(;o;){var a=o.offset,s=o.node,l={task:!s.attrs.task,checked:!1};if(r.setNodeMarkup(a,null,l),a===i.offset)break;o=tv(r.doc,a)}return r}function vne(r,e,t){var n=e.$from,i=e.$to,o=mn(n),a=mn(i);if(o&&a)for(;a;){var s=a.offset,l=a.node,u=a.depth;l.attrs.task&&r.setNodeMarkup(s,null,{task:!1,checked:!1});var c=r.doc.resolve(s);if(c.parent.type!==t){var f=c.before(u-1);r.setNodeMarkup(f,t)}if(s===o.offset)break;a=tv(r.doc,s)}return r}function rv(r){return function(e,t){var n=e.selection,i=e.tr,o=n.$from,a=n.$to,s=o.blockRange(a);if(s){var l=vn(o)?vne(i,s,r):ev(i,s,r);return t(l),!0}return!1}}function mne(){return function(r,e){var t=r.selection,n=r.tr,i=r.schema,o=t.$from,a=t.$to,s=o.blockRange(a);if(s){var l=vn(o)?hne(n,s):ev(n,s,i.nodes.bulletList,{task:!0});return e(l),!0}return!1}}function gne(r){return function(e,t){var n=e.tr,i=e.selection,o=i.$from,a=i.$to,s=o.blockRange(a,function(v){var m=v.childCount,g=v.firstChild;return!!m&&g.type===r});if(s&&s.startIndex>0){var l=s.parent,u=l.child(s.startIndex-1);if(u.type!==r)return!1;var c=u.lastChild&&u.lastChild.type===l.type,f=c?M.from(r.create()):null,d=new L(M.from(r.create(null,M.from(l.type.create(null,f)))),c?3:1,0),p=s.start,h=s.end;return n.step(new ce(p-(c?3:1),h,p,h,d,1,!0)),t(n),!0}return!1}}function yne(r,e,t){var n=e.$from,i=e.$to,o=e.end,a=e.depth,s=e.parent,l=i.end(a);return o<l&&(r.step(new ce(o-1,l,o,l,new L(M.from(t.create(null,s.copy())),1,0),1,!0)),e=new ir(r.doc.resolve(n.pos),r.doc.resolve(l),a)),r.lift(e,Vr(e)),r}function bne(r,e){for(var t=e.parent,n=e.end,i=e.endIndex-1,o=e.startIndex;i>o;i-=1)n-=t.child(i).nodeSize,r.delete(n-1,n+1);var a=r.doc.resolve(e.start),s=a.nodeAfter,l=e.startIndex===0,u=e.endIndex===t.childCount,c=a.node(-1),f=a.index(-1),d=c.canReplace(f+(l?0:1),f+1,s?.content.append(u?M.empty:M.from(t)));if(s&&d){var p=a.pos,h=p+s.nodeSize;r.step(new ce(p-(l?1:0),h+(u?1:0),p+1,h-1,new L((l?M.empty:M.from(t.copy(M.empty))).append(u?M.empty:M.from(t.copy(M.empty))),l?0:1,u?0:1),l?0:1))}return r}function wne(r){return function(e,t){var n=e.tr,i=e.selection,o=i.$from,a=i.$to,s=o.blockRange(a,function(c){var f=c.childCount,d=c.firstChild;return!!f&&d.type===r});if(s){var l=o.node(s.depth-1).type===r,u=l?yne(n,s,r):bne(n,s);return t(u),!0}return!1}}function Cne(r){return function(e,t){var n=e.tr,i=e.selection,o=i.$from,a=i.$to;if(o.depth<2||!o.sameParent(a))return!1;var s=o.node(-1);if(s.type!==r)return!1;if(o.parent.content.size===0&&o.node(-1).childCount===o.indexAfter(-1)){if(o.depth===2||o.node(-3).type!==r||o.index(-2)!==o.node(-2).childCount-1)return!1;for(var l=o.index(-1)>0,u=M.empty,c=o.depth-(l?1:2);c>=o.depth-3;c-=1)u=M.from(o.node(c).copy(u));return u=u.append(M.from(r.createAndFill())),n.replace(l?o.before():o.before(-1),o.after(-3),new L(u,l?3:2,2)),n.setSelection(V.near(n.doc.resolve(o.pos+(l?3:2)))),t(n),!0}var f=a.pos===o.end()?s.contentMatchAt(0).defaultType:null,d=f&&[null,{type:f}];return n.delete(o.pos,a.pos),zt(n.doc,o.pos,2,d)?(n.split(o.pos,2,d),t(n),!0):!1}}function xne(){return function(){return function(r,e){var t=r.selection,n=r.schema,i=t.$from,o=t.$to,a=i.blockRange(o);return a&&vn(i)?gne(n.nodes.listItem)(r,e):!1}}}function kne(){return function(){return function(r,e){var t=r.selection,n=r.schema,i=t.$from,o=t.$to,a=i.blockRange(o);return a&&vn(i)?wne(n.nodes.listItem)(r,e):!1}}}function Ml(){return{indent:xne(),outdent:kne()}}var Md=new Map,xe=(function(){function r(e,t,n,i){this.table=e,this.tableRows=t,this.tableStartPos=n,this.rowInfo=i}return r.create=function(e){var t=Dt(e,function(h){var v=h.type;return v.name==="table"});if(t){var n=t.node,i=t.depth,o=t.offset,a=Md.get(n);if(a?.tableStartPos===o+1)return a;var s=[],l=e.start(i),u=n.child(0),c=n.child(1),f=Js(u,l),d=Js(c,l+u.nodeSize);u.forEach(function(h){return s.push(h)}),c.forEach(function(h){return s.push(h)});var p=new r(n,s,l,f.concat(d));return Md.set(n,p),p}return null},Object.defineProperty(r.prototype,"totalRowCount",{get:function(){return this.rowInfo.length},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"totalColumnCount",{get:function(){return this.rowInfo[0].length},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tableStartOffset",{get:function(){return this.tableStartPos},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tableEndOffset",{get:function(){return this.tableStartPos+this.table.nodeSize-1},enumerable:!1,configurable:!0}),r.prototype.getCellInfo=function(e,t){return this.rowInfo[e][t]},r.prototype.posAt=function(e,t){for(var n=0,i=this.tableStartPos;;n+=1){var o=i+this.tableRows[n].nodeSize;if(n===e){for(var a=t;a<this.totalColumnCount&&this.rowInfo[n][a].offset<i;)a+=1;return a===this.totalColumnCount?o:this.rowInfo[n][a].offset}i=o}},r.prototype.getNodeAndPos=function(e,t){var n=this.rowInfo[e][t];return{node:this.table.nodeAt(n.offset-this.tableStartOffset),pos:n.offset}},r.prototype.extendedRowspan=function(e,t){return!1},r.prototype.extendedColspan=function(e,t){return!1},r.prototype.getRowspanCount=function(e,t){return 0},r.prototype.getColspanCount=function(e,t){return 0},r.prototype.decreaseColspanCount=function(e,t){return 0},r.prototype.decreaseRowspanCount=function(e,t){return 0},r.prototype.getColspanStartInfo=function(e,t){return null},r.prototype.getRowspanStartInfo=function(e,t){return null},r.prototype.getCellStartOffset=function(e,t){var n=this.rowInfo[e][t].offset;return this.extendedRowspan(e,t)?this.posAt(e,t):n},r.prototype.getCellEndOffset=function(e,t){var n=this.rowInfo[e][t],i=n.offset,o=n.nodeSize;return this.extendedRowspan(e,t)?this.posAt(e,t):i+o},r.prototype.getCellIndex=function(e){for(var t=0;t<this.totalRowCount;t+=1)for(var n=this.rowInfo[t],i=0;i<this.totalColumnCount;i+=1)if(n[i].offset+1>e.pos)return[t,i];return[0,0]},r.prototype.getRectOffsets=function(e,t){var n,i,o;t===void 0&&(t=e),e.pos>t.pos&&(n=[t,e],e=n[0],t=n[1]);var a=this.getCellIndex(e),s=a[0],l=a[1],u=this.getCellIndex(t),c=u[0],f=u[1];return i=Sf(s,c),s=i[0],c=i[1],o=Sf(l,f),l=o[0],f=o[1],this.getSpannedOffsets({startRowIdx:s,startColIdx:l,endRowIdx:c,endColIdx:f})},r.prototype.getSpannedOffsets=function(e){return e},r})(),Js=function(r,e){var t=[];return r.forEach(function(n,i){var o={rowspanMap:{},colspanMap:{},length:0};n.forEach(function(a,s){for(var l=a.nodeSize,u=0;o[u];)u+=1;o[u]={offset:e+i+s+2,nodeSize:l},o.length+=1}),t.push(o)}),t};function Tne(r,e){return sl(xe.prototype,r),Js=e,xe}function Ene(r,e,t){for(var n=t.startRowIdx,i=t.startColIdx,o=t.endRowIdx,a=t.endColIdx,s=[],l=n;l<=o;l+=1)for(var u=i;u<=a;u+=1){var c=e.getCellInfo(l,u),f=c.offset,d=c.nodeSize;s.push(new qt(r.resolve(f+1),r.resolve(f+d-1)))}return s}function Sne(r,e){var t=[];return r.childCount&&t.push(r),e.childCount&&t.push(e),M.from(t)}var Ol=(function(r){D(e,r);function e(t,n){n===void 0&&(n=t);var i=this,o=t.node(0),a=xe.create(t),s=a.getRectOffsets(t,n),l=Ene(o,a,s);return i=r.call(this,l[0].$from,l[0].$to,l)||this,i.startCell=t,i.endCell=n,i.offsetMap=a,i.isCellSelection=!0,i.visible=!1,i}return e.prototype.map=function(t,n){var i=this.startCell.pos,o=this.endCell.pos,a=t.resolve(n.map(i)),s=t.resolve(n.map(o)),l=xe.create(a);if(this.offsetMap.totalColumnCount>l.totalColumnCount||this.offsetMap.totalRowCount>l.totalRowCount){var u={tableBody:1,tableRow:2,tableCell:3,paragraph:4},c=u[s.parent.type.name],f=s.end(s.depth-c),d=Math.min(f-4,s.pos);return G.create(t,d)}return new e(a,s)},e.prototype.eq=function(t){return t instanceof e&&t.startCell.pos===this.startCell.pos&&t.endCell.pos===this.endCell.pos},e.prototype.content=function(){for(var t=this.startCell.node(-2),n=this.startCell.start(-2),i=t.child(1).firstChild,o=t.child(0).type.create(),a=t.child(1).type.create(),s=xe.create(this.startCell),l=s.getRectOffsets(this.startCell,this.endCell),u=l.startRowIdx,c=l.startColIdx,f=l.endRowIdx,d=l.endColIdx,p=!1,h=u;h<=f;h+=1){for(var v=[],m=c;m<=d;m+=1){var g=s.getCellInfo(h,m).offset,w=t.nodeAt(g-n);w&&(p=w.type.name==="tableHeadCell",s.extendedRowspan(h,m)||s.extendedColspan(h,m)?v.push(w.type.create({extended:!0})):v.push(w.copy(w.content)))}var y=i.copy(M.from(v)),x=p?o:a;x.content=x.content.append(M.from(y))}return new L(Sne(o,a),1,1)},e.prototype.toJSON=function(){return JSON.stringify(this)},e})(V);function Mne(r,e,t){for(var n=e.nodes,i=n.tableRow,o=n.tableHeadCell,a=n.paragraph,s=[],l=0;l<r;l+=1){var u=t&&t[l],c=a.create(null,u?e.text(u):[]);s.push(o.create(null,c))}return[i.create(null,s)]}function nv(r,e,t,n){for(var i=t.nodes,o=i.tableRow,a=i.tableBodyCell,s=i.paragraph,l=[],u=0;u<r;u+=1){for(var c=[],f=0;f<e;f+=1){var d=n&&n[u*e+f],p=s.create(null,d?t.text(d):[]);c.push(a.create(null,p))}l.push(o.create(null,c))}return l}function ro(r,e,t,n){n===void 0&&(n=null);for(var i=t.nodes,o=i.tableHeadCell,a=i.tableBodyCell,s=i.paragraph,l=e===0?o:a,u=[],c=0;c<r;c+=1)u.push(l.create(n,s.create()));return u}function iv(r,e){for(;r&&r!==e;){if(r.nodeName==="TD"||r.nodeName==="TH")return r;r=r.parentNode}return null}function ov(r){return Dt(r,function(e){var t=e.type;return t.name==="tableHeadCell"||t.name==="tableBodyCell"})}function ht(r){if(r instanceof G){var e=r.$anchor,t=ov(e);if(t){var n=e.node(0).resolve(e.before(t.depth));return{anchor:n,head:n}}}var i=r,o=i.startCell,a=i.endCell;return{anchor:o,head:a}}function av(r){var e;if(r.size){var t=r.content,n=r.openStart,i=r.openEnd;if(t.childCount!==1)return null;for(;t.childCount===1&&(n>0&&i>0||((e=t.firstChild)===null||e===void 0?void 0:e.type.name)==="table");)n-=1,i-=1,t=t.firstChild.content;if(t.firstChild.type.name==="tableHead"||t.firstChild.type.name==="tableBody")return t}return null}function sn(r){var e=r.startRowIdx,t=r.startColIdx,n=r.endRowIdx,i=r.endColIdx,o=n-e+1,a=i-t+1;return{rowCount:o,columnCount:a}}function One(r,e){return k(k({},r.attrs),e)}var Xt=new xt("cellSelection"),Lne=2,Ane=(function(){function r(e){this.view=e,this.handlers={mousedown:this.handleMousedown.bind(this),mousemove:this.handleMousemove.bind(this),mouseup:this.handleMouseup.bind(this)},this.startCellPos=null,this.init()}return r.prototype.init=function(){this.view.dom.addEventListener("mousedown",this.handlers.mousedown)},r.prototype.handleMousedown=function(e){var t=iv(e.target,this.view.dom);if(e.button===Lne){e.preventDefault();return}if(t){var n=this.getCellPos(e);n&&(this.startCellPos=n),this.bindEvent()}},r.prototype.handleMousemove=function(e){var t=Xt.getState(this.view.state),n=this.getCellPos(e),i=this.startCellPos,o;t?o=this.view.state.doc.resolve(t):i!==n&&(o=i),o&&i&&n&&this.setCellSelection(i,n)},r.prototype.handleMouseup=function(){this.startCellPos=null,this.unbindEvent(),Xt.getState(this.view.state)!==null&&this.view.dispatch(this.view.state.tr.setMeta(Xt,-1))},r.prototype.bindEvent=function(){var e=this.view.dom;e.addEventListener("mousemove",this.handlers.mousemove),e.addEventListener("mouseup",this.handlers.mouseup)},r.prototype.unbindEvent=function(){var e=this.view.dom;e.removeEventListener("mousemove",this.handlers.mousemove),e.removeEventListener("mouseup",this.handlers.mouseup)},r.prototype.getCellPos=function(e){var t=e.clientX,n=e.clientY,i=this.view.posAtCoords({left:t,top:n});if(i){var o=this.view.state.doc,a=o.resolve(i.pos),s=ov(a);if(s){var l=a.before(s.depth);return o.resolve(l)}}return null},r.prototype.setCellSelection=function(e,t){var n=this.view.state,i=n.selection,o=n.tr,a=Xt.getState(this.view.state)===null,s=new Ol(e,t);if(a||!i.eq(s)){var l=o.setSelection(s);a&&l.setMeta(Xt,t.pos),this.view.dispatch(l)}},r.prototype.destroy=function(){this.view.dom.removeEventListener("mousedown",this.handlers.mousedown)},r})(),Dne=N("cell-selected");function Nne(r){var e=r.selection,t=r.doc;if(e instanceof Ol){var n=[],i=e.ranges;return i.forEach(function(o){var a=o.$from,s=o.$to;n.push(Qe.node(a.pos-1,s.pos+1,{class:Dne}))}),Ne.create(t,n)}return null}function Ine(){return new ae({key:Xt,state:{init:function(){return null},apply:function(r,e){var t=r.getMeta(Xt);if(t)return t===-1?null:t;if(ao(e)||!r.docChanged)return e;var n=r.mapping.mapResult(e),i=n.deleted,o=n.pos;return i?null:o}},props:{decorations:Nne,createSelectionBetween:function(r){var e=r.state;return ao(Xt.getState(e))?null:e.selection}},view:function(r){return new Ane(r)}})}var sv=(function(){function r(){this.keys=[],this.values=[]}return r.prototype.getKeyIndex=function(e){return Er(e,this.keys)},r.prototype.get=function(e){return this.values[this.getKeyIndex(e)]},r.prototype.set=function(e,t){var n=this.getKeyIndex(e);return n>-1?this.values[n]=t:(this.keys.push(e),this.values.push(t)),this},r.prototype.has=function(e){return this.getKeyIndex(e)>-1},r.prototype.delete=function(e){var t=this.getKeyIndex(e);return t>-1?(this.keys.splice(t,1),this.values.splice(t,1),!0):!1},r.prototype.forEach=function(e,t){var n=this;t===void 0&&(t=this),this.values.forEach(function(i,o){i&&n.keys[o]&&e.call(t,i,n.keys[o],n)})},r.prototype.clear=function(){this.keys=[],this.values=[]},r})(),Ss="en-US",Rne=(function(){function r(){this.code=Ss,this.langs=new sv}return r.prototype.setCode=function(e){this.code=e||Ss},r.prototype.setLanguage=function(e,t){var n=this;e=[].concat(e),e.forEach(function(i){if(!n.langs.has(i))n.langs.set(i,t);else{var o=n.langs.get(i);n.langs.set(i,tl(o,t))}})},r.prototype.get=function(e,t){t||(t=this.code);var n=this.langs.get(t);n||(n=this.langs.get(Ss));var i=n[e];if(!i)throw new Error('There is no text key "'+e+'" in '+t);return i},r})(),z=new Rne,Pne=[[{action:"Add row to up",command:"addRowToUp",disableInThead:!0,className:"add-row-up"},{action:"Add row to down",command:"addRowToDown",disableInThead:!0,className:"add-row-down"},{action:"Remove row",command:"removeRow",disableInThead:!0,className:"remove-row"}],[{action:"Add column to left",command:"addColumnToLeft",className:"add-column-left"},{action:"Add column to right",command:"addColumnToRight",className:"add-column-right"},{action:"Remove column",command:"removeColumn",className:"remove-column"}],[{action:"Align column to left",command:"alignColumn",payload:{align:"left"},className:"align-column-left"},{action:"Align column to center",command:"alignColumn",payload:{align:"center"},className:"align-column-center"},{action:"Align column to right",command:"alignColumn",payload:{align:"right"},className:"align-column-right"}],[{action:"Remove table",command:"removeTable",className:"remove-table"}]];function Bne(r,e){return Pne.map(function(t){return t.map(function(n){var i=n.action,o=n.command,a=n.payload,s=n.disableInThead,l=n.className;return{label:z.get(i),onClick:function(){r.emit("command",o,a)},disabled:e&&!!s,className:l}})}).concat()}function Hne(r){return new ae({props:{handleDOMEvents:{contextmenu:function(e,t){var n=iv(t.target,e.dom);if(n){t.preventDefault();var i=t,o=i.clientX,a=i.clientY,s=e.dom.parentNode.getBoundingClientRect(),l=s.left,u=s.top,c=n.nodeName==="TH";return r.emit("contextmenu",{pos:{left:o-l+10+"px",top:a-u+30+"px"},menuGroups:Bne(r,c),tableCell:n}),!0}return!1}}}})}function Fne(){return new ae({props:{handleDOMEvents:{mousedown:function(r,e){var t=e,n=t.clientX,i=t.clientY,o=r.posAtCoords({left:n,top:i});if(o){var a=r.state,s=a.doc,l=a.tr,u=s.resolve(o.pos),c=mn(u),f=e.target,d=getComputedStyle(f,":before"),p=e,h=p.offsetX,v=p.offsetY;if(!c||!cl(d,h,v))return!1;e.preventDefault();var m=u.before(c.depth),g=c.node.attrs;return l.setNodeMarkup(m,null,k(k({},g),{checked:!g.checked})),r.dispatch(l),!0}return!1}}}})}var $ne=["image","link","customBlock","frontMatter"],zne=["strong","strike","emph","code"],lv=["bulletList","orderedList","taskList"];function qne(r,e){var t=r.type.name;return t==="listItem"?r.attrs.task?"taskList":e.type.name:t.indexOf("table")!==-1?"table":t}function Vne(r,e){e[r]={active:!0},lv.filter(function(t){return t!==r}).forEach(function(t){e[t]&&delete e[t]})}function Une(r,e,t,n){zne.forEach(function(i){var o=t.marks[i],a=r.marksAcross(e)||[],s=!!o.isInSet(a);s&&(n[i]={active:!0})})}function _ne(r,e,t){var n=r.$from,i=r.$to,o=r.from,a=r.to,s={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}};return e.nodesBetween(o,a,function(l,u,c){var f=qne(l,c);Ee($ne,f)||(Ee(lv,f)?(Vne(f,s),s.indent.disabled=!1,s.outdent.disabled=!1):f==="paragraph"||f==="text"?Une(n,i,t,s):s[f]={active:!0})}),s}function jne(r){return new ae({view:function(){return{update:function(e){var t=e.state,n=t.selection,i=t.doc,o=t.schema;r.emit("changeToolbarState",{toolbarState:_ne(n,i,o)})}}}})}var Wne=(function(){function r(e,t,n,i){var o=this;this.openEditor=function(){if(o.innerEditorView)throw new Error("The editor is already opened.");o.dom.draggable=!1,o.wrapper.style.display="none",o.innerViewContainer.style.display="block",o.innerEditorView=new gr(o.innerViewContainer,{state:Pn.create({doc:o.node,plugins:[Yr({"Mod-z":function(){return en(o.innerEditorView.state,o.innerEditorView.dispatch)},"Shift-Mod-z":function(){return qi(o.innerEditorView.state,o.innerEditorView.dispatch)},Tab:function(a,s){return s(a.tr.insertText("	")),!0},Enter:Ya,Escape:function(){return o.cancelEditing(),!0},"Ctrl-Enter":function(){return o.saveAndFinishEditing(),!0}}),as()]}),dispatchTransaction:function(a){return o.dispatchInner(a)},handleDOMEvents:{mousedown:function(){return o.editorView.hasFocus()&&o.innerEditorView.focus(),!0},blur:function(){return o.saveAndFinishEditing(),!0}}}),o.innerEditorView.focus()},this.node=e,this.editorView=t,this.getPos=n,this.toDOMAdaptor=i,this.innerEditorView=null,this.canceled=!1,this.dom=document.createElement("div"),this.dom.className=N("custom-block"),this.wrapper=document.createElement("div"),this.wrapper.className=N("custom-block-view"),this.createInnerViewContainer(),this.renderCustomBlock(),this.dom.appendChild(this.innerViewContainer),this.dom.appendChild(this.wrapper)}return r.prototype.renderToolArea=function(){var e=this,t=document.createElement("div"),n=document.createElement("span"),i=document.createElement("button");t.className="tool",n.textContent=this.node.attrs.info,n.className="info",i.type="button",i.addEventListener("click",function(){return e.openEditor()}),t.appendChild(n),t.appendChild(i),this.wrapper.appendChild(t)},r.prototype.renderCustomBlock=function(){var e=this.toDOMAdaptor.getToDOMNode(this.node.attrs.info);if(e){for(var t=e(this.node);this.wrapper.hasChildNodes();)this.wrapper.removeChild(this.wrapper.lastChild);t&&this.wrapper.appendChild(t),this.renderToolArea()}},r.prototype.createInnerViewContainer=function(){this.innerViewContainer=document.createElement("div"),this.innerViewContainer.className=N("custom-block-editor"),this.innerViewContainer.style.display="none"},r.prototype.closeEditor=function(){this.innerEditorView&&(this.innerEditorView.destroy(),this.innerEditorView=null,this.innerViewContainer.style.display="none"),this.wrapper.style.display="block"},r.prototype.saveAndFinishEditing=function(){var e=this.editorView.state.selection.to,t=this.editorView.state;this.editorView.dispatch(t.tr.setSelection(re(t.tr,e))),this.editorView.focus(),this.renderCustomBlock(),this.closeEditor()},r.prototype.cancelEditing=function(){var e=yf(this.innerEditorView.state);for(this.canceled=!0;e--;)en(this.innerEditorView.state,this.innerEditorView.dispatch),en(this.editorView.state,this.editorView.dispatch);this.canceled=!1;var t=this.editorView.state.selection.to,n=this.editorView.state;this.editorView.dispatch(n.tr.setSelection(G.create(n.doc,t))),this.editorView.focus(),this.closeEditor()},r.prototype.dispatchInner=function(e){var t=this.innerEditorView.state.applyTransaction(e),n=t.state,i=t.transactions;if(this.innerEditorView.updateState(n),!this.canceled&&Ze(this.getPos)){for(var o=this.editorView.state.tr,a=tt.offset(this.getPos()+1),s=0;s<i.length;s+=1)for(var l=i[s].steps,u=0;u<l.length;u+=1)o.step(l[u].map(a));o.docChanged&&this.editorView.dispatch(o)}},r.prototype.update=function(e){return e.sameMarkup(this.node)?(this.node=e,this.innerEditorView||this.renderCustomBlock(),!0):!1},r.prototype.stopEvent=function(e){return!!this.innerEditorView&&!!e.target&&this.innerEditorView.dom.contains(e.target)},r.prototype.ignoreMutation=function(){return!0},r.prototype.destroy=function(){this.dom.removeEventListener("dblclick",this.openEditor),this.closeEditor()},r})(),Od="image-link",Gne=(function(){function r(e,t,n,i){var o=this,a;this.handleMousedown=function(s){s.preventDefault();var l=s.target,u=s.offsetX,c=s.offsetY;if(o.imageLink&&Ze(o.getPos)&&Vp(l,Od)){var f=getComputedStyle(l,":before");if(s.stopPropagation(),cl(f,u,c)){var d=o.view.state.tr,p=o.getPos();d.setSelection(re(d,p,p+1)),o.view.dispatch(d),o.eventEmitter.emit("openPopup","link",o.imageLink.attrs)}}},this.node=e,this.view=t,this.getPos=n,this.eventEmitter=i,this.imageLink=(a=e.marks.filter(function(s){var l=s.type;return l.name==="link"})[0])!==null&&a!==void 0?a:null,this.dom=this.createElement(),this.bindEvent()}return r.prototype.createElement=function(){var e=this.createImageElement(this.node);if(this.imageLink){var t=document.createElement("span");return t.className=Od,t.appendChild(e),t}return e},r.prototype.createImageElement=function(e){var t=document.createElement("img"),n=e.attrs,i=n.imageUrl,o=n.altText,a=le(e.attrs);return t.src=i,o&&(t.alt=o),pl(a,t),t},r.prototype.bindEvent=function(){this.imageLink&&this.dom.addEventListener("mousedown",this.handleMousedown)},r.prototype.stopEvent=function(){return!0},r.prototype.destroy=function(){this.imageLink&&this.dom.removeEventListener("mousedown",this.handleMousedown)},r})(),Kne="toastui-editor-ww-code-block",Jne="toastui-editor-ww-code-block-language",Xne=(function(){function r(e,t,n,i){var o=this;this.contentDOM=null,this.input=null,this.timer=null,this.handleMousedown=function(a){var s=a.target,l=getComputedStyle(s,":after");if(l.backgroundImage!=="none"&&Ze(o.getPos)){var u=o.view.coordsAtPos(o.getPos()),c=u.top,f=u.right;o.createLanguageEditor({top:c,right:f})}},this.handleKeydown=function(a){a.key==="Enter"&&o.input&&(a.preventDefault(),o.changeLanguage())},this.node=e,this.view=t,this.getPos=n,this.eventEmitter=i,this.createElement(),this.bindDOMEvent(),this.bindEvent()}return r.prototype.createElement=function(){var e=this.node.attrs.language,t=document.createElement("div");t.setAttribute("data-language",e||"text"),t.className=Kne;var n=this.createCodeBlockElement(),i=n.firstChild;t.appendChild(n),this.dom=t,this.contentDOM=i},r.prototype.createCodeBlockElement=function(){var e=document.createElement("pre"),t=document.createElement("code"),n=this.node.attrs.language,i=le(this.node.attrs);return n&&t.setAttribute("data-language",n),pl(i,e),e.appendChild(t),e},r.prototype.createLanguageEditor=function(e){var t=this,n=e.top,i=e.right,o=document.createElement("span");o.className=Jne;var a=document.createElement("input");a.type="text",a.value=this.node.attrs.language,o.appendChild(a),this.view.dom.parentElement.appendChild(o);var s=o.clientWidth;gt(o,{top:n+10+"px",left:i-s-10+"px",width:s+"px"}),this.input=a,this.input.addEventListener("blur",function(){return t.changeLanguage()}),this.input.addEventListener("keydown",this.handleKeydown),this.clearTimer(),this.timer=setTimeout(function(){t.input.focus()})},r.prototype.bindDOMEvent=function(){this.dom&&this.dom.addEventListener("click",this.handleMousedown)},r.prototype.bindEvent=function(){var e=this;this.eventEmitter.listen("scroll",function(){e.input&&e.reset()})},r.prototype.changeLanguage=function(){if(this.input&&Ze(this.getPos)){var e=this.input.value;this.reset();var t=this.getPos(),n=this.view.state.tr;n.setNodeMarkup(t,null,{language:e}),this.view.dispatch(n)}},r.prototype.reset=function(){var e;if(!((e=this.input)===null||e===void 0)&&e.parentElement){var t=this.input.parentElement;this.input=null,Mr(t)}},r.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},r.prototype.stopEvent=function(){return!0},r.prototype.update=function(e){return e.sameMarkup(this.node)?(this.node=e,!0):!1},r.prototype.destroy=function(){this.reset(),this.clearTimer(),this.dom&&this.dom.removeEventListener("click",this.handleMousedown)},r})(),Yne=/MsoListParagraph/,uv=/style=(.|\n)*mso-/,cv=/mso-list:(.*)/,Qne=/O:P/,Zne=/^(n|u|l)/,eie="p.MsoListParagraph";function tie(r){return uv.test(r)}function rie(r){for(var e=[],t=document.createTreeWalker(r,1,null,!1);t.nextNode();){var n=t.currentNode;if(Lo(n)){var i=n,o=i.outerHTML,a=i.textContent,s=uv.test(o),l=cv.test(o);s&&!l&&a?e.push([n,!0]):(Qne.test(n.nodeName)||s&&!a||l)&&e.push([n,!1])}}return e.forEach(function(u){var c=u[0],f=u[1];f?kw(c):Mr(c)}),r.innerHTML.trim()}function nie(r,e){var t=r.getAttribute("style");if(t){var n=t.match(cv),i=n[1],o=i.trim().split(" "),a=o[1],s=parseInt(a.replace("level",""),10),l=Zne.test(r.textContent||"");return{id:e,level:s,prev:null,parent:null,children:[],unordered:l,contents:rie(r)}}return null}function iie(r,e){if(e.level<r.level)e.children.push(r),r.parent=e;else{for(;e&&e.level!==r.level;)e=e.parent;e&&(r.prev=e,r.parent=e.parent,r.parent&&r.parent.children.push(r))}}function oie(r){var e=[];return r.forEach(function(t,n){var i=e[n-1],o=nie(t,n);o&&(i&&iie(o,i),e.push(o))}),e}function fv(r){var e=r[0].unordered?"ul":"ol",t=document.createElement(e);return r.forEach(function(n){var i=n.children,o=n.contents,a=document.createElement("li");a.innerHTML=o,t.appendChild(a),i.length&&t.appendChild(fv(i))}),t}function aie(r){var e=oie(r),t=e.filter(function(n){var i=n.parent;return!i});return fv(t)}function sie(r){for(;r&&!Lo(r);)r=r.nextSibling;return r?!Yne.test(r.className):!0}function lie(r){var e=document.createElement("div");e.innerHTML=r;var t=[],n=ww(e,eie);n.forEach(function(o){var a=sie(o.nextSibling);if(t.push(o),a){var s=aie(t),l=o.nextSibling;l?xw(s,l):Cw(e,s),t=[]}Mr(o)});var i=n.length?"<p></p>":"";return""+i+e.innerHTML}var Ld="<!--StartFragment-->",uie="<!--EndFragment-->";function cie(r){var e=r.indexOf(Ld),t=r.lastIndexOf(uie);return e>-1&&t>-1&&(r=r.slice(e+Ld.length,t)),r.replace(/<br[^>]*>/g,Gp)}function fie(r){return/<\/td>((?!<\/tr>)[\s\S])*$/i.test(r)&&(r="<tr>"+r+"</tr>"),/<\/tr>((?!<\/table>)[\s\S])*$/i.test(r)&&(r="<table>"+r+"</table>"),r}function die(r){return r=cie(r),r=fie(r),tie(r)&&(r=lie(r)),r}function pie(r){var e=r.reduce(function(t,n){return t.childCount>n.childCount?t:n});return e.childCount}function dv(r,e,t){for(var n=[],i=r.childCount,o=0;o<i;o+=1)if(!r.child(o).attrs.extended){var a=o<i?t.create(r.child(o).attrs,r.child(o).content):t.createAndFill();n.push(a)}return n}function pv(r,e,t){var n=t.nodes,i=n.tableRow,o=n.tableHeadCell,a=dv(r,e,o);return i.create(null,a)}function hv(r,e,t){var n=t.nodes,i=n.tableRow,o=n.tableBodyCell,a=dv(r,e,o);return i.create(null,a)}function hie(r,e){for(var t=e.nodes,n=t.tableRow,i=t.tableBodyCell,o=[],a=0;a<r;a+=1){var s=i.createAndFill();o.push(s)}return n.create({dummyRowForPasting:!0},o)}function vv(r){var e=[],t=[];if(r.firstChild.type.name==="tableHead"){var n=r.firstChild;n.forEach(function(o){return e.push(o)})}if(r.lastChild.type.name==="tableBody"){var i=r.lastChild;i.forEach(function(o){return t.push(o)})}return Ve(Ve([],e),t)}function vie(r,e,t){var n=pv(r,e,t);return t.nodes.tableHead.create(null,n)}function Ad(r,e,t){var n=r.map(function(o){return hv(o,e,t)});if(!r.length){var i=hie(e,t);n.push(i)}return t.nodes.tableBody.create(null,n)}function mie(r,e,t,n){var i=pie(r);if(t&&n)return e.nodes.table.create(null,[Ad(r,i,e)]);var o=r[0],a=r.slice(1),s=[vie(o,i,e)];return a.length&&s.push(Ad(a,i,e)),e.nodes.table.create(null,s)}function gie(r,e,t){var n=[],i=r.content,o=r.openStart,a=r.openEnd;return i.forEach(function(s){if(s.type.name==="table"){var l=av(new L(M.from(s),0,0));if(l){var u=vv(l),c=l.firstChild.type.name==="tableBody",f=mie(u,e,c,t);n.push(f)}}else n.push(s)}),new L(M.from(n),o,a)}var yie=4,bie=2;function no(r){return r*yie}function wie(r,e,t){var n=[],i=vv(r),o=i[0].childCount,a=i.length,s=e.startRowIdx===0,l=i.slice(0,a);if(s){var u=l.shift();if(u){var c=pv(u,o,t).content;n.push(c)}}return l.forEach(function(f){if(!f.attrs.dummyRowForPasting){var d=hv(f,o,t).content;n.push(d)}}),n}function Cie(r,e,t){for(var n=e.startRowIdx,i=e.startColIdx,o=t.length,a=0,s=function(p){var h=t[p].childCount;t[p].forEach(function(v){var m=v.attrs,g=m.colspan;g>1&&(h+=g-1)}),a=Math.max(a,h)},l=0;l<o;l+=1)s(l);var u=n+o-1,c=i+a-1,f=Math.max(u+1-r.totalRowCount,0),d=Math.max(c+1-r.totalColumnCount,0);return{startRowIdx:n,startColIdx:i,endRowIdx:u,endColIdx:c,addedRowCount:f,addedColumnCount:d}}function xie(r,e){for(var t=r.startRowIdx,n=r.startColIdx,i=r.endRowIdx,o=r.endColIdx,a=r.addedRowCount,s=r.addedColumnCount,l=t;l<=i-a;l+=1)e.push({rowIdx:l,startColIdx:n,endColIdx:o-s})}function kie(r,e,t,n,i){for(var o=n.startRowIdx,a=n.startColIdx,s=n.endRowIdx,l=n.endColIdx,u=n.addedRowCount,c=n.addedColumnCount,f=t.totalRowCount,d=0,p=0;p<f;p+=1){var h=t.getCellInfo(p,l-c),v=h.offset,m=h.nodeSize,g=r.mapping.map(v+m),w=ro(c,p,e);if(r.insert(g,w),p>=o&&p<=s-u){var y=t.getCellInfo(p,l-c),x=r.mapping.map(y.offset),b=g+no(c);i[d]={rowIdx:p,startColIdx:a,endColIdx:l,dummyOffsets:[x,b]},d+=1}}}function Tie(r,e,t,n,i){var o=n.addedRowCount,a=n.addedColumnCount,s=n.startColIdx,l=n.endColIdx,u=r.mapping.maps.length,c=t.tableEndOffset-2,f=nv(o,t.totalColumnCount+a,e),d=c;r.insert(r.mapping.slice(u).map(d),f);for(var p=0;p<o;p+=1){var h=d+no(s)+1,v=d+no(l+1)+1,m=d+no(t.totalColumnCount+a)+bie;i.push({rowIdx:p+t.totalRowCount,startColIdx:s,endColIdx:l,dummyOffsets:[h,v]}),d=m}}function Eie(r,e,t,n){var i=r.mapping.maps.length;t.forEach(function(o,a){var s=o.rowIdx,l=o.startColIdx,u=o.endColIdx,c=o.dummyOffsets,f=r.mapping.slice(i),d=new L(e[a],0,0),p=c?c[0]:n.getCellStartOffset(s,l),h=c?c[1]:n.getCellEndOffset(s,u);r.replace(f.map(p),f.map(h),d)})}function Sie(r,e){var t=r.state,n=t.selection,i=t.schema,o=t.tr,a=ht(n),s=a.anchor,l=a.head;if(s&&l){var u=av(e);if(!u)return!1;var c=xe.create(s),f=c.getRectOffsets(s,l),d=wie(u,f,i),p=Cie(c,f,d),h=[];return Oie(c,p)&&(xie(p,h),p.addedColumnCount&&kie(o,i,c,p,h),p.addedRowCount&&Tie(o,i,c,p,h),Eie(o,d,h,c),r.dispatch(o),Mie(r,h,c.getCellInfo(0,0).offset)),!0}return!1}function Mie(r,e,t){var n=r.state,i=n.tr,o=n.doc,a=xe.create(o.resolve(t)),s=e[0],l=s.rowIdx,u=s.startColIdx,c=Re(e),f=c.rowIdx,d=c.endColIdx,p=a.getCellInfo(l,u).offset,h=a.getCellInfo(f,d).offset;r.dispatch(i.setSelection(new Ol(o.resolve(p),o.resolve(h))))}function Oie(r,e){var t=r.getSpannedOffsets(e),n=sn(t),i=n.rowCount,o=n.columnCount,a=sn(e),s=a.rowCount,l=a.columnCount;return i===s&&o===l}var Lie=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e})(te),Aie=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",group:"block",attrs:k({},ye()),parseDOM:[{tag:"p"}],toDOM:function(t){var n=t.attrs;return["p",le(n),0]}}},enumerable:!1,configurable:!0}),e})(te),Die=/\s{1,4}$/,Nie=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e.prototype.addSpaces=function(){return function(t,n){var i=t.selection,o=t.tr,a=i.$from,s=i.$to,l=a.blockRange(s);return l&&!vn(a)&&!Co(a)?(n(o.insertText("    ",a.pos,s.pos)),!0):!1}},e.prototype.removeSpaces=function(){return function(t,n){var i=t.selection,o=t.tr,a=i.$from,s=i.$to,l=i.from,u=a.blockRange(s);if(u&&!vn(a)&&!Co(a)){var c=a.nodeBefore;if(c&&c.isText){var f=c.text,d=f.replace(Die,""),p=f.length-d.length;return n(o.delete(l-p,l)),!0}}return!1}},e.prototype.keymaps=function(){return{Tab:this.addSpaces(),"Shift-Tab":this.removeSpaces()}},e})(te),Iie=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"levels",{get:function(){return[1,2,3,4,5,6]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=this.levels.map(function(n){return{tag:"h"+n,getAttrs:function(i){var o=i.getAttribute("data-raw-html");return k({level:n},o&&{rawHTML:o})}}});return{attrs:k({level:{default:1},headingType:{default:"atx"},rawHTML:{default:null}},ye()),content:"inline*",group:"block",defining:!0,parseDOM:t,toDOM:function(n){var i=n.attrs;return["h"+i.level,le(i),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(n,i){var o=n.schema.nodes[t.level?"heading":"paragraph"];return Hi(o,t)(n,i)}}},e})(te),Rie=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:k({language:{default:null},rawHTML:{default:null}},ye()),code:!0,defining:!0,marks:"",parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function(t){var n=t.getAttribute("data-raw-html"),i=t.firstElementChild;return k({language:i?.getAttribute("data-language")||null},n&&{rawHTML:n})}}],toDOM:function(t){var n=t.attrs;return[n.rawHTML||"pre",["code",k({"data-language":n.language},le(n)),0]]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return Hi(t.schema.nodes.codeBlock)(t,n)}}},e.prototype.moveCursor=function(t){var n=this;return function(i,o){var a=i.tr,s=i.doc,l=i.schema,u=i.selection.$from,c=n.context.view;if(c.endOfTextblock(t)&&u.node().type.name==="codeBlock"){var f=u.parent.textContent.split(`
`),d=t==="up"?u.start():u.end(),p=t==="up"?[d,f[0].length+d]:[d-Re(f).length,d],h=s.resolve(t==="up"?u.before():u.after()),v=t==="up"?h.nodeBefore:h.nodeAfter;if(Vb(u.pos,p[0],p[1])&&!v){var m=ll(a,h,l);if(m)return o(m),!0}}return!1}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-p":t,"Shift-Mod-P":t,ArrowUp:this.moveCursor("up"),ArrowDown:this.moveCursor("down")}},e})(te),Pie=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"bulletList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:k({rawHTML:{default:null}},ye()),parseDOM:[Bo("ul")],toDOM:function(t){var n=t.attrs;return["ul",le(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.changeList=function(){return function(t,n){return rv(t.schema.nodes.bulletList)(t,n)}},e.prototype.commands=function(){return{bulletList:this.changeList,taskList:mne}},e.prototype.keymaps=function(){var t=this.changeList(),n=Ml(),i=n.indent,o=n.outdent;return{"Mod-u":t,"Mod-U":t,Tab:i(),"Shift-Tab":o()}},e})(te),Bie=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"orderedList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:k({order:{default:1},rawHTML:{default:null}},ye()),parseDOM:[{tag:"ol",getAttrs:function(t){var n=t.getAttribute("start"),i=t.getAttribute("data-raw-html");return k({order:t.hasAttribute("start")?Number(n):1},i&&{rawHTML:i})}}],toDOM:function(t){var n=t.attrs;return[n.rawHTML||"ol",k({start:n.order===1?null:n.order},le(n)),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return rv(t.schema.nodes.orderedList)(t,n)}}},e.prototype.keymaps=function(){var t=this.commands()(),n=Ml(),i=n.indent,o=n.outdent;return{"Mod-o":t,"Mod-O":t,Tab:i(),"Shift-Tab":o()}},e})(te),Hie=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph block*",selectable:!1,attrs:{task:{default:!1},checked:{default:!1},rawHTML:{default:null}},defining:!0,parseDOM:[{tag:"li",getAttrs:function(t){var n=t.getAttribute("data-raw-html");return k({task:t.hasAttribute("data-task"),checked:t.hasAttribute("data-task-checked")},n&&{rawHTML:n})}}],toDOM:function(t){var n=t.attrs,i=n.task,o=n.checked;if(!i)return[n.rawHTML||"li",0];var a=["task-list-item"];return o&&a.push("checked"),[n.rawHTML||"li",k({class:a.join(" "),"data-task":i},o&&{"data-task-checked":o}),0]}}},enumerable:!1,configurable:!0}),e.prototype.liftToPrevListItem=function(){return function(t,n){var i=t.selection,o=t.tr,a=t.schema,s=i.$from,l=i.empty,u=a.nodes.listItem,c=s.parent,f=s.node(-1);if(l&&!c.childCount&&f.type===u){if(s.index(-2)>=1)return o.delete(s.start(-1)-1,s.end(-1)),n(o),!0;var d=s.node(-3);if(d.type===u)return o.delete(s.start(-2)-1,s.end(-1)),n(o),!0}return!1}},e.prototype.keymaps=function(){var t=function(n,i){return Cne(n.schema.nodes.listItem)(n,i)};return{Backspace:this.liftToPrevListItem(),Enter:t}},e})(te),Fie=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:k({rawHTML:{default:null}},ye()),content:"block+",group:"block",parseDOM:[Bo("blockquote")],toDOM:function(t){var n=t.attrs;return["blockquote",le(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return ff(t.schema.nodes.blockQuote)(t,n)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Alt-q":t,"Alt-Q":t}},e})(te),$ie={left:Gie,right:Wie,up:Kie,down:Jie};function zie(r,e,t){var n=t[0],i=t[1],o=e.resolve(r.before(n-1));return i===n&&!o.nodeBefore}function qie(r){for(var e,t=r.depth,n;t&&(n=r.node(t),n.type.name!=="tableBodyCell");){if(n.type.name==="listItem"){var i=r.node(t-1),o=i.lastChild===n,a=((e=n.lastChild)===null||e===void 0?void 0:e.type.name)!=="paragraph";return o?!a:!1}t-=1}return!1}function Vie(r,e,t,n,i){var o=e[0],a=e[1],s=e[2];if(r==="left"||r==="up"){if(i&&!zie(t,n,[o,a]))return!1;var l=t.before(s),u=n.resolve(l).nodeBefore;if(u)return!1}return!0}function Uie(r,e,t,n,i){if(r==="right"||r==="down"){if(i&&!qie(t))return!1;var o=t.after(e),a=n.resolve(o).nodeAfter;if(a)return!1}return!0}function _ie(r,e,t,n){var i=e[0],o=e[1],a=i+3,s=o>=a,l=s?i+1:o,u=Vie(r,[o,a,l],t,n,s),c=Uie(r,l,t,n,s);return u&&c}function Dd(r,e,t){var n=t[0],i=t[1],o=e.getRowspanStartInfo(n,i),a=r==="up"&&n===0,s=r==="down"&&(o?.count>1?n+o.count-1:n)===e.totalRowCount-1;return a||s}function jie(r,e,t){var n=r.doc.resolve(e.tableStartOffset-1);return n.nodeBefore?r.setSelection(V.near(n,-1)):ll(r,n,t)}function Ms(r,e,t,n){n===void 0&&(n=!1);var i=r.doc.resolve(e.tableEndOffset);return n||!i.nodeAfter?ll(r,i,t):r.setSelection(V.near(i,1))}function Wie(r,e){var t=r[0],n=r[1],i=e.totalRowCount,o=e.totalColumnCount,a=n===o-1,s=t===i-1&&a;if(!s){var l=n+1,u=e.getColspanStartInfo(t,n);u?.count>1&&(l+=u.count-1),(a||l===o)&&(t+=1,l=0);var c=e.getCellInfo(t,l).offset;return c+2}return null}function Gie(r,e){var t=r[0],n=r[1],i=e.totalColumnCount,o=n===0,a=t===0&&o;if(!a){n-=1,o&&(t-=1,n=i-1);var s=e.getCellInfo(t,n),l=s.offset,u=s.nodeSize;return l+u-2}return null}function Kie(r,e){var t=r[0],n=r[1];if(t>0){var i=e.getCellInfo(t-1,n),o=i.offset,a=i.nodeSize;return o+a-2}return null}function Jie(r,e){var t=r[0],n=r[1],i=e.totalRowCount;if(t<i-1){var o=t+1,a=e.getRowspanStartInfo(t,n);a?.count>1&&(o+=a.count-1);var s=e.getCellInfo(o,n).offset;return s+2}return null}function Nd(r,e,t,n){var i=$ie[r],o=i(t,n);if(o){var a=r==="right"||r==="down"?1:-1;return e.setSelection(V.near(e.doc.resolve(o),a))}return null}function Xie(r,e,t){var n=t[0],i=t[1];if(r==="up"||r==="down")return!1;var o=e.tableStartOffset,a=e.tableEndOffset,s=e.getCellInfo(n,i),l=s.offset,u=s.nodeSize,c=r==="left"?o:a,f=r==="left"?l-2:l+u+3;return c===f}function Yie(r,e,t){var n=r.doc.resolve(e.before(t-3));return r.setSelection(new $(n))}function Qie(r,e,t){var n,i,o;return r==="up"?(n=t.startRowIdx,i=0,o=-1):(n=t.endRowIdx,i=e.totalColumnCount-1,o=e.getCellInfo(n,i).nodeSize+1),{targetRowIdx:n,insertColIdx:i,nodeSize:o}}function Zie(r,e,t){var n=r.getCellInfo(e,0).offset,i=r.getCellInfo(e,t-1),o=i.offset,a=i.nodeSize;return{from:n,to:o+a}}var eoe=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableHead{1} tableBody{1}",group:"block",attrs:k({rawHTML:{default:null}},ye()),parseDOM:[Bo("table")],toDOM:function(t){var n=t.attrs;return["table",le(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.addTable=function(){return function(t){return t===void 0&&(t={rowCount:2,columnCount:1,data:[]}),function(n,i){var o=t.rowCount,a=t.columnCount,s=t.data,l=n.schema,u=n.selection,c=n.tr,f=u.from,d=u.to,p=u.$from,h=f===d;if(h&&!Co(p)){var v=l.nodes,m=v.tableHead,g=v.tableBody,w=s?.slice(0,a),y=s?.slice(a,s.length),x=Mne(a,l,w),b=nv(o-1,a,l,y),E=l.nodes.table.create(null,[m.create(null,x),g.create(null,b)]);return i(c.replaceSelectionWith(E)),!0}return!1}}},e.prototype.removeTable=function(){return function(){return function(t,n){var i=t.selection,o=t.tr,a=xe.create(i.$anchor);if(a){var s=a.tableStartOffset,l=a.tableEndOffset,u=s-1,c=re(o.delete(u,l),u);return n(o.setSelection(c)),!0}return!1}}},e.prototype.addColumn=function(t){return function(){return function(n,i){var o=n.selection,a=n.tr,s=n.schema,l=ht(o),u=l.anchor,c=l.head;if(u&&c){for(var f=xe.create(u),d=f.getRectOffsets(u,c),p=t==="left"?d.startColIdx:d.endColIdx+1,h=sn(d).columnCount,v=f.totalRowCount,m=0;m<v;m+=1){var g=ro(h,m,s);a.insert(a.mapping.map(f.posAt(m,p)),g)}return i(a),!0}return!1}}},e.prototype.removeColumn=function(){return function(){return function(t,n){var i=t.selection,o=t.tr,a=ht(i),s=a.anchor,l=a.head;if(s&&l){var u=xe.create(s),c=u.getRectOffsets(s,l),f=u.totalColumnCount,d=u.totalRowCount,p=sn(c).columnCount,h=p===f;if(h)return!1;for(var v=c.startColIdx,m=c.endColIdx,g=o.mapping.maps.length,w=0;w<d;w+=1)for(var y=m;y>=v;y-=1){var x=u.getCellInfo(w,y),b=x.offset,E=x.nodeSize,T=o.mapping.slice(g).map(b),S=T+E;o.delete(T,S)}return n(o),!0}return!1}}},e.prototype.addRow=function(t){return function(){return function(n,i){var o=n.selection,a=n.schema,s=n.tr,l=ht(o),u=l.anchor,c=l.head;if(u&&c){var f=xe.create(u),d=f.totalColumnCount,p=f.getRectOffsets(u,c),h=sn(p).rowCount,v=Qie(t,f,p),m=v.targetRowIdx,g=v.insertColIdx,w=v.nodeSize,y=m===0;if(!y){for(var x=[],b=s.mapping.map(f.posAt(m,g))+w,E=[],T=0;T<d;T+=1)E=E.concat(ro(1,m,a));for(var S=0;S<h;S+=1)x.push(a.nodes.tableRow.create(null,E));return i(s.insert(b,x)),!0}}return!1}}},e.prototype.removeRow=function(){return function(){return function(t,n){var i=t.selection,o=t.tr,a=ht(i),s=a.anchor,l=a.head;if(s&&l){var u=xe.create(s),c=u.totalRowCount,f=u.totalColumnCount,d=u.getRectOffsets(s,l),p=sn(d).rowCount,h=d.startRowIdx,v=d.endRowIdx,m=h===0,g=p===c-1;if(g||m)return!1;for(var w=v;w>=h;w-=1){var y=Zie(u,w,f),x=y.from,b=y.to;o.delete(x-1,b+1)}return n(o),!0}return!1}}},e.prototype.alignColumn=function(){return function(t){return t===void 0&&(t={align:"center"}),function(n,i){var o=t.align,a=n.selection,s=n.tr,l=ht(a),u=l.anchor,c=l.head;if(u&&c){for(var f=xe.create(u),d=f.totalRowCount,p=f.getRectOffsets(u,c),h=p.startColIdx,v=p.endColIdx,m=0;m<d;m+=1)for(var g=h;g<=v;g+=1)if(!f.extendedRowspan(m,g)&&!f.extendedColspan(m,g)){var w=f.getNodeAndPos(m,g),y=w.node,x=w.pos,b=One(y,{align:o});s.setNodeMarkup(x,null,b)}return i(s),!0}return!1}}},e.prototype.moveToCell=function(t){return function(n,i){var o=n.selection,a=n.tr,s=n.schema,l=ht(o),u=l.anchor,c=l.head;if(u&&c){var f=xe.create(u),d=f.getCellIndex(u),p=void 0;if(Dd(t,f,d)?p=Ms(a,f,s):p=Nd(t,a,d,f),p)return i(p),!0}return!1}},e.prototype.moveInCell=function(t){var n=this;return function(i,o){var a=i.selection,s=i.tr,l=i.doc,u=i.schema,c=a.$from,f=n.context.view;if(!f.endOfTextblock(t))return!1;var d=Dt(c,function(y){var x=y.type;return x.name==="tableHeadCell"||x.name==="tableBodyCell"});if(d){var p=Dt(c,function(y){var x=y.type;return x.name==="paragraph"}),h=d.depth;if(p&&_ie(t,[h,p.depth],c,l)){var v=ht(a).anchor,m=xe.create(v),g=m.getCellIndex(v),w=void 0;if(Xie(t,m,g)?w=Yie(s,c,h):Dd(t,m,g)?t==="up"?w=jie(s,m,u):t==="down"&&(w=Ms(s,m,u)):w=Nd(t,s,g,m),w)return o(w),!0}}return!1}},e.prototype.deleteCells=function(){return function(t,n){var i=t.schema,o=t.selection,a=t.tr,s=ht(o),l=s.anchor,u=s.head,c=o instanceof G;if(l&&u&&!c){for(var f=xe.create(l),d=f.getRectOffsets(l,u),p=d.startRowIdx,h=d.startColIdx,v=d.endRowIdx,m=d.endColIdx,g=p;g<=v;g+=1)for(var w=h;w<=m;w+=1)if(!f.extendedRowspan(g,w)&&!f.extendedColspan(g,w)){var y=f.getNodeAndPos(g,w),x=y.node,b=y.pos,E=ro(1,g,i,x.attrs);a.replaceWith(a.mapping.map(b),a.mapping.map(b+x.nodeSize),E)}return n(a),!0}return!1}},e.prototype.exitTable=function(){return function(t,n){var i=t.selection,o=t.tr,a=t.schema,s=i.$from,l=Dt(s,function(d){var p=d.type;return p.name==="tableHeadCell"||p.name==="tableBodyCell"});if(l){var u=Dt(s,function(d){var p=d.type;return p.name==="paragraph"});if(u){var c=ht(i).anchor,f=xe.create(c);return n(Ms(o,f,a,!0)),!0}}return!1}},e.prototype.commands=function(){return{addTable:this.addTable(),removeTable:this.removeTable(),addColumnToLeft:this.addColumn("left"),addColumnToRight:this.addColumn("right"),removeColumn:this.removeColumn(),addRowToUp:this.addRow("up"),addRowToDown:this.addRow("down"),removeRow:this.removeRow(),alignColumn:this.alignColumn()}},e.prototype.keymaps=function(){var t=this.deleteCells();return{Tab:this.moveToCell("right"),"Shift-Tab":this.moveToCell("left"),ArrowUp:this.moveInCell("up"),ArrowDown:this.moveInCell("down"),ArrowLeft:this.moveInCell("left"),ArrowRight:this.moveInCell("right"),Backspace:t,"Mod-Backspace":t,Delete:t,"Mod-Delete":t,"Mod-Enter":this.exitTable()}},e})(te),toe=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableHead"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow{1}",attrs:k({rawHTML:{default:null}},ye()),parseDOM:[Bo("thead")],toDOM:function(t){var n=t.attrs;return["thead",le(n),0]}}},enumerable:!1,configurable:!0}),e})(te),roe=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableBody"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow+",attrs:k({rawHTML:{default:null}},ye()),parseDOM:[{tag:"tbody",getAttrs:function(t){var n=t.querySelectorAll("tr"),i=n[0].children.length,o=t.getAttribute("data-raw-html");return i?k({},o&&{rawHTML:o}):!1}}],toDOM:function(t){var n=t.attrs;return["tbody",le(n),0]}}},enumerable:!1,configurable:!0}),e})(te),noe=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableRow"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(tableHeadCell | tableBodyCell)*",attrs:k({rawHTML:{default:null}},ye()),parseDOM:[{tag:"tr",getAttrs:function(t){var n=t.children.length,i=t.getAttribute("data-raw-html");return n?k({},i&&{rawHTML:i}):!1}}],toDOM:function(t){var n=t.attrs;return["tr",le(n),0]}}},enumerable:!1,configurable:!0}),e})(te),ioe=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableHeadCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph+",attrs:k({align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},extended:{default:null}},ye()),isolating:!0,parseDOM:[Zh("th")],toDOM:function(t){var n=t.attrs,i=Qh(n);return["th",k(k({},i),le(n)),0]}}},enumerable:!1,configurable:!0}),e})(te),ooe=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableBodyCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(paragraph | bulletList | orderedList)+",attrs:{align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},rowspan:{default:null},extended:{default:null}},isolating:!0,parseDOM:[Zh("td")],toDOM:function(t){var n=t.attrs,i=Qh(n);return["td",i,0]}}},enumerable:!1,configurable:!0}),e})(te),aoe=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"image"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{inline:!0,attrs:k({imageUrl:{default:""},altText:{default:null},rawHTML:{default:null}},ye()),group:"inline",selectable:!1,parseDOM:[{tag:"img[src]",getAttrs:function(t){var n=Ar(t,{RETURN_DOM_FRAGMENT:!0}).firstChild,i=n.getAttribute("src")||"",o=n.getAttribute("data-raw-html"),a=n.getAttribute("alt");return k({imageUrl:i,altText:a},o&&{rawHTML:o})}}],toDOM:function(t){var n=t.attrs;return[n.rawHTML||"img",k(k({src:an(n.imageUrl)},n.altText&&{alt:n.altText}),le(n))]}}},enumerable:!1,configurable:!0}),e.prototype.addImage=function(){return function(t){return function(n,i){var o=n.schema,a=n.tr,s=t,l=s.imageUrl,u=s.altText;if(!l)return!1;var c=o.nodes.image.createAndFill(k({imageUrl:l},u&&{altText:u}));return i(a.replaceSelectionWith(c).scrollIntoView()),!0}}},e.prototype.commands=function(){return{addImage:this.addImage()}},e})(te),Id=1,soe=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:k({rawHTML:{default:null}},ye()),group:"block",parseDOM:[{tag:"hr"}],selectable:!1,toDOM:function(t){var n=t.attrs;return["div",le(n),[n.rawHTML||"hr"]]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){var t=this;return function(){return function(n,i){var o,a=n.selection,s=a.$from,l=a.$to;if(s===l){var u=n.doc,c=n.schema.nodes,f=c.thematicBreak,d=c.paragraph,p=[f.create()],h=s.node(Id),v=u.child(u.childCount-1)===h,m=u.resolve(s.after(Id)),g=((o=s.nodeAfter)===null||o===void 0?void 0:o.type.name)===t.name;return(v||g)&&p.push(d.create()),i(n.tr.insert(m.pos,p).scrollIntoView()),!0}return!1}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var t=this.hr()();return{"Mod-l":t,"Mod-L":t}},e})(te),loe=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["b","strong"].map(function(n){return{tag:n,getAttrs:function(i){var o=i.getAttribute("data-raw-html");return k({},o&&{rawHTML:o})}}});return{attrs:k({rawHTML:{default:null}},ye()),parseDOM:t,toDOM:function(n){var i=n.attrs;return[i.rawHTML||"strong",le(i)]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return function(){return function(t,n){return Zr(t.schema.marks.strong)(t,n)}}},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var t=this.bold()();return{"Mod-b":t,"Mod-B":t}},e})(ne),uoe=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["i","em"].map(function(n){return{tag:n,getAttrs:function(i){var o=i.getAttribute("data-raw-html");return k({},o&&{rawHTML:o})}}});return{attrs:k({rawHTML:{default:null}},ye()),parseDOM:t,toDOM:function(n){var i=n.attrs;return[i.rawHTML||"em",le(i)]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return function(){return function(t,n){return Zr(t.schema.marks.emph)(t,n)}}},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var t=this.italic()();return{"Mod-i":t,"Mod-I":t}},e})(ne),coe=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["s","del"].map(function(n){return{tag:n,getAttrs:function(i){var o=i.getAttribute("data-raw-html");return k({},o&&{rawHTML:o})}}});return{attrs:k({rawHTML:{default:null}},ye()),parseDOM:t,toDOM:function(n){var i=n.attrs;return[i.rawHTML||"del",le(i)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return Zr(t.schema.marks.strike)(t,n)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Mod-s":t,"Mod-S":t}},e})(ne),foe=(function(r){D(e,r);function e(t){var n=r.call(this)||this;return n.linkAttributes=t,n}return Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=this;return{attrs:k({linkUrl:{default:""},title:{default:null},rawHTML:{default:null}},ye()),inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(n){var i=Ar(n,{RETURN_DOM_FRAGMENT:!0}).firstChild,o=i.getAttribute("href")||"",a=i.getAttribute("title")||"",s=i.getAttribute("data-raw-html");return k({linkUrl:o,title:a},s&&{rawHTML:s})}}],toDOM:function(n){var i=n.attrs;return[i.rawHTML||"a",k(k({href:an(i.linkUrl)},t.linkAttributes),le(i))]}}},enumerable:!1,configurable:!0}),e.prototype.addLink=function(){return function(t){return function(n,i){var o=t,a=o.linkUrl,s=o.linkText,l=s===void 0?"":s,u=n.schema,c=n.tr,f=n.selection,d=f.empty,p=f.from,h=f.to;if(p&&h&&a){var v={linkUrl:a},m=u.mark("link",v);if(d&&l){var g=Te(u,l,m);c.replaceRangeWith(p,h,g)}else c.addMark(p,h,m);return i(c.scrollIntoView()),!0}return!1}}},e.prototype.toggleLink=function(){return function(t){return function(n,i){return Zr(n.schema.marks.link,t)(n,i)}}},e.prototype.commands=function(){return{addLink:this.addLink(),toggleLink:this.toggleLink()}},e})(ne),doe=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:k({rawHTML:{default:null}},ye()),parseDOM:[{tag:"code",getAttrs:function(t){var n=t.getAttribute("data-raw-html");return k({},n&&{rawHTML:n})}}],toDOM:function(t){var n=t.attrs;return[n.rawHTML||"code",le(n)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return Zr(t.schema.marks.code)(t,n)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-c":t,"Shift-Mod-C":t}},e})(ne),poe=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:{info:{default:null}},atom:!0,code:!0,defining:!0,parseDOM:[{tag:"div[data-custom-info]",getAttrs:function(t){var n=t.getAttribute("data-custom-info");return{info:n}}}],toDOM:function(t){var n=t.attrs;return["div",{"data-custom-info":n.info||null},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(n,i){return t?.info?Hi(n.schema.nodes.customBlock,t)(n,i):!1}}},e})(te),hoe=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"frontMatter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-front-matter]"}],toDOM:function(){return["div",{"data-front-matter":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n,i){var o=t.selection.$from;return i.endOfTextblock("down")&&o.node().type.name==="frontMatter"?Bi(t,n):!1}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e})(te),voe=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"htmlComment"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-html-comment]"}],toDOM:function(){return["div",{"data-html-comment":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n,i){var o=t.selection.$from;return i.endOfTextblock("down")&&o.node().type.name==="htmlComment"?Bi(t,n):!1}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e})(te);function moe(r){return new rh([new Lie,new Aie,new Nie,new Iie,new Rie,new Pie,new Bie,new Hie,new Fie,new eoe,new toe,new roe,new noe,new ioe,new ooe,new aoe,new soe,new loe,new uoe,new coe,new foe(r),new doe,new poe,new hoe,new eh,new voe])}var goe=N("contents"),yoe=(function(r){D(e,r);function e(t,n){var i=r.call(this,t)||this,o=n.toDOMAdaptor,a=n.htmlSchemaMap,s=a===void 0?{}:a,l=n.linkAttributes,u=l===void 0?{}:l,c=n.useCommandShortcut,f=c===void 0?!0:c,d=n.wwPlugins,p=d===void 0?[]:d,h=n.wwNodeViews,v=h===void 0?{}:h;return i.editorType="wysiwyg",i.el.classList.add("ww-mode"),i.toDOMAdaptor=o,i.linkAttributes=u,i.extraPlugins=p,i.pluginNodeViews=v,i.specs=i.createSpecs(),i.schema=i.createSchema(s),i.context=i.createContext(),i.keymaps=i.createKeymaps(f),i.view=i.createView(),i.commands=i.createCommands(),i.specs.setContext(k(k({},i.context),{view:i.view})),i.initEvent(),i}return e.prototype.createSpecs=function(){return moe(this.linkAttributes)},e.prototype.createContext=function(){return{schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSchema=function(t){return new Sn({nodes:k(k({},this.specs.nodes),t.nodes),marks:k(k({},this.specs.marks),t.marks)})},e.prototype.createPlugins=function(){return Ve([Ine(),Hne(this.eventEmitter),Fne(),jne(this.eventEmitter)],this.createPluginProps()).concat(this.defaultPlugins)},e.prototype.createPluginNodeViews=function(){var t=this,n=t.eventEmitter,i=t.pluginNodeViews,o={};return i&&Object.keys(i).forEach(function(a){o[a]=function(s,l,u){return i[a](s,l,u,n)}}),o},e.prototype.createView=function(){var t=this,n=this,i=n.toDOMAdaptor,o=n.eventEmitter;return new gr(this.el,{state:this.createState(),attributes:{class:goe},nodeViews:k({customBlock:function(a,s,l){return new Wne(a,s,l,i)},image:function(a,s,l){return new Gne(a,s,l,o)},codeBlock:function(a,s,l){return new Xne(a,s,l,o)},widget:Zp},this.createPluginNodeViews()),dispatchTransaction:function(a){var s=t.view.state.applyTransaction(a).state;t.view.updateState(s),t.emitChangeEvent(a.scrollIntoView()),t.eventEmitter.emit("setFocusedNode",s.selection.$from.node(1))},transformPastedHTML:die,transformPasted:function(a){return gie(a,t.schema,Co(t.view.state.selection.$from))},handlePaste:function(a,s,l){return Sie(a,l)},handleKeyDown:function(a,s){return t.eventEmitter.emit("keydown",t.editorType,s),!1},handleDOMEvents:{paste:function(a,s){var l=s.clipboardData||window.clipboardData,u=l?.items;if(u){var c=yt(u).some(function(d){return d.kind==="string"&&d.type==="text/rtf"});if(!c){var f=Qp(u);f&&(s.preventDefault(),vl(t.eventEmitter,f,s.type))}}return!1},keyup:function(a,s){return t.eventEmitter.emit("keyup",t.editorType,s),!1},scroll:function(){return t.eventEmitter.emit("scroll","editor"),!0}}})},e.prototype.createCommands=function(){return this.specs.commands(this.view,Ml())},e.prototype.getHTML=function(){return hl(this.view.dom.innerHTML)},e.prototype.getModel=function(){return this.view.state.doc},e.prototype.getSelection=function(){var t=this.view.state.selection,n=t.from,i=t.to;return[n,i]},e.prototype.getSchema=function(){return this.view.state.schema},e.prototype.replaceSelection=function(t,n,i){var o=this.view.state,a=o.schema,s=o.tr,l=t.split(`
`),u=l.map(function(d){return co(a,Tr(d,a))}),c=new L(M.from(u),1,1),f=At(n)&&At(i)?s.replaceRange(n,i,c):s.replaceSelection(c);this.view.dispatch(f),this.focus()},e.prototype.deleteSelection=function(t,n){var i=this.view.state.tr,o=At(t)&&At(n)?i.deleteRange(t,n):i.deleteSelection();this.view.dispatch(o.scrollIntoView())},e.prototype.getSelectedText=function(t,n){var i=this.view.state,o=i.doc,a=i.selection,s=a.from,l=a.to;return At(t)&&At(n)&&(s=t,l=n),o.textBetween(s,l,`
`)},e.prototype.setModel=function(t,n){n===void 0&&(n=!1);var i=this.view.state,o=i.tr,a=i.doc;this.view.dispatch(o.replaceWith(0,a.content.size,t)),n&&this.moveCursorToEnd(!0)},e.prototype.setSelection=function(t,n){n===void 0&&(n=t);var i=this.view.state.tr,o=re(i,t,n);this.view.dispatch(i.setSelection(o).scrollIntoView())},e.prototype.addWidget=function(t,n,i){var o=this.view,a=o.dispatch,s=o.state;a(s.tr.setMeta("widget",{pos:i??s.selection.to,node:t,style:n}))},e.prototype.replaceWithWidget=function(t,n,i){var o=this.view.state,a=o.tr,s=o.schema,l=Tr(i,s);this.view.dispatch(a.replaceWith(t,n,l))},e.prototype.getRangeInfoOfNode=function(t){var n=this.view.state,i=n.doc,o=n.selection,a=t?i.resolve(t):o.$from,s=a.marks(),l=a.node(),u=a.start(),c=a.end(),f=l.type.name;if(s.length||f==="paragraph"){var d=s[s.length-1],p=function(h){return h.length?Ee(h,d):!0};f=d?d.type.name:"text",l.forEach(function(h,v){var m=h.isText,g=h.nodeSize,w=h.marks,y=a.pos-u;m&&v<=y&&v+g>=y&&p(w)&&(u=u+v,c=u+g)})}return{range:[u,c],type:f}},e})(th),boe=st,woe=ao;function Coe(r){return!boe(r)&&!woe(r)}var xoe=Coe,koe=xoe;function Toe(r){return koe(r)&&r!==!1}var Eoe=Toe,Soe=Eoe;function Moe(r){return!Soe(r)}var Ooe=Moe,Rd=["afterPreviewRender","updatePreview","changeMode","needChangeMode","command","changePreviewStyle","changePreviewTabPreview","changePreviewTabWrite","scroll","contextmenu","show","hide","changeLanguage","changeToolbarState","toggleScrollSync","mixinTableOffsetMapPrototype","setFocusedNode","removePopupWidget","query","openPopup","closePopup","addImageBlobHook","beforePreviewRender","beforeConvertWysiwygToMarkdown","load","loadUI","change","caretChange","destroy","focus","blur","keydown","keyup"],mv=(function(){function r(){var e=this;this.events=new sv,this.eventTypes=Rd.reduce(function(t,n){return k(k({},t),{type:n})},{}),this.hold=!1,Rd.forEach(function(t){e.addEventType(t)})}return r.prototype.listen=function(e,t){var n=this.getTypeInfo(e),i=this.events.get(n.type)||[];if(!this.hasEventType(n.type))throw new Error("There is no event type "+n.type);n.namespace&&(t.namespace=n.namespace),i.push(t),this.events.set(n.type,i)},r.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this.getTypeInfo(e),o=this.events.get(i.type),a=[];return!this.hold&&o&&o.forEach(function(s){var l=s.apply(void 0,t);st(l)||a.push(l)}),a},r.prototype.emitReduce=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=this.events.get(e);return!this.hold&&o&&o.forEach(function(a){var s=a.apply(void 0,Ve([t],n));Ooe(s)||(t=s)}),t},r.prototype.getTypeInfo=function(e){var t=e.split(".");return{type:t[0],namespace:t[1]}},r.prototype.hasEventType=function(e){return!st(this.eventTypes[this.getTypeInfo(e).type])},r.prototype.addEventType=function(e){if(this.hasEventType(e))throw new Error("There is already have event type "+e);this.eventTypes[e]=e},r.prototype.removeEventHandler=function(e,t){var n=this,i=this.getTypeInfo(e),o=i.type,a=i.namespace;o&&t?this.removeEventHandlerWithHandler(o,t):o&&!a?this.events.delete(o):!o&&a?this.events.forEach(function(s,l){n.removeEventHandlerWithTypeInfo(l,a)}):o&&a&&this.removeEventHandlerWithTypeInfo(o,a)},r.prototype.removeEventHandlerWithHandler=function(e,t){var n=this.events.get(e);if(n){var i=n.indexOf(t);n.indexOf(t)>=0&&n.splice(i,1)}},r.prototype.removeEventHandlerWithTypeInfo=function(e,t){var n=[],i=this.events.get(e);i&&(i.map(function(o){return o.namespace!==t&&n.push(o),null}),this.events.set(e,n))},r.prototype.getEvents=function(){return this.events},r.prototype.holdEventInvoke=function(e){this.hold=!0,e(),this.hold=!1},r})(),Loe=(function(){function r(e,t,n,i){this.eventEmitter=e,this.mdCommands=t,this.wwCommands=n,this.getEditorType=i,this.initEvent()}return r.prototype.initEvent=function(){var e=this;this.eventEmitter.listen("command",function(t,n){e.exec(t,n)})},r.prototype.addCommand=function(e,t,n){e==="markdown"?this.mdCommands[t]=n:this.wwCommands[t]=n},r.prototype.deleteCommand=function(e,t){e==="markdown"?delete this.mdCommands[t]:delete this.wwCommands[t]},r.prototype.exec=function(e,t){var n=this.getEditorType();n==="markdown"?this.mdCommands[e](t):this.wwCommands[e](t)},r})();function io(r){return r[r.length-1]===`
`?r.slice(0,r.length-1):r}function Xs(r,e){var t=r.schema,n=e.literal,i=n.match(fn);if(i){var o=i[1],a=i[3],s=(o||a).toLowerCase();return e.type==="htmlInline"&&!!(t.marks[s]||t.nodes[s])}return!1}function Ys(r){var e=r.type;return Ee(["text","strong","emph","strike","image","link","code"],e)}function Pd(r){return r?.type==="softbreak"}function Wn(r){var e=r.type,t=r.literal,n=e==="htmlInline"&&t.match(fn);if(n){var i=n[1],o=n[3],a=i||o;if(a)return Ee(["ul","ol","li"],a.toLowerCase())}return!1}function Aoe(r){var e=r.literal,t=/data-task/.test(e),n=/data-task-checked/.test(e);return{task:t,checked:n}}function Bd(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var n=document.createElement("div");n.innerHTML=Ar(r);var i=n.firstChild;return e.map(function(o){return i.getAttribute(o)||""})}function Doe(r){var e={};return Object.keys(r).forEach(function(t){var n=t.split(", ");n.forEach(function(i){var o=i.toLowerCase();e[o]=r[t]})}),e}var Noe={"b, strong":function(r,e,t){var n=r.schema.marks.strong;t?r.openMark(n.create({rawHTML:t})):r.closeMark(n)},"i, em":function(r,e,t){var n=r.schema.marks.emph;t?r.openMark(n.create({rawHTML:t})):r.closeMark(n)},"s, del":function(r,e,t){var n=r.schema.marks.strike;t?r.openMark(n.create({rawHTML:t})):r.closeMark(n)},code:function(r,e,t){var n=r.schema.marks.code;t?r.openMark(n.create({rawHTML:t})):r.closeMark(n)},a:function(r,e,t){var n=e.literal,i=r.schema.marks.link;if(t){var o=Bd(n,"href")[0];r.openMark(i.create({linkUrl:o,rawHTML:t}))}else r.closeMark(i)},img:function(r,e,t){var n=e.literal;if(t){var i=Bd(n,"src","alt"),o=i[0],a=i[1],s=r.schema.nodes.image;r.addNode(s,k({rawHTML:t,imageUrl:o},a&&{altText:a}))}},hr:function(r,e,t){r.addNode(r.schema.nodes.thematicBreak,{rawHTML:t})},br:function(r,e){var t=r.schema.nodes.paragraph,n=e.parent,i=e.prev,o=e.next;n?.type==="paragraph"?(Pd(i)&&r.openNode(t),Pd(o)?r.closeNode():o&&(r.closeNode(),r.openNode(t))):n?.type==="tableCell"&&(i&&(Ys(i)||Xs(r,i))&&r.closeNode(),o&&(Ys(o)||Xs(r,o))&&r.openNode(t))},pre:function(r,e,t){var n,i,o=document.createElement("div");o.innerHTML=e.literal;var a=(i=(n=o.firstChild)===null||n===void 0?void 0:n.firstChild)===null||i===void 0?void 0:i.textContent;r.openNode(r.schema.nodes.codeBlock,{rawHTML:t}),r.addText(io(a)),r.closeNode()},"ul, ol":function(r,e,t){if(e.parent.type==="tableCell"){var n=r.schema.nodes,i=n.bulletList,o=n.orderedList,a=n.paragraph,s=t==="ul"?i:o;t?(e.prev&&!Wn(e.prev)&&r.closeNode(),r.openNode(s,{rawHTML:t})):(r.closeNode(),e.next&&!Wn(e.next)&&r.openNode(a))}},li:function(r,e,t){var n;if(((n=e.parent)===null||n===void 0?void 0:n.type)==="tableCell"){var i=r.schema.nodes,o=i.listItem,a=i.paragraph;if(t){var s=Aoe(e);e.prev&&!Wn(e.prev)&&r.closeNode(),r.openNode(o,k({rawHTML:t},s)),e.next&&!Wn(e.next)&&r.openNode(a)}else e.prev&&!Wn(e.prev)&&r.closeNode(),r.closeNode()}}},Ioe=Doe(Noe);function Hd(r){return r.type==="htmlInline"&&Ds.test(r.literal)}function gv(r){yt(r.childNodes).forEach(function(e){if(Lo(e)){var t=e.nodeName.toLowerCase();e.setAttribute("data-raw-html",t),e.childNodes&&gv(e)}})}var Fd={text:function(r,e){r.addText(e.literal||"")},paragraph:function(r,e,t,n){var i,o=t.entering;if(o){var a=r.schema.nodes.paragraph;((i=e.prev)===null||i===void 0?void 0:i.type)==="paragraph"&&(r.openNode(a,n),r.closeNode()),r.openNode(a,n)}else r.closeNode()},heading:function(r,e,t,n){var i=t.entering;if(i){var o=e,a=o.level,s=o.headingType;r.openNode(r.schema.nodes.heading,k({level:a,headingType:s},n))}else r.closeNode()},codeBlock:function(r,e,t){var n=r.schema.nodes.codeBlock,i=e,o=i.info,a=i.literal;r.openNode(n,k({language:o},t)),r.addText(io(a||"")),r.closeNode()},list:function(r,e,t,n){var i=t.entering;if(i){var o=r.schema.nodes,a=o.bulletList,s=o.orderedList,l=e.listData,u=l.type,c=l.start;u==="bullet"?r.openNode(a,n):r.openNode(s,k({order:c},n))}else r.closeNode()},item:function(r,e,t,n){var i=t.entering,o=r.schema.nodes.listItem,a=e.listData,s=a.task,l=a.checked;if(i){var u=k(k(k({},s&&{task:s}),l&&{checked:l}),n);r.openNode(o,u)}else r.closeNode()},blockQuote:function(r,e,t,n){var i=t.entering;i?r.openNode(r.schema.nodes.blockQuote,n):r.closeNode()},image:function(r,e,t,n){var i=t.entering,o=t.skipChildren,a=r.schema.nodes.image,s=e,l=s.destination,u=s.firstChild;i&&o&&o(),r.addNode(a,k(k({imageUrl:l},u&&{altText:u.literal}),n))},thematicBreak:function(r,e,t,n){r.addNode(r.schema.nodes.thematicBreak,n)},strong:function(r,e,t,n){var i=t.entering,o=r.schema.marks.strong;i?r.openMark(o.create(n)):r.closeMark(o)},emph:function(r,e,t,n){var i=t.entering,o=r.schema.marks.emph;i?r.openMark(o.create(n)):r.closeMark(o)},link:function(r,e,t,n){var i=t.entering,o=r.schema.marks.link,a=e,s=a.destination,l=a.title;if(i){var u=k({linkUrl:s,title:l},n);r.openMark(o.create(u))}else r.closeMark(o)},softbreak:function(r,e){if(e.parent.type==="paragraph"){var t=e.prev,n=e.next;t&&!Hd(t)&&r.closeNode(),n&&!Hd(n)&&r.openNode(r.schema.nodes.paragraph)}},table:function(r,e,t,n){var i=t.entering;i?r.openNode(r.schema.nodes.table,n):r.closeNode()},tableHead:function(r,e,t,n){var i=t.entering;i?r.openNode(r.schema.nodes.tableHead,n):r.closeNode()},tableBody:function(r,e,t,n){var i=t.entering;i?r.openNode(r.schema.nodes.tableBody,n):r.closeNode()},tableRow:function(r,e,t,n){var i=t.entering;i?r.openNode(r.schema.nodes.tableRow,n):r.closeNode()},tableCell:function(r,e,t){var n=t.entering;if(!e.ignored){var i=function(h){return h&&(Ys(h)||Xs(r,h))};if(n){var o=r.schema.nodes,a=o.tableHeadCell,s=o.tableBodyCell,l=o.paragraph,u=e.parent.parent,c=u.type==="tableHead"?a:s,f=u.parent,d=(f.columns[e.startIdx]||{}).align,p=k({},e.attrs);d&&(p.align=d),r.openNode(c,p),i(e.firstChild)&&r.openNode(l)}else i(e.lastChild)&&r.closeNode(),r.closeNode()}},strike:function(r,e,t,n){var i=t.entering,o=r.schema.marks.strike;i?r.openMark(o.create(n)):r.closeMark(o)},code:function(r,e,t,n){var i=r.schema.marks.code;r.openMark(i.create(n)),r.addText(io(e.literal||"")),r.closeMark(i)},customBlock:function(r,e){var t=r.schema.nodes,n=t.customBlock,i=t.paragraph,o=e,a=o.info,s=o.literal;r.openNode(n,{info:a}),r.addText(io(s||"")),r.closeNode(),e.next||(r.openNode(i),r.closeNode())},frontMatter:function(r,e){r.openNode(r.schema.nodes.frontMatter),r.addText(e.literal),r.closeNode()},htmlInline:function(r,e){var t=e.literal,n=t.match(fn),i=n[1],o=n[3],a=(i||o).toLowerCase(),s=r.schema.marks[a],l=Ar(t);if(s?.spec.attrs.htmlInline)if(i){var u=Ws(l);r.openMark(s.create({htmlAttrs:u}))}else r.closeMark(s);else{var c=Ioe[a];c&&c(r,e,i)}},htmlBlock:function(r,e){var t=e.literal,n=document.createElement("div"),i=yw.test(t);if(i)r.openNode(r.schema.nodes.htmlComment),r.addText(e.literal),r.closeNode();else{var o=t.match(fn),a=o[1],s=o[3],l=(a||s).toLowerCase(),u=r.schema.nodes[l],c=Ar(t);if(u?.spec.attrs.htmlBlock){var f=Ws(c),d=Jh(e,l);r.addNode(u,{htmlAttrs:f,childrenHTML:d})}else n.innerHTML=c,gv(n),r.convertByDOMParser(n)}},customInline:function(r,e,t){var n=t.entering,i=t.skipChildren,o=e,a=o.info,s=o.firstChild,l=r.schema;if(a.indexOf("widget")!==-1&&n){var u=zp(e);i(),r.addNode(l.nodes.widget,{info:a},[l.text(Fp(a,u))])}else{var c="$$";n&&(c+=s?a+" ":a),r.addText(c)}}};function Roe(r){var e=Object.keys(r),t=k({},Fd),n=new El({gfm:!0,nodeId:!0,convertors:r}),i=n.getConvertors();return e.forEach(function(o){var a=Fd[o];a&&!Ee(["htmlBlock","htmlInline"],o)&&(t[o]=function(s,l,u){u.origin=function(){return i[o](l,u,i)};var c=r[o](l,u),f;if(c){var d=Array.isArray(c)?c[0]:c,p=d.attributes,h=d.classNames;f={htmlAttrs:p,classNames:h}}a(s,l,u,f)})}),t}function Poe(r,e){return r.isText&&e.isText&&j.sameSet(r.marks,e.marks)?r.withText(r.text+e.text):!1}var Boe=(function(){function r(e,t){this.schema=e,this.convertors=t,this.stack=[{type:this.schema.topNodeType,attrs:null,content:[]}],this.marks=j.none}return r.prototype.top=function(){return Re(this.stack)},r.prototype.push=function(e){this.stack.length&&this.top().content.push(e)},r.prototype.addText=function(e){if(e){var t=this.top().content,n=Re(t),i=this.schema.text(e,this.marks),o=n&&Poe(n,i);o?t[t.length-1]=o:t.push(i)}},r.prototype.openMark=function(e){this.marks=e.addToSet(this.marks)},r.prototype.closeMark=function(e){this.marks=e.removeFromSet(this.marks)},r.prototype.addNode=function(e,t,n){var i=e.createAndFill(t,n,this.marks);return i?(this.push(i),i):null},r.prototype.openNode=function(e,t){this.stack.push({type:e,attrs:t,content:[]})},r.prototype.closeNode=function(){this.marks.length&&(this.marks=j.none);var e=this.stack.pop(),t=e.type,n=e.attrs,i=e.content;return this.addNode(t,n,i)},r.prototype.convertByDOMParser=function(e){var t=this,n=$t.fromSchema(this.schema).parse(e);n.content.forEach(function(i){return t.push(i)})},r.prototype.closeUnmatchedHTMLInline=function(e,t){var n;if(!t&&e.type!=="htmlInline")for(var i=this.stack.length-1,o=i;o>=0;o-=1){var a=this.stack[o];if(!((n=a.attrs)===null||n===void 0)&&n.rawHTML)a.content.length?this.closeNode():this.stack.pop();else break}},r.prototype.convert=function(e,t){for(var n=e.walker(),i=n.next(),o=function(){var s=i.node,l=i.entering,u=a.convertors[s.type],c=!1;if(u){var f={entering:l,leaf:!Qb(s),getChildrenText:Zb,options:{gfm:!0,nodeId:!1,tagFilter:!1,softbreak:`
`},skipChildren:function(){c=!0}};if(a.closeUnmatchedHTMLInline(s,l),u(a,s,f),t?.node===s){var d=a.stack.reduce(function(p,h){return p+h.content.reduce(function(v,m){return v+m.nodeSize},0)},0)+1;t.setMappedPos(d)}}c&&(n.resumeAt(s,!1),n.next()),i=n.next()},a=this;i;)o()},r.prototype.convertNode=function(e,t){return this.convert(e,t),this.stack.length?this.closeNode():null},r})();function Hoe(r,e,t){var n=t[0],i=t[1];r.write(n),r.convertInline(e),r.write(i)}function Foe(r,e,t){var n=e.node,i=e.parent,o=t[0],a=t[1];r.stopNewline=!0,r.write(o),r.convertNode(n),r.write(a),i?.type.name==="doc"&&(r.closeBlock(n),r.stopNewline=!1)}function $oe(r,e){var t=r.length,n="",i="";return e==="left"?(n=":",t-=1):e==="right"?(i=":",t-=1):e==="center"&&(n=":",i=":",t-=2),""+n+so("-",Math.max(t,3))+i}var Qs={text:function(r,e){var t,n=e.node,i=(t=n.text)!==null&&t!==void 0?t:"";(n.marks||[]).some(function(o){return o.type.name==="link"})?r.text(lo(i),!1):r.text(i)},paragraph:function(r,e){var t=e.node,n=e.parent,i=e.index,o=i===void 0?0:i;if(r.stopNewline)r.convertInline(t);else{var a=o===0,s=!a&&n.child(o-1),l=s&&s.childCount===0,u=o<n.childCount-1&&n.child(o+1),c=u&&u.type.name==="paragraph",f=t.childCount===0;if(f&&l)r.write(`<br>
`);else if(f&&!l&&!a){if(n?.type.name==="listItem"){var d=r.getDelim();r.setDelim(""),r.write("<br>"),r.setDelim(d)}r.write(`
`)}else r.convertInline(t),c?r.write(`
`):r.closeBlock(t)}},heading:function(r,e,t){var n=e.node,i=t.delim,o=n.attrs.headingType;o==="atx"?(r.write(i+" "),r.convertInline(n),r.closeBlock(n)):(r.convertInline(n),r.ensureNewLine(),r.write(i),r.closeBlock(n))},codeBlock:function(r,e,t){var n=e.node,i=t.delim,o=t.text,a=i,s=a[0],l=a[1];r.write(s),r.ensureNewLine(),r.text(o,!1),r.ensureNewLine(),r.write(l),r.closeBlock(n)},blockQuote:function(r,e,t){var n=e.node,i=e.parent,o=t.delim;i?.type.name===n.type.name&&r.flushClose(1),r.wrapBlock(o,null,n,function(){return r.convertNode(n)})},bulletList:function(r,e,t){var n=e.node,i=t.delim;r.convertList(n,so(" ",4),function(){return i+" "})},orderedList:function(r,e){var t=e.node,n=t.attrs.order||1;r.convertList(t,so(" ",4),function(i){var o=String(n+i);return o+". "})},listItem:function(r,e){var t=e.node,n=t.attrs,i=n.task,o=n.checked;i&&r.write("["+(o?"x":" ")+"] "),r.convertNode(t)},image:function(r,e,t){var n=t.attrs;r.write("!["+n?.altText+"]("+n?.imageUrl+")")},thematicBreak:function(r,e,t){var n=e.node,i=t.delim;r.write(i),r.closeBlock(n)},table:function(r,e){var t=e.node;r.convertNode(t),r.closeBlock(t)},tableHead:function(r,e,t){var n=e.node,i=t.delim,o=n.firstChild;r.convertNode(n);var a=i??"";!i&&o&&o.forEach(function(s){var l=s.textContent,u=s.attrs,c=$oe(l,u.align);a+="| "+c+" "}),r.write(a+"|"),r.ensureNewLine()},tableBody:function(r,e){var t=e.node;r.convertNode(t)},tableRow:function(r,e){var t=e.node;r.convertNode(t),r.write("|"),r.ensureNewLine()},tableHeadCell:function(r,e,t){var n=e.node,i=t.delim,o=i===void 0?"| ":i;r.write(o),r.convertTableCell(n),r.write(" ")},tableBodyCell:function(r,e,t){var n=e.node,i=t.delim,o=i===void 0?"| ":i;r.write(o),r.convertTableCell(n),r.write(" ")},customBlock:function(r,e,t){var n=e.node,i=t.delim,o=t.text,a=i,s=a[0],l=a[1];r.write(s),r.ensureNewLine(),r.text(o,!1),r.ensureNewLine(),r.write(l),r.closeBlock(n)},frontMatter:function(r,e,t){var n=e.node,i=t.text;r.text(i,!1),r.closeBlock(n)},widget:function(r,e,t){var n=t.text;r.write(n)},html:function(r,e,t){var n=e.node,i=t.text;r.write(i),n.attrs.htmlBlock&&r.closeBlock(n)},htmlComment:function(r,e,t){var n=e.node,i=t.text;r.write(i),r.closeBlock(n)}};function zoe(r,e){var t=e.state,n=e.nodeInfo,i=e.params,o=i.rawHTML;o?Er(r,["heading","codeBlock"])>-1?Hoe(t,n.node,o):Er(r,["image","thematicBreak"])>-1?t.write(o):Foe(t,n,o):Qs[r](t,n,i)}function $d(r,e){var t=r.text,n=/`+/g,i=0;if(r.isText&&t)for(var o=n.exec(t);o;)i=Math.max(i,o[0].length),o=n.exec(t);for(var a=i>0&&e>0?" `":"`",s=0;s<i;s+=1)a+="`";return i>0&&e<0&&(a+=" "),a}function nt(r){return r?["<"+r+">","</"+r+">"]:null}function Gn(r){return r?"<"+r+">":null}function Kn(r){return r?"</"+r+">":null}var Jn={heading:function(r){var e=r.node,t=e.attrs,n=t.level,i=so("#",n);return t.headingType==="setext"&&(i=n===1?"===":"---"),{delim:i,rawHTML:nt(t.rawHTML)}},codeBlock:function(r){var e=r.node,t=e,n=t.attrs,i=t.textContent;return{delim:["```"+(n.language||""),"```"],rawHTML:nt(n.rawHTML),text:i}},blockQuote:function(r){var e=r.node;return{delim:"> ",rawHTML:nt(e.attrs.rawHTML)}},bulletList:function(r,e){var t=r.node,n=e.inTable,i=t.attrs.rawHTML;return n&&(i=i||"ul"),{delim:"*",rawHTML:nt(i)}},orderedList:function(r,e){var t=r.node,n=e.inTable,i=t.attrs.rawHTML;return n&&(i=i||"ol"),{rawHTML:nt(i)}},listItem:function(r,e){var t=r.node,n=e.inTable,i=t.attrs,o=i.task,a=i.checked,s=t.attrs.rawHTML;n&&(s=s||"li");var l=o?' class="task-list-item'+(a?" checked":"")+'"':"",u=o?" data-task"+(a?" data-task-checked":""):"";return{rawHTML:s?["<"+s+l+u+">","</"+s+">"]:null}},table:function(r){var e=r.node;return{rawHTML:nt(e.attrs.rawHTML)}},tableHead:function(r){var e=r.node;return{rawHTML:nt(e.attrs.rawHTML)}},tableBody:function(r){var e=r.node;return{rawHTML:nt(e.attrs.rawHTML)}},tableRow:function(r){var e=r.node;return{rawHTML:nt(e.attrs.rawHTML)}},tableHeadCell:function(r){var e=r.node;return{rawHTML:nt(e.attrs.rawHTML)}},tableBodyCell:function(r){var e=r.node;return{rawHTML:nt(e.attrs.rawHTML)}},image:function(r){var e=r.node,t=e.attrs,n=t.rawHTML,i=t.altText,o=t.imageUrl.replace(/&amp;/g,"&"),a=i?' alt="'+an(i)+'"':"";return{rawHTML:n?"<"+n+' src="'+an(o)+'"'+a+">":null,attrs:{altText:lo(i||""),imageUrl:o}}},thematicBreak:function(r){var e=r.node;return{delim:"***",rawHTML:Gn(e.attrs.rawHTML)}},customBlock:function(r){var e=r.node,t=e,n=t.attrs,i=t.textContent;return{delim:["$$"+n.info,"$$"],text:i}},frontMatter:function(r){var e=r.node;return{text:e.textContent}},widget:function(r){var e=r.node;return{text:e.textContent}},strong:function(r,e){var t=r.node,n=e.entering,i=t.attrs.rawHTML;return{delim:"**",rawHTML:n?Gn(i):Kn(i)}},emph:function(r,e){var t=r.node,n=e.entering,i=t.attrs.rawHTML;return{delim:"*",rawHTML:n?Gn(i):Kn(i)}},strike:function(r,e){var t=r.node,n=e.entering,i=t.attrs.rawHTML;return{delim:"~~",rawHTML:n?Gn(i):Kn(i)}},link:function(r,e){var t=r.node,n=e.entering,i=t.attrs,o=i.title,a=i.rawHTML,s=i.linkUrl.replace(/&amp;/g,"&"),l=o?' title="'+an(o)+'"':"";return n?{delim:"[",rawHTML:a?"<"+a+' href="'+an(s)+'"'+l+">":null}:{delim:"]("+s+(o?" "+qb(lo(o)):"")+")",rawHTML:Kn(a)}},code:function(r,e){var t=r.node,n=r.parent,i=r.index,o=i===void 0?0:i,a=e.entering,s=a?$d(n.child(o),-1):$d(n.child(o-1),1),l=a?Gn(t.attrs.rawHTML):Kn(t.attrs.rawHTML);return{delim:s,rawHTML:l}},htmlComment:function(r){var e=r.node;return{text:e.textContent}},html:function(r,e){var t=r.node,n=e.entering,i=t.type.name,o=t.attrs.htmlAttrs,a="<"+i,s="</"+i+">";return Object.keys(o).forEach(function(l){a+=" "+l+'="'+o[l].replace(/"/g,"'")+'"'}),a+=">",t.attrs.htmlInline?{rawHTML:n?a:s}:{text:""+a+t.attrs.childrenHTML+s}}},zd={strong:{mixable:!0,removedEnclosingWhitespace:!0},emph:{mixable:!0,removedEnclosingWhitespace:!0},strike:{mixable:!0,removedEnclosingWhitespace:!0},code:{escape:!1},link:null,html:null};function qoe(r){var e={},t=Object.keys(Qs);return t.forEach(function(n){e[n]=function(i,o){var a=Qs[n];if(a){var s=r[n],l=s?s(o,{inTable:i.inTable}):{};zoe(n,{state:i,nodeInfo:o,params:l})}}}),e}function Voe(r){var e={},t=Object.keys(zd);return t.forEach(function(n){e[n]=function(i,o){var a=zd[n],s=r[n],l=s&&i&&!st(o),u=l?s(i,{entering:o}):{};return k(k({},u),a)}}),e}function Uoe(r){var e=Object.keys(r);e.forEach(function(i){var o=Jn[i],a=r[i];o?Jn[i]=function(s,l){return l.origin=function(){return o(s,l)},a(s,l)}:Jn[i]=a,delete r[i]});var t=qoe(Jn),n=Voe(Jn);return{nodeTypeConvertors:t,markTypeConvertors:n}}var _oe=(function(){function r(e){var t=e.nodeTypeConvertors,n=e.markTypeConvertors;this.nodeTypeConvertors=t,this.markTypeConvertors=n,this.delim="",this.result="",this.closed=!1,this.tightList=!1,this.stopNewline=!1,this.inTable=!1}return r.prototype.getMarkConvertor=function(e){var t=e.attrs.htmlInline?"html":e.type.name;return this.markTypeConvertors[t]},r.prototype.isInBlank=function(){return/(^|\n)$/.test(this.result)},r.prototype.markText=function(e,t,n,i){var o=this.getMarkConvertor(e);if(o){var a=o({node:e,parent:n,index:i},t),s=a.delim,l=a.rawHTML;return l||s}return""},r.prototype.setDelim=function(e){this.delim=e},r.prototype.getDelim=function(){return this.delim},r.prototype.flushClose=function(e){if(!this.stopNewline&&this.closed){if(this.isInBlank()||(this.result+=`
`),e||(e=2),e>1){var t=this.delim,n=/\s+$/.exec(t);n&&(t=t.slice(0,t.length-n[0].length));for(var i=1;i<e;i+=1)this.result+=t+`
`}this.closed=!1}},r.prototype.wrapBlock=function(e,t,n,i){var o=this.getDelim();this.write(t||e),this.setDelim(this.getDelim()+e),i(),this.setDelim(o),this.closeBlock(n)},r.prototype.ensureNewLine=function(){this.isInBlank()||(this.result+=`
`)},r.prototype.write=function(e){e===void 0&&(e=""),this.flushClose(),this.delim&&this.isInBlank()&&(this.result+=this.delim),e&&(this.result+=e)},r.prototype.closeBlock=function(e){this.closed=e},r.prototype.text=function(e,t){t===void 0&&(t=!0);for(var n=e.split(`
`),i=0;i<n.length;i+=1)this.write(),this.result+=t?zb(n[i]):n[i],i!==n.length-1&&(this.result+=`
`)},r.prototype.convertBlock=function(e,t,n){var i=e.type.name,o=this.nodeTypeConvertors[i],a={node:e,parent:t,index:n};e.attrs.htmlBlock?this.nodeTypeConvertors.html(this,a):o&&o(this,a)},r.prototype.convertInline=function(e){var t=this,n=[],i="",o=function(a,s,l){var u=a?a.marks:[],c=i;i="";var f=a&&a.isText&&u.some(function(q){var K=t.getMarkConvertor(q),ue=K&&K();return ue&&ue.removedEnclosingWhitespace});if(f&&a&&a.text){var d=/^(\s*)(.*?)(\s*)$/m.exec(a.text),p=d[1],h=d[2],v=d[3];c+=p,i=v,(p||v)&&(a=h?a.withText(h):null,a||(u=n))}for(var m=u.length&&Re(u),g=m&&t.getMarkConvertor(m),w=g&&g(),y=w&&w.escape===!1,x=u.length-(y?1:0),b=0;b<x;b+=1){var h=u[b];if(w&&!w.mixable)break;for(var E=0;E<n.length;E+=1){var T=n[E];if(w&&!w.mixable)break;if(h.eq(T)){b>E?u=u.slice(0,E).concat(h).concat(u.slice(E,b)).concat(u.slice(b+1,x)):E>b&&(u=u.slice(0,b).concat(u.slice(b+1,E)).concat(h).concat(u.slice(E,x)));break}}}for(var S=0;S<Math.min(n.length,x)&&u[S].eq(n[S]);)S+=1;for(;S<n.length;){var A=n.pop();A&&t.text(t.markText(A,!1,e,l),!1)}if(c&&t.text(c),a){for(;n.length<x;){var h=u[n.length];n.push(h),t.text(t.markText(h,!0,e,l),!1)}y&&a.isText?t.text(t.markText(m,!0,e,l)+a.text+t.markText(m,!1,e,l+1),!1):t.convertBlock(a,e,l)}};e.forEach(o),o(null,null,e.childCount)},r.prototype.convertList=function(e,t,n){var i=this,o;this.closed&&this.closed.type===e.type?this.flushClose(3):this.tightList&&this.flushClose(1);var a=(o=e.attrs.tight)!==null&&o!==void 0?o:!0,s=this.tightList;this.tightList=a,e.forEach(function(l,u,c){c&&a&&i.flushClose(1),i.wrapBlock(t,n(c),e,function(){return i.convertBlock(l,e,c)})}),this.tightList=s},r.prototype.convertTableCell=function(e){var t=this;this.stopNewline=!0,this.inTable=!0,e.forEach(function(n,i,o){if(Ee(["bulletList","orderedList"],n.type.name))t.convertBlock(n,e,o),t.closed=!1;else if(t.convertInline(n),o<e.childCount-1){var a=e.child(o+1);a.type.name==="paragraph"&&t.write("<br>")}}),this.stopNewline=!1,this.inTable=!1},r.prototype.convertNode=function(e,t){var n=this;return e.forEach(function(i,o,a){if(n.convertBlock(i,e,a),t?.node===i){var s=n.result.split(`
`);t.setMappedPos([s.length,Re(s).length+1])}}),this.result},r})(),joe=(function(){function r(e,t,n,i){var o=this;this.setMappedPos=function(a){o.mappedPosWhenConverting=a},this.schema=e,this.eventEmitter=i,this.focusedNode=null,this.mappedPosWhenConverting=null,this.toWwConvertors=Roe(n),this.toMdConvertors=Uoe(t||{}),this.eventEmitter.listen("setFocusedNode",function(a){return o.focusedNode=a})}return r.prototype.getMappedPos=function(){return this.mappedPosWhenConverting},r.prototype.getInfoForPosSync=function(){return{node:this.focusedNode,setMappedPos:this.setMappedPos}},r.prototype.toWysiwygModel=function(e){var t=new Boe(this.schema,this.toWwConvertors);return t.convertNode(e,this.getInfoForPosSync())},r.prototype.toMarkdownText=function(e){var t=new _oe(this.toMdConvertors),n=t.convertNode(e,this.getInfoForPosSync());return n=this.eventEmitter.emitReduce("beforeConvertWysiwygToMarkdown",n),n},r})();function Woe(r){var e=r.plugin,t=r.eventEmitter,n=r.usageStatistics,i=r.instance,o={Plugin:ae,PluginKey:xt,Selection:V,TextSelection:G},a={Decoration:Qe,DecorationSet:Ne},s={Fragment:M},l={InputRule:rt,inputRules:ts,undoInputRule:hf},u={keymap:Yr},c={eventEmitter:t,usageStatistics:n,instance:i,pmState:o,pmView:a,pmModel:s,pmRules:l,pmKeymap:u,i18n:z};if(yn(e)){var f=e[0],d=e[1],p=d===void 0?{}:d;return f(c,p)}return e(c)}function yv(r){var e=r.plugins,t=r.eventEmitter,n=r.usageStatistics,i=r.instance;return t.listen("mixinTableOffsetMapPrototype",Tne),(e??[]).reduce(function(o,a){var s=Woe({plugin:a,eventEmitter:t,usageStatistics:n,instance:i});if(!s)throw new Error("The return value of the executed plugin is empty.");var l=s.markdownParsers,u=s.toHTMLRenderers,c=s.toMarkdownRenderers,f=s.markdownPlugins,d=s.wysiwygPlugins,p=s.wysiwygNodeViews,h=s.markdownCommands,v=s.wysiwygCommands,m=s.toolbarItems;return u&&(o.toHTMLRenderers=uo(o.toHTMLRenderers,u)),c&&(o.toMarkdownRenderers=uo(o.toMarkdownRenderers,c)),f&&(o.mdPlugins=o.mdPlugins.concat(f)),d&&(o.wwPlugins=o.wwPlugins.concat(d)),p&&(o.wwNodeViews=k(k({},o.wwNodeViews),p)),h&&(o.mdCommands=k(k({},o.mdCommands),h)),v&&(o.wwCommands=k(k({},o.wwCommands),v)),m&&(o.toolbarItems=o.toolbarItems.concat(m)),l&&(o.markdownParsers=k(k({},o.markdownParsers),l)),o},{toHTMLRenderers:{},toMarkdownRenderers:{},mdPlugins:[],wwPlugins:[],wwNodeViews:{},mdCommands:{},wwCommands:{},toolbarItems:[],markdownParsers:{}})}var Goe="data-task",Koe="data-task-disabled",Joe="checked";function Xoe(r){["htmlBlock","htmlInline"].forEach(function(e){r[e]&&Object.keys(r[e]).forEach(function(t){return Kh(t)})})}var bv=(function(){function r(e){var t=this;this.options=tl({linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,usageStatistics:!0,theme:"light"},e),this.eventEmitter=new mv;var n=Pp(this.options.linkAttributes),i=yv({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this})||{},o=i.toHTMLRenderers,a=i.markdownParsers,s=this.options,l=s.customHTMLRenderer,u=s.extendedAutolinks,c=s.referenceDefinition,f=s.frontMatter,d=s.customHTMLSanitizer,p={linkAttributes:n,customHTMLRenderer:k(k({},o),l),extendedAutolinks:u,referenceDefinition:c,frontMatter:f,sanitizer:d||Ar};Xoe(p.customHTMLRenderer),this.options.events&&ln(this.options.events,function(y,x){t.on(x,y)});var h=this.options,v=h.el,m=h.initialValue,g=h.theme,w=v.innerHTML;g!=="light"&&v.classList.add(N(g)),v.innerHTML="",this.toastMark=new _h("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:u,referenceDefinition:c,disallowDeepHeading:!0,frontMatter:f,customParser:a}),this.preview=new Yh(this.eventEmitter,k(k({},p),{isViewer:!0})),dh(this.preview.previewContent,"mousedown",this.toggleTask.bind(this)),m?this.setMarkdown(m):w&&this.preview.setHTML(w),v.appendChild(this.preview.previewContent),this.eventEmitter.emit("load",this)}return r.prototype.toggleTask=function(e){var t=e.target,n=getComputedStyle(t,":before");!t.hasAttribute(Koe)&&t.hasAttribute(Goe)&&cl(n,e.offsetX,e.offsetY)&&(fl(t,Joe),this.eventEmitter.emit("change",{source:"viewer",date:e}))},r.prototype.setMarkdown=function(e){var t=this.toastMark.getLineTexts(),n=t.length,i=Re(t),o=[n,i.length+1],a=this.toastMark.editMarkdown([1,1],o,e||"");this.eventEmitter.emit("updatePreview",a)},r.prototype.on=function(e,t){this.eventEmitter.listen(e,t)},r.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},r.prototype.addHook=function(e,t){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,t)},r.prototype.destroy=function(){fh(this.preview.el,"mousedown",this.toggleTask.bind(this)),this.preview.destroy(),this.eventEmitter.emit("destroy")},r.prototype.isViewer=function(){return!0},r.prototype.isMarkdownMode=function(){return!1},r.prototype.isWysiwygMode=function(){return!1},r})();function oo(r){return r instanceof Ge}function wv(r){var e=["document","blockQuote","bulletList","orderedList","listItem","paragraph","heading","emph","strong","strike","link","image","table","tableHead","tableBody","tableRow","tableHeadCell","tableBodyCell"];return Ee(e,r)}function Yoe(r){var e=r.attrs,t=r.type,n=t.name,i={type:n,wysiwygNode:!0,literal:!wv(n)&&oo(r)?r.textContent:null},o={heading:{level:e.level},link:{destination:e.linkUrl,title:e.title},image:{destination:e.imageUrl},codeBlock:{info:e.language},bulletList:{type:"list",listData:{type:"bullet"}},orderedList:{type:"list",listData:{type:"ordered",start:e.order}},listItem:{type:"item",listData:{task:e.task,checked:e.checked}},tableHeadCell:{type:"tableCell",cellType:"head",align:e.align},tableBodyCell:{type:"tableCell",cellType:"body",align:e.align},customBlock:{info:e.info}},a=o[n],s=k(k({},i),a),l=r.attrs,u=l.htmlAttrs,c=l.childrenHTML;return u?k(k({},s),{attrs:u,childrenHTML:c}):s}var Qoe={openTag:function(r,e){var t=r,n=t.tagName,i=t.classNames,o=t.attributes,a=document.createElement(n),s={};i&&(a.className=i.join(" ")),o&&(s=k(k({},s),o)),pl(s,a),e.push(a)},closeTag:function(r,e){if(e.length>1){var t=e.pop();Re(e).appendChild(t)}},html:function(r,e){Re(e).insertAdjacentHTML("beforeend",r.content)},text:function(r,e){var t=document.createTextNode(r.content);Re(e).appendChild(t)}},Zoe=(function(){function r(e,t){var n=Sl(e,t),i=k(k({},t.htmlBlock),t.htmlInline);this.customConvertorKeys=Object.keys(t).concat(Object.keys(i)),this.renderer=new El({gfm:!0,convertors:k(k({},n),i)}),this.convertors=this.renderer.getConvertors()}return r.prototype.generateTokens=function(e){var t=Yoe(e),n={entering:!0,leaf:oo(e)?e.isLeaf:!1,options:this.renderer.getOptions(),getChildrenText:function(){return oo(e)?e.textContent:""},skipChildren:function(){return!1}},i=this.convertors[e.type.name],o=i(t,n,this.convertors),a=yn(o)?o:[o];return(wv(e.type.name)||e.attrs.htmlInline)&&(n.entering=!1,a.push({type:"text",content:oo(e)?e.textContent:""}),a=a.concat(i(t,n,this.convertors))),a},r.prototype.toDOMNode=function(e){var t=this.generateTokens(e),n=[];return t.forEach(function(i){return Qoe[i.type](i,n)}),n[0]},r.prototype.getToDOMNode=function(e){return Ee(this.customConvertorKeys,e)?this.toDOMNode.bind(this):null},r})(),eae=100,tae=15,Qi=null,Os=null;function qd(r,e){var t=e.syncScrollTop,n=e.releaseEventBlock;Os&&clearTimeout(Os),t(r),Os=setTimeout(function(){n()},tae)}function rae(r,e,t){var n=e-r,i=Date.now(),o=function(){var a=Date.now(),s=(a-i)/eae,l;Qi&&clearTimeout(Qi),s<1?(l=r+n*Math.cos((1-s)*Math.PI/2),qd(Math.ceil(l),t),Qi=setTimeout(o,1)):(qd(e,t),Qi=null)};o()}var nae=18,iae=(function(){function r(e,t,n){this.latestEditorScrollTop=null,this.latestPreviewScrollTop=null,this.blockedScroll=null,this.active=!0,this.timer=null;var i=t.previewContent,o=t.el;this.previewRoot=i,this.previewEl=o,this.mdEditor=e,this.editorView=e.view,this.toastMark=e.getToastMark(),this.eventEmitter=n,this.addScrollSyncEvent()}return r.prototype.addScrollSyncEvent=function(){var e=this;this.eventEmitter.listen("afterPreviewRender",function(){e.clearTimer(),e.timer=setTimeout(function(){e.syncPreviewScrollTop(!0)},200)}),this.eventEmitter.listen("scroll",function(t,n){e.active&&(t==="editor"&&e.blockedScroll!=="editor"?e.syncPreviewScrollTop():t==="preview"&&e.blockedScroll!=="preview"&&e.syncEditorScrollTop(n))}),this.eventEmitter.listen("toggleScrollSync",function(t){e.active=t})},r.prototype.getMdNodeAtPos=function(e,t){var n=e.content.findIndex(t.pos),i=n.index;return this.toastMark.findFirstNodeAtLine(i+1)},r.prototype.getScrollTopByCaretPos=function(){var e=this.mdEditor.getSelection(),t=this.toastMark.findFirstNodeAtLine(e[0][0]),n=this.previewEl.clientHeight,i=Ts(this.previewRoot,t).el,o=wo(i,this.previewRoot)||i.offsetTop,a=i.clientHeight,s=o+a-n*.5;this.latestEditorScrollTop=null;var l=i.getBoundingClientRect().top-this.previewEl.getBoundingClientRect().top;return l<n?null:s},r.prototype.syncPreviewScrollTop=function(e){e===void 0&&(e=!1);var t=this,n=t.editorView,i=t.previewEl,o=t.previewRoot,a=n.dom.getBoundingClientRect(),s=a.left,l=a.top,u=n.posAtCoords({left:s,top:l}),c=n.state.doc,f=this.getMdNodeAtPos(c,u);if(!(!f||jb(f))){var d=i.scrollTop,p=n.dom,h=p.scrollTop,v=p.scrollHeight,m=p.clientHeight,g=p.children,w=v-h<=m+nae,y=w?i.scrollHeight:0;if(h&&!w){if(e){var x=this.getScrollTopByCaretPos();if(!x)return;y=x}else{var b=Ts(this.previewRoot,f),E=b.el,T=b.mdNode,S=Sd(c,T,g),A=S.height,q=S.rect,K=wo(E,o)||E.offsetTop,ue=E.clientHeight,$e=l>q.top?Math.min((l-q.top)/A,1):0;y=K+ue*$e}y=this.getResolvedScrollTop("editor",h,y,d),this.latestEditorScrollTop=h}y!==d&&this.run("editor",y,d)}},r.prototype.syncEditorScrollTop=function(e){var t=this,n=t.toastMark,i=t.editorView,o=t.previewRoot,a=t.previewEl,s=i.dom,l=i.state,u=a.scrollTop,c=a.clientHeight,f=a.scrollHeight,d=f-u<=c,p=s.scrollTop,h=d?s.scrollHeight:0;if(u&&e&&!d){if(e=ene(e,o),!e.getAttribute("data-nodeid"))return;var v=s.children,m=Number(e.getAttribute("data-nodeid")),g=Ts(this.previewRoot,n.findNodeById(m)),w=g.mdNode,y=g.el,x=ti(w);h=v[x-1].offsetTop;var b=Sd(l.doc,w,v).height,E=lne(y,o,m),T=E.nodeHeight,S=E.offsetTop;h+=rne(u,S,T,b),h=this.getResolvedScrollTop("preview",u,h,p),this.latestPreviewScrollTop=u}h!==p&&this.run("preview",h,p)},r.prototype.getResolvedScrollTop=function(e,t,n,i){var o=e==="editor"?this.latestEditorScrollTop:this.latestPreviewScrollTop;return o===null?n:o<t?Math.max(n,i):Math.min(n,i)},r.prototype.run=function(e,t,n){var i=this,o;e==="editor"?(o=this.previewEl,this.blockedScroll="preview"):(o=this.editorView.dom,this.blockedScroll="editor");var a={syncScrollTop:function(s){return o.scrollTop=s},releaseEventBlock:function(){return i.blockedScroll=null}};rae(n,t,a)},r.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},r.prototype.destroy=function(){this.clearTimer(),this.eventEmitter.removeEventHandler("scroll"),this.eventEmitter.removeEventHandler("afterPreviewRender")},r})(),oae={getPopupInitialValues:function(r,e){var t=e.popupName;return t==="link"?{linkText:r.getSelectedText()}:{}}};function aae(r){r.eventEmitter.listen("query",function(e,t){return oae[e](r,t)})}var Cv=(function(){function r(e){var t=this;this.initialHTML=e.el.innerHTML,e.el.innerHTML="",this.options=tl({previewStyle:"tab",previewHighlight:!0,initialEditType:"markdown",height:"300px",minHeight:"200px",language:"en-US",useCommandShortcut:!0,usageStatistics:!0,toolbarItems:[["heading","bold","italic","strike"],["hr","quote"],["ul","ol","task","indent","outdent"],["table","image","link"],["code","codeblock"],["scrollSync"]],hideModeSwitch:!1,linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,customMarkdownRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,widgetRules:[],theme:"light",autofocus:!0},e);var n=this.options,i=n.customHTMLRenderer,o=n.extendedAutolinks,a=n.referenceDefinition,s=n.frontMatter,l=n.customMarkdownRenderer,u=n.useCommandShortcut,c=n.initialEditType,f=n.widgetRules,d=n.customHTMLSanitizer;this.mode=c||"markdown",this.mdPreviewStyle=this.options.previewStyle,this.i18n=z,this.i18n.setCode(this.options.language),this.eventEmitter=new mv,tw(f);var p=Pp(this.options.linkAttributes);this.pluginInfo=yv({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this});var h=this.pluginInfo,v=h.toHTMLRenderers,m=h.toMarkdownRenderers,g=h.mdPlugins,w=h.wwPlugins,y=h.wwNodeViews,x=h.mdCommands,b=h.wwCommands,E=h.markdownParsers,T={linkAttributes:p,customHTMLRenderer:uo(v,i),extendedAutolinks:o,referenceDefinition:a,frontMatter:s,sanitizer:d||Ar},S=new Zoe(p,T.customHTMLRenderer),A=Gre(T.customHTMLRenderer,T.sanitizer,S);this.toastMark=new _h("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:o,referenceDefinition:a,disallowDeepHeading:!0,frontMatter:s,customParser:E}),this.mdEditor=new nC(this.eventEmitter,{toastMark:this.toastMark,useCommandShortcut:u,mdPlugins:g}),this.preview=new Yh(this.eventEmitter,k(k({},T),{isViewer:!1,highlight:this.options.previewHighlight})),this.wwEditor=new yoe(this.eventEmitter,{toDOMAdaptor:S,useCommandShortcut:u,htmlSchemaMap:A,linkAttributes:p,wwPlugins:w,wwNodeViews:y}),this.convertor=new joe(this.wwEditor.getSchema(),k(k({},m),l),Sl(p,T.customHTMLRenderer),this.eventEmitter),this.setMinHeight(this.options.minHeight),this.setHeight(this.options.height),this.setMarkdown(this.options.initialValue,!1),this.options.placeholder&&this.setPlaceholder(this.options.placeholder),this.options.initialValue||this.setHTML(this.initialHTML,!1),this.commandManager=new Loe(this.eventEmitter,this.mdEditor.commands,this.wwEditor.commands,function(){return t.mode}),this.options.usageStatistics&&Bb(),this.scrollSync=new iae(this.mdEditor,this.preview,this.eventEmitter),this.addInitEvent(),this.addInitCommand(x,b),aae(this),this.options.hooks&&ln(this.options.hooks,function(q,K){return t.addHook(K,q)}),this.options.events&&ln(this.options.events,function(q,K){return t.on(K,q)}),this.eventEmitter.emit("load",this),this.moveCursorToStart(this.options.autofocus)}return r.prototype.addInitEvent=function(){var e=this;this.on("needChangeMode",this.changeMode.bind(this)),this.on("loadUI",function(){if(e.height!=="auto"){var t=Math.min(parseInt(e.minHeight,10),parseInt(e.height,10)-75)+"px";e.setMinHeight(t)}}),Mw(this.eventEmitter)},r.prototype.addInitCommand=function(e,t){var n=this,i=function(o,a){Object.keys(a).forEach(function(s){n.addCommand(o,s,a[s])})};this.addCommand("markdown","toggleScrollSync",function(o){return n.eventEmitter.emit("toggleScrollSync",o.active),!0}),i("markdown",e),i("wysiwyg",t)},r.prototype.getCurrentModeEditor=function(){return this.isMarkdownMode()?this.mdEditor:this.wwEditor},r.factory=function(e){return e.viewer?new bv(e):new r(e)},r.setLanguage=function(e,t){z.setLanguage(e,t)},r.prototype.changePreviewStyle=function(e){this.mdPreviewStyle!==e&&(this.mdPreviewStyle=e,this.eventEmitter.emit("changePreviewStyle",e))},r.prototype.exec=function(e,t){this.commandManager.exec(e,t)},r.prototype.addCommand=function(e,t,n){var i=this,o=function(a){a===void 0&&(a={});var s=(e==="markdown"?i.mdEditor:i.wwEditor).view;n(a,s.state,s.dispatch,s)};this.commandManager.addCommand(e,t,o)},r.prototype.on=function(e,t){this.eventEmitter.listen(e,t)},r.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},r.prototype.addHook=function(e,t){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,t)},r.prototype.removeHook=function(e){this.eventEmitter.removeEventHandler(e)},r.prototype.focus=function(){this.getCurrentModeEditor().focus()},r.prototype.blur=function(){this.getCurrentModeEditor().blur()},r.prototype.moveCursorToEnd=function(e){e===void 0&&(e=!0),this.getCurrentModeEditor().moveCursorToEnd(e)},r.prototype.moveCursorToStart=function(e){e===void 0&&(e=!0),this.getCurrentModeEditor().moveCursorToStart(e)},r.prototype.setMarkdown=function(e,t){if(e===void 0&&(e=""),t===void 0&&(t=!0),this.mdEditor.setMarkdown(e,t),this.isWysiwygMode()){var n=this.toastMark.getRootNode(),i=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(i,t)}},r.prototype.setHTML=function(e,t){e===void 0&&(e=""),t===void 0&&(t=!0);var n=document.createElement("div");n.innerHTML=Tw(e);var i=$t.fromSchema(this.wwEditor.schema).parse(n);this.isMarkdownMode()?this.mdEditor.setMarkdown(this.convertor.toMarkdownText(i),t):this.wwEditor.setModel(i,t)},r.prototype.getMarkdown=function(){return this.isMarkdownMode()?this.mdEditor.getMarkdown():this.convertor.toMarkdownText(this.wwEditor.getModel())},r.prototype.getHTML=function(){var e=this;this.eventEmitter.holdEventInvoke(function(){if(e.isMarkdownMode()){var i=e.toastMark.getRootNode(),o=e.convertor.toWysiwygModel(i);e.wwEditor.setModel(o)}});var t=hl(this.wwEditor.view.dom.innerHTML);if(this.placeholder){var n=new RegExp('<span class="placeholder[^>]+>'+this.placeholder+"</span>","i");return t.replace(n,"")}return t},r.prototype.insertText=function(e){this.getCurrentModeEditor().replaceSelection(e)},r.prototype.setSelection=function(e,t){this.getCurrentModeEditor().setSelection(e,t)},r.prototype.replaceSelection=function(e,t,n){this.getCurrentModeEditor().replaceSelection(e,t,n)},r.prototype.deleteSelection=function(e,t){this.getCurrentModeEditor().deleteSelection(e,t)},r.prototype.getSelectedText=function(e,t){return this.getCurrentModeEditor().getSelectedText(e,t)},r.prototype.getRangeInfoOfNode=function(e){return this.getCurrentModeEditor().getRangeInfoOfNode(e)},r.prototype.addWidget=function(e,t,n){this.getCurrentModeEditor().addWidget(e,t,n)},r.prototype.replaceWithWidget=function(e,t,n){this.getCurrentModeEditor().replaceWithWidget(e,t,n)},r.prototype.setHeight=function(e){var t=this.options.el;Pt(e)&&(e==="auto"?vt(t,"auto-height"):it(t,"auto-height"),this.setMinHeight(this.getMinHeight())),gt(t,{height:e}),this.height=e},r.prototype.getHeight=function(){return this.height},r.prototype.setMinHeight=function(e){if(e!==this.minHeight){var t=this.height||this.options.height;t!=="auto"&&this.options.el.querySelector("."+N("main"))&&(e=Math.min(parseInt(e,10),parseInt(t,10)-75)+"px");var n=parseInt(e,10);this.minHeight=e,this.wwEditor.setMinHeight(n),this.mdEditor.setMinHeight(n),this.preview.setMinHeight(n)}},r.prototype.getMinHeight=function(){return this.minHeight},r.prototype.isMarkdownMode=function(){return this.mode==="markdown"},r.prototype.isWysiwygMode=function(){return this.mode==="wysiwyg"},r.prototype.isViewer=function(){return!1},r.prototype.getCurrentPreviewStyle=function(){return this.mdPreviewStyle},r.prototype.changeMode=function(e,t){if(this.mode!==e){if(this.mode=e,this.isWysiwygMode()){var n=this.toastMark.getRootNode(),i=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(i)}else{var i=this.wwEditor.getModel();this.mdEditor.setMarkdown(this.convertor.toMarkdownText(i),!t)}if(this.eventEmitter.emit("removePopupWidget"),this.eventEmitter.emit("changeMode",e),!t){var o=this.convertor.getMappedPos();this.focus(),this.isWysiwygMode()&&At(o)?this.wwEditor.setSelection(o):Array.isArray(o)&&this.mdEditor.setSelection(o)}}},r.prototype.destroy=function(){var e=this;this.wwEditor.destroy(),this.mdEditor.destroy(),this.preview.destroy(),this.scrollSync.destroy(),this.eventEmitter.emit("destroy"),this.eventEmitter.getEvents().forEach(function(t,n){return e.off(n)})},r.prototype.hide=function(){this.eventEmitter.emit("hide")},r.prototype.show=function(){this.eventEmitter.emit("show")},r.prototype.setScrollTop=function(e){this.getCurrentModeEditor().setScrollTop(e)},r.prototype.getScrollTop=function(){return this.getCurrentModeEditor().getScrollTop()},r.prototype.reset=function(){this.wwEditor.setModel([]),this.mdEditor.setMarkdown("")},r.prototype.getSelection=function(){return this.getCurrentModeEditor().getSelection()},r.prototype.setPlaceholder=function(e){this.placeholder=e,this.mdEditor.setPlaceholder(e),this.wwEditor.setPlaceholder(e)},r.prototype.getEditorElements=function(){return{mdEditor:this.mdEditor.getElement(),mdPreview:this.preview.getElement(),wwEditor:this.wwEditor.getElement()}},r.prototype.convertPosToMatchEditorMode=function(e,t,n){var i,o;t===void 0&&(t=e),n===void 0&&(n=this.mode);var a=this.mdEditor.view.state.doc,s=Array.isArray(e),l=Array.isArray(t),u=e,c=t;if(s!==l)throw new Error("Types of arguments must be same");return n==="markdown"&&!s&&!l?(i=Zi(a,e,t),u=i[0],c=i[1]):n==="wysiwyg"&&s&&l&&(o=kr(a,e,t),u=o[0],c=o[1]),[u,c]},r})();function sae(r){for(var e,t,n=arguments,i=1,o="",a="",s=[0],l=function(c){i===1&&(c||(o=o.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?s.push(c?n[c]:o):i===3&&(c||o)?(s[1]=c?n[c]:o,i=2):i===2&&o==="..."&&c?s[2]=sl(s[2]||{},n[c]):i===2&&o&&!c?(s[2]=s[2]||{})[o]=!0:i>=5&&(i===5?((s[2]=s[2]||{})[t]=c?o?o+n[c]:n[c]:o,i=6):(c||o)&&(s[2][t]+=c?o+n[c]:o)),o=""},u=0;u<r.length;u++){u&&(i===1&&l(),l(u));for(let c=0;c<r[u].length;c++)e=r[u][c],i===1?e==="<"?(l(),s=[s,"",null],i=3):o+=e:i===4?o==="--"&&e===">"?(i=1,o=""):o=e+o[0]:a?e===a?a="":o+=e:e==='"'||e==="'"?a=e:e===">"?(l(),i=1):i&&(e==="="?(i=5,t=o,o=""):e==="/"&&(i<5||r[u][c+1]===">")?(l(),i===3&&(s=s[0]),i=s,(s=s[0]).push(this.apply(null,i.slice(1))),i=0):e===" "||e==="	"||e===`
`||e==="\r"?(l(),i=2):o+=e),i===3&&o==="!--"&&(i=4,s=s[0])}return l(),s.length>2?s.slice(1):s[1]}function lae(r){return typeof r=="boolean"||r instanceof Boolean}var uae=lae,cae=(function(){function r(e){this.current=e,this.root=e,this.entering=!0}return r.prototype.walk=function(){var e=this,t=e.entering,n=e.current;return n?(t?n.firstChild?(this.current=n.firstChild,this.entering=!0):this.entering=!1:n===this.root?this.current=null:n.next?(this.current=n.next,this.entering=!0):(this.current=n.parent,this.entering=!1),{vnode:n,entering:t}):null},r})(),at=(function(){function r(e,t,n){this.parent=null,this.old=null,this.firstChild=null,this.next=null,this.skip=!1,this.type=e,this.props=t,this.children=n,this.props.children=n,t.ref&&(this.ref=t.ref,delete t.ref),t.key&&(this.key=t.key,delete t.key)}return r.prototype.walker=function(){return new cae(this)},r.removalNodes=[],r})();function fae(r){return new at("TEXT_NODE",{nodeValue:r},[])}function Vd(r,e){var t=r;uae(r)||r==null?t=null:(Pt(r)||At(r))&&(t=fae(String(r))),t&&e.push(t)}function dae(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var i=[];return t.forEach(function(o){Array.isArray(o)?o.forEach(function(a){Vd(a,i)}):Vd(o,i)}),new at(r,e||{},i)}var X=sae.bind(dae);function pae(r){return r===Object(r)}var hae=pae;function vae(r){var e;return r.type==="TEXT_NODE"?e=document.createTextNode(r.props.nodeValue):(e=document.createElement(r.type),kv(e,{},r.props)),e}function xv(r,e){r.node?e.removeChild(r.node):xv(r.firstChild,e)}function mae(r,e,t){Object.keys(e).forEach(function(n){if(/^on/.test(n)){if(!t[n]||e[n]!==t[n]){var i=n.slice(2).toLowerCase();r.removeEventListener(i,e[n])}}else n!=="children"&&!t[n]&&!bw(r)&&r.removeAttribute(n)}),kv(r,e,t,function(n){return!nl(e[n],t[n])})}var gae=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function kv(r,e,t,n){Object.keys(t).forEach(function(i){if(!n||n(i))if(/^on/.test(i)){var o=i.slice(2).toLowerCase();r.addEventListener(o,t[i])}else i==="nodeValue"?r[i]=t[i]:i==="style"&&hae(t[i])?yae(r,e[i],t[i]):i!=="children"&&(t[i]===!1?r.removeAttribute(i):r.setAttribute(i,t[i]))})}function yae(r,e,t){e&&Object.keys(e).forEach(function(n){r.style[n]=""}),Object.keys(t).forEach(function(n){var i=t[n];r.style[n]=At(i)&&!gae.test(n)?i+"px":i})}function Ll(r){if(at.removalNodes.forEach(function(o){return _d(o)}),r){for(var e=void 0,t=r.walker();e=t.walk();)if(r=e.vnode,e.entering)_d(r);else if(Ze(r.type)){var n=r.component;if(!r.old&&n.mounted&&n.mounted(),r.old&&n.updated){var i=n.prevProps||{};n.updated(i)}}}}function Ud(r){for(var e=r.parent;!e.node;)e=e.parent;return e.node}function _d(r){if(!(!r||!r.parent)){if(r.node){var e=Ud(r);r.effect==="A"?e.appendChild(r.node):r.effect==="U"&&mae(r.node,r.old.props,r.props)}if(r.effect==="D"){for(var t=void 0,n=r.walker();t=n.walk();)if(r=t.vnode,!t.entering)if(Ze(r.type)){var i=r.component;i.beforeDestroy&&i.beforeDestroy()}else{var e=Ud(r);xv(r,e)}}r.ref&&(r.component?r.ref(r.component):r.node&&r.ref(r.node))}}function bae(r,e){var t=e.props,n=e.component;return n?(n.prevProps=n.props,n.props=e.props,n):new r(t)}function Tv(r){for(var e=r;r&&!r.skip;){if(Ze(r.type)){var t=bae(r.type,r);t.vnode=r,r.component=t,r.props.children=r.children=[t.render()],jd(r)}else r.node||(r.node=vae(r)),jd(r);if(r.firstChild)r=r.firstChild;else{for(;r&&r.parent&&!r.next&&(r=r.parent,r!==e););r=r.next}}}function wae(r,e){return r&&e&&e.type===r.type&&(!e.key||e.key===r.key)}function jd(r){var e=r.children,t=r.old?r.old.firstChild:null,n=null;e.forEach(function(o,a){var s=wae(t,o);s&&(o.old=t,o.parent=r,o.node=t.node,o.component=t.component,o.effect="U"),o&&!s&&(o.old=null,o.parent=r,o.node=null,o.effect="A"),t&&!s&&(at.removalNodes.push(t),t.effect="D"),t&&(t=t.next),a===0?r.firstChild=o:o&&(n.next=o),n=o});var i=Re(e);if(!e.length)for(;t;)at.removalNodes.push(t),t.effect="D",t=t.next;for(;t&&i;)t&&i.old!==t&&(at.removalNodes.push(t),t.effect="D",t=t.next)}function Cae(r){r.effect="D",at.removalNodes=[r],Ll(),at.removalNodes=[]}function xae(r){var e=r.vnode;e.effect="U",e.old=e,e.next&&(e.next.skip=!0),at.removalNodes=[],Tv(e),Ll(e),e.next&&(e.next.skip=!1)}function kae(r,e){var t=new at(r.tagName.toLowerCase(),{},[e]);return t.node=r,at.removalNodes=[],Tv(t),Ll(t),function(){return Cae(t.firstChild)}}var Pe=(function(){function r(e){this.props=e,this.state={},this.refs={}}return r.prototype.setState=function(e){var t=k(k({},this.state),e);nl(this.state,t)||(this.state=t,xae(this))},r})(),Tae=(function(r){D(e,r);function e(t){var n=r.call(this,t)||this;return n.state={hide:!1},n}return e.prototype.show=function(){this.setState({hide:!1})},e.prototype.hide=function(){this.setState({hide:!0})},e.prototype.render=function(){var t=this.props,n=t.editorType,i=t.eventEmitter;return X(Wd||(Wd=J([`
      <div class="`,'" style="display: ',`">
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
      </div>
    `],[`
      <div class="`,'" style="display: ',`">
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
      </div>
    `])),N("mode-switch"),this.state.hide?"none":"block",n==="markdown"?" active":"",function(){i.emit("needChangeMode","markdown")},z.get("Markdown"),n==="wysiwyg"?" active":"",function(){i.emit("needChangeMode","wysiwyg")},z.get("WYSIWYG"))},e})(Pe),Wd;function Eae(r,e){var t,n;e=e||0;function i(){n=Array.prototype.slice.call(arguments),window.clearTimeout(t),t=window.setTimeout(function(){r.apply(null,n)},e)}return i}var Sae=Eae,Mae=Sae;function Oae(r,e){var t,n=!0,i=function(c){r.apply(null,c),t=null},o,a,s;e=e||0,o=Mae(i,e);function l(){if(s=Array.prototype.slice.call(arguments),n){i(s),n=!1;return}a=Number(new Date),t=t||a,o(s),a-t>=e&&i(s)}function u(){n=!0,t=null}return l.reset=u,l}var Lae=Oae,Ev=(function(){if(typeof Map<"u")return Map;function r(e,t){var n=-1;return e.some(function(i,o){return i[0]===t?(n=o,!0):!1}),n}return(function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var n=r(this.__entries__,t),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(t,n){var i=r(this.__entries__,t);~i?this.__entries__[i][1]=n:this.__entries__.push([t,n])},e.prototype.delete=function(t){var n=this.__entries__,i=r(n,t);~i&&n.splice(i,1)},e.prototype.has=function(t){return!!~r(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,n){n===void 0&&(n=null);for(var i=0,o=this.__entries__;i<o.length;i++){var a=o[i];t.call(n,a[1],a[0])}},e})()})(),Zs=typeof window<"u"&&typeof document<"u"&&window.document===document,xo=(function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()})(),Aae=(function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(xo):function(r){return setTimeout(function(){return r(Date.now())},1e3/60)}})(),Dae=2;function Nae(r,e){var t=!1,n=!1,i=0;function o(){t&&(t=!1,r()),n&&s()}function a(){Aae(o)}function s(){var l=Date.now();if(t){if(l-i<Dae)return;n=!0}else t=!0,n=!1,setTimeout(a,e);i=l}return s}var Iae=20,Rae=["top","right","bottom","left","width","height","size","weight"],Pae=typeof MutationObserver<"u",Bae=(function(){function r(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Nae(this.refresh.bind(this),Iae)}return r.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},r.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},r.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},r.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},r.prototype.connect_=function(){!Zs||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Pae?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},r.prototype.disconnect_=function(){!Zs||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},r.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=t===void 0?"":t,i=Rae.some(function(o){return!!~n.indexOf(o)});i&&this.refresh()},r.getInstance=function(){return this.instance_||(this.instance_=new r),this.instance_},r.instance_=null,r})(),Sv=(function(r,e){for(var t=0,n=Object.keys(e);t<n.length;t++){var i=n[t];Object.defineProperty(r,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return r}),gn=(function(r){var e=r&&r.ownerDocument&&r.ownerDocument.defaultView;return e||xo}),Mv=Ho(0,0,0,0);function ko(r){return parseFloat(r)||0}function Gd(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(n,i){var o=r["border-"+i+"-width"];return n+ko(o)},0)}function Hae(r){for(var e=["top","right","bottom","left"],t={},n=0,i=e;n<i.length;n++){var o=i[n],a=r["padding-"+o];t[o]=ko(a)}return t}function Fae(r){var e=r.getBBox();return Ho(0,0,e.width,e.height)}function $ae(r){var e=r.clientWidth,t=r.clientHeight;if(!e&&!t)return Mv;var n=gn(r).getComputedStyle(r),i=Hae(n),o=i.left+i.right,a=i.top+i.bottom,s=ko(n.width),l=ko(n.height);if(n.boxSizing==="border-box"&&(Math.round(s+o)!==e&&(s-=Gd(n,"left","right")+o),Math.round(l+a)!==t&&(l-=Gd(n,"top","bottom")+a)),!qae(r)){var u=Math.round(s+o)-e,c=Math.round(l+a)-t;Math.abs(u)!==1&&(s-=u),Math.abs(c)!==1&&(l-=c)}return Ho(i.left,i.top,s,l)}var zae=(function(){return typeof SVGGraphicsElement<"u"?function(r){return r instanceof gn(r).SVGGraphicsElement}:function(r){return r instanceof gn(r).SVGElement&&typeof r.getBBox=="function"}})();function qae(r){return r===gn(r).document.documentElement}function Vae(r){return Zs?zae(r)?Fae(r):$ae(r):Mv}function Uae(r){var e=r.x,t=r.y,n=r.width,i=r.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,a=Object.create(o.prototype);return Sv(a,{x:e,y:t,width:n,height:i,top:t,right:e+n,bottom:i+t,left:e}),a}function Ho(r,e,t,n){return{x:r,y:e,width:t,height:n}}var _ae=(function(){function r(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Ho(0,0,0,0),this.target=e}return r.prototype.isActive=function(){var e=Vae(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},r.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},r})(),jae=(function(){function r(e,t){var n=Uae(t);Sv(this,{target:e,contentRect:n})}return r})(),Wae=(function(){function r(e,t,n){if(this.activeObservations_=[],this.observations_=new Ev,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return r.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof gn(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new _ae(e)),this.controller_.addObserver(this),this.controller_.refresh())}},r.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof gn(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},r.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},r.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},r.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(n){return new jae(n.target,n.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},r.prototype.clearActive=function(){this.activeObservations_.splice(0)},r.prototype.hasActive=function(){return this.activeObservations_.length>0},r})(),Ov=typeof WeakMap<"u"?new WeakMap:new Ev,Lv=(function(){function r(e){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=Bae.getInstance(),n=new Wae(e,t,this);Ov.set(this,n)}return r})();["observe","unobserve","disconnect"].forEach(function(r){Lv.prototype[r]=function(){var e;return(e=Ov.get(this))[r].apply(e,arguments)}});var Gae=(function(){return typeof xo.ResizeObserver<"u"?xo.ResizeObserver:Lv})(),Kae=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.execCommand=function(t){var n=mt(t.target,"li");this.props.execCommand("heading",{level:Number(n.getAttribute("data-level"))})},e.prototype.render=function(){var t=this;return X(Jd||(Jd=J([`
      <ul
        onClick=`,`
        aria-role="menu"
        aria-label="`,`"
      >
        `,`
        <li data-type="Paragraph" aria-role="menuitem">
          <div>`,`</div>
        </li>
      </ul>
    `],[`
      <ul
        onClick=`,`
        aria-role="menu"
        aria-label="`,`"
      >
        `,`
        <li data-type="Paragraph" aria-role="menuitem">
          <div>`,`</div>
        </li>
      </ul>
    `])),function(n){return t.execCommand(n)},z.get("Headings"),[1,2,3,4,5,6].map(function(n){return X(Kd||(Kd=J([`
              <li data-level="`,`" data-type="Heading" aria-role="menuitem">
                <`,">"," ",`</$>
              </li>
            `],[`
              <li data-level="`,`" data-type="Heading" aria-role="menuitem">
                <`,">"," ",`</$>
              </li>
            `])),n,"h"+n,z.get("Heading"),n)}),z.get("Paragraph"))},e})(Pe),Kd,Jd,Av=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.toggleTab=function(t,n){this.props.onClick(t,n)},e.prototype.render=function(){var t=this;return X(Yd||(Yd=J([`
      <div class="`,`" aria-role="tabpanel">
        `,`
      </div>
    `],[`
      <div class="`,`" aria-role="tabpanel">
        `,`
      </div>
    `])),N("tabs"),this.props.tabs.map(function(n){var i=n.name,o=n.text,a=t.props.activeTab===i;return X(Xd||(Xd=J([`
            <div
              class="tab-item`,`"
              onClick=`,`
              aria-role="tab"
              aria-label="`,`"
              aria-selected="`,`"
              tabindex="`,`"
            >
              `,`
            </div>
          `],[`
            <div
              class="tab-item`,`"
              onClick=`,`
              aria-role="tab"
              aria-label="`,`"
              aria-selected="`,`"
              tabindex="`,`"
            >
              `,`
            </div>
          `])),a?" active":"",function(s){return t.toggleTab(s,i)},z.get(o),a?"true":"false",a?"0":"-1",z.get(o))}))},e})(Pe),Xd,Yd,Jae="ui",Xae=(function(r){D(e,r);function e(t){var n=r.call(this,t)||this;return n.initialize=function(i){i===void 0&&(i="file");var o=n.refs.url;o.value="",n.refs.altText.value="",n.refs.file.value="",it(o,"wrong"),n.setState({activeTab:i,file:null,fileNameElClassName:""})},n.execCommand=function(){n.state.activeTab==="file"?n.emitAddImageBlob():n.emitAddImage()},n.toggleTab=function(i,o){o!==n.state.activeTab&&n.initialize(o)},n.showFileSelectBox=function(){n.refs.file.click()},n.changeFile=function(i){var o=i.target.files;o?.length&&n.setState({file:o[0]})},n.state={activeTab:"file",file:null,fileNameElClassName:""},n.tabs=[{name:"file",text:"File"},{name:"url",text:"URL"}],n}return e.prototype.emitAddImageBlob=function(){var t=this,n=this.refs.file.files,i=this.refs.altText,o=" wrong";if(n?.length){o="";var a=n.item(0),s=function(l,u){return t.props.execCommand("addImage",{imageUrl:l,altText:u||i.value})};this.props.eventEmitter.emit("addImageBlobHook",a,s,Jae)}this.setState({fileNameElClassName:o})},e.prototype.emitAddImage=function(){var t=this.refs.url,n=this.refs.altText,i=t.value,o=n.value||"image";if(it(t,"wrong"),!i.length){vt(t,"wrong");return}i&&this.props.execCommand("addImage",{imageUrl:i,altText:o})},e.prototype.preventSelectStart=function(t){t.preventDefault()},e.prototype.updated=function(){this.props.show||this.initialize()},e.prototype.render=function(){var t=this,n=this.state,i=n.activeTab,o=n.file,a=n.fileNameElClassName;return X(Qd||(Qd=J([`
      <div aria-label="`,`">
        <`," tabs="," activeTab="," onClick=",` />
        <div style="display:`,`">
          <label for="toastuiImageUrlInput">`,`</label>
          <input
            id="toastuiImageUrlInput"
            type="text"
            ref=`,`
          />
        </div>
        <div style="display:`,`;position: relative;">
          <label for="toastuiImageFileInput">`,`</label>
          <span
            class="`,"",`"
            onClick=`,`
            onSelectstart=`,`
          >
            `,`
          </span>
          <button
            type="button"
            class="`,`"
            onClick=`,`
          >
            `,`
          </button>
          <input
            id="toastuiImageFileInput"
            type="file"
            accept="image/*"
            onChange=`,`
            ref=`,`
          />
        </div>
        <label for="toastuiAltTextInput">`,`</label>
        <input
          id="toastuiAltTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `],[`
      <div aria-label="`,`">
        <`," tabs="," activeTab="," onClick=",` />
        <div style="display:`,`">
          <label for="toastuiImageUrlInput">`,`</label>
          <input
            id="toastuiImageUrlInput"
            type="text"
            ref=`,`
          />
        </div>
        <div style="display:`,`;position: relative;">
          <label for="toastuiImageFileInput">`,`</label>
          <span
            class="`,"",`"
            onClick=`,`
            onSelectstart=`,`
          >
            `,`
          </span>
          <button
            type="button"
            class="`,`"
            onClick=`,`
          >
            `,`
          </button>
          <input
            id="toastuiImageFileInput"
            type="file"
            accept="image/*"
            onChange=`,`
            ref=`,`
          />
        </div>
        <label for="toastuiAltTextInput">`,`</label>
        <input
          id="toastuiAltTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `])),z.get("Insert image"),Av,this.tabs,i,this.toggleTab,i==="url"?"block":"none",z.get("Image URL"),function(s){return t.refs.url=s},i==="file"?"block":"none",z.get("Select image file"),N("file-name"),o?" has-file":a,this.showFileSelectBox,this.preventSelectStart,o?o.name:z.get("No file"),N("file-select-button"),this.showFileSelectBox,z.get("Choose a file"),this.changeFile,function(s){return t.refs.file=s},z.get("Description"),function(s){return t.refs.altText=s},N("button-container"),N("close-button"),this.props.hidePopup,z.get("Cancel"),N("ok-button"),this.execCommand,z.get("OK"))},e})(Pe),Qd,Yae=(function(r){D(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.execCommand=function(){var n=t.refs.url,i=t.refs.text;if(it(n,"wrong"),it(i,"wrong"),n.value.length<1){vt(n,"wrong");return}var o=st(t.props.initialValues.linkUrl);if(o&&i.value.length<1){vt(i,"wrong");return}t.props.execCommand("addLink",{linkUrl:n.value,linkText:i.value})},t}return e.prototype.initialize=function(){var t=this.props.initialValues,n=t.linkUrl,i=t.linkText,o=this.refs.url,a=this.refs.text;it(o,"wrong"),it(a,"wrong","disabled"),a.removeAttribute("disabled"),n&&(vt(a,"disabled"),a.setAttribute("disabled","disabled")),o.value=n||"",a.value=i||""},e.prototype.mounted=function(){this.initialize()},e.prototype.updated=function(t){!t.show&&this.props.show&&this.initialize()},e.prototype.render=function(){var t=this;return X(Zd||(Zd=J([`
      <div aria-label="`,`">
        <label for="toastuiLinkUrlInput">`,`</label>
        <input
          id="toastuiLinkUrlInput"
          type="text"
          ref=`,`
        />
        <label for="toastuiLinkTextInput">`,`</label>
        <input
          id="toastuiLinkTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `],[`
      <div aria-label="`,`">
        <label for="toastuiLinkUrlInput">`,`</label>
        <input
          id="toastuiLinkUrlInput"
          type="text"
          ref=`,`
        />
        <label for="toastuiLinkTextInput">`,`</label>
        <input
          id="toastuiLinkTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `])),z.get("Insert link"),z.get("URL"),function(n){return t.refs.url=n},z.get("Link text"),function(n){return t.refs.text=n},N("button-container"),N("close-button"),this.props.hidePopup,z.get("Cancel"),N("ok-button"),this.execCommand,z.get("OK"))},e})(Pe),Zd,ep=20,tp=20,rp=5,np=14,ip=5,op=9,Qae=1,Zae=1,ap=1,ese=(function(r){D(e,r);function e(t){var n=r.call(this,t)||this;return n.extendSelectionRange=function(i){var o=i.pageX,a=i.pageY,s=o-n.offsetRect.left,l=a-n.offsetRect.top,u=n.getSelectionRangeByOffset(s,l);n.setState(k({},u))},n.execCommand=function(){n.props.execCommand("addTable",{rowCount:n.state.rowIdx+1,columnCount:n.state.colIdx+1})},n.state={rowIdx:-1,colIdx:-1},n}return e.prototype.getDescription=function(){return this.state.colIdx===-1?"":this.state.colIdx+1+" x "+(this.state.rowIdx+1)},e.prototype.getBoundByRange=function(t,n){return{width:(t+1)*ep,height:(n+1)*tp}},e.prototype.getRangeByOffset=function(t,n){return{colIdx:Math.floor(t/ep),rowIdx:Math.floor(n/tp)}},e.prototype.getTableRange=function(){var t=this.state,n=t.colIdx,i=t.rowIdx,o=Math.max(n,ip),a=Math.max(i,rp);return n>=ip&&o<op&&(o+=1),i>=rp&&a<np&&(a+=1),{colIdx:o+1,rowIdx:a+1}},e.prototype.getSelectionAreaBound=function(){var t=this.getBoundByRange(this.state.colIdx,this.state.rowIdx),n=t.width,i=t.height;return!n&&!i?{display:"none"}:{width:n-ap,height:i-ap,display:"block"}},e.prototype.getSelectionRangeByOffset=function(t,n){var i=this.getRangeByOffset(t,n);return i.rowIdx=Math.min(Math.max(i.rowIdx,Qae),np),i.colIdx=Math.min(Math.max(i.colIdx,Zae),op),i},e.prototype.updated=function(){if(!this.props.show)this.setState({colIdx:-1,rowIdx:-1});else if(this.state.colIdx===-1&&this.state.rowIdx===-1){var t=this.refs.tableEl.getBoundingClientRect(),n=t.left,i=t.top;this.offsetRect={left:window.pageXOffset+n,top:window.pageYOffset+i}}},e.prototype.createTableArea=function(t){for(var n=t.colIdx,i=t.rowIdx,o=[],a=0;a<i;a+=1){for(var s=[],l=0;l<n;l+=1){var u=""+N("table-cell")+(a>0?"":" header");s.push(X(sp||(sp=J(['<div class="','"></div>'],['<div class="','"></div>'])),u))}o.push(X(lp||(lp=J(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),N("table-row"),s))}return X(up||(up=J(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),N("table"),o)},e.prototype.render=function(){var t=this,n=this.getTableRange(),i=this.getSelectionAreaBound();return X(cp||(cp=J([`
      <div aria-label="`,`">
        <div
          class="`,`"
          ref=`,`
          onMousemove=`,`
          onClick=`,`
        >
          `,`
          <div class="`,'" style=',`></div>
        </div>
        <p class="`,'">',`</p>
      </div>
    `],[`
      <div aria-label="`,`">
        <div
          class="`,`"
          ref=`,`
          onMousemove=`,`
          onClick=`,`
        >
          `,`
          <div class="`,'" style=',`></div>
        </div>
        <p class="`,'">',`</p>
      </div>
    `])),z.get("Insert table"),N("table-selection"),function(o){return t.refs.tableEl=o},this.extendSelectionRange,this.execCommand,this.createTableArea(n),N("table-selection-layer"),i,N("table-description"),this.getDescription())},e})(Pe),sp,lp,up,cp,tse=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.mounted=function(){this.refs.el.appendChild(this.props.body)},e.prototype.updated=function(t){this.refs.el.replaceChild(this.props.body,t.body)},e.prototype.render=function(){var t=this;return X(fp||(fp=J(["<div ref=","></div>"],["<div ref=","></div>"])),function(n){return t.refs.el=n})},e})(Pe),fp;function el(r){return Pt(r)?nse(r):r}function rse(){var r=document.createElement("label"),e=document.createElement("input"),t=document.createElement("span");r.className="scroll-sync active",e.type="checkbox",e.checked=!0,t.className="switch";var n=function(i){return e.addEventListener("change",function(o){var a=o.target.checked;a?vt(r,"active"):it(r,"active"),i("toggleScrollSync",{active:a})})};return r.appendChild(e),r.appendChild(t),{name:"scrollSync",el:r,onMounted:n}}function nse(r){var e;switch(r){case"heading":e={name:"heading",className:"heading",tooltip:z.get("Headings"),state:"heading"};break;case"bold":e={name:"bold",className:"bold",command:"bold",tooltip:z.get("Bold"),state:"strong"};break;case"italic":e={name:"italic",className:"italic",command:"italic",tooltip:z.get("Italic"),state:"emph"};break;case"strike":e={name:"strike",className:"strike",command:"strike",tooltip:z.get("Strike"),state:"strike"};break;case"hr":e={name:"hr",className:"hrline",command:"hr",tooltip:z.get("Line"),state:"thematicBreak"};break;case"quote":e={name:"quote",className:"quote",command:"blockQuote",tooltip:z.get("Blockquote"),state:"blockQuote"};break;case"ul":e={name:"ul",className:"bullet-list",command:"bulletList",tooltip:z.get("Unordered list"),state:"bulletList"};break;case"ol":e={name:"ol",className:"ordered-list",command:"orderedList",tooltip:z.get("Ordered list"),state:"orderedList"};break;case"task":e={name:"task",className:"task-list",command:"taskList",tooltip:z.get("Task"),state:"taskList"};break;case"table":e={name:"table",className:"table",tooltip:z.get("Insert table"),state:"table"};break;case"image":e={name:"image",className:"image",tooltip:z.get("Insert image")};break;case"link":e={name:"link",className:"link",tooltip:z.get("Insert link")};break;case"code":e={name:"code",className:"code",command:"code",tooltip:z.get("Code"),state:"code"};break;case"codeblock":e={name:"codeblock",className:"codeblock",command:"codeBlock",tooltip:z.get("Insert CodeBlock"),state:"codeBlock"};break;case"indent":e={name:"indent",className:"indent",command:"indent",tooltip:z.get("Indent"),state:"indent"};break;case"outdent":e={name:"outdent",className:"outdent",command:"outdent",tooltip:z.get("Outdent"),state:"outdent"};break;case"scrollSync":e=rse();break;case"more":e={name:"more",className:"more",tooltip:z.get("More")};break}return e.name!=="scrollSync"&&(e.className+=" "+N("toolbar-icons")),e}function Al(r,e){var t=e.el,n=e.pos,i=e.popup,o=e.initialValues;switch(r){case"heading":return{render:function(a){return X(dp||(dp=J(["<"," ..."," />"],["<"," ..."," />"])),Kae,a)},className:N("popup-add-heading"),fromEl:t,pos:n};case"link":return{render:function(a){return X(pp||(pp=J(["<"," ..."," />"],["<"," ..."," />"])),Yae,a)},className:N("popup-add-link"),fromEl:t,pos:n,initialValues:o};case"image":return{render:function(a){return X(hp||(hp=J(["<"," ..."," />"],["<"," ..."," />"])),Xae,a)},className:N("popup-add-image"),fromEl:t,pos:n};case"table":return{render:function(a){return X(vp||(vp=J(["<"," ..."," />"],["<"," ..."," />"])),ese,a)},className:N("popup-add-table"),fromEl:t,pos:n};case"customPopupBody":return i?k({render:function(a){return X(mp||(mp=J(["<"," ..."," body="," />"],["<"," ..."," body="," />"])),tse,a,i.body)},fromEl:t,pos:n},i):null;default:return null}}function To(r){r.hidden=r.length===r.filter(function(e){return e.hidden}).length}function ise(r,e){var t=function(n){return n.hidden=n.name==="scrollSync"&&e,n};return r.reduce(function(n,i){n.push(i.map(function(a){return t(el(a))}));var o=n[(n.length||1)-1];return o&&To(o),n},[])}function ose(r,e){r.forEach(function(t){t.forEach(function(n){return n.hidden=n.name==="scrollSync"&&e}),To(t)})}var dp,pp,hp,vp,mp,ase=20,sse=(function(r){D(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.handleMousedown=function(n){!mt(n.target,"."+N("popup"))&&!mt(n.target,t.props.info.fromEl)&&t.props.hidePopup()},t}return e.prototype.mounted=function(){document.addEventListener("mousedown",this.handleMousedown),this.props.eventEmitter.listen("closePopup",this.props.hidePopup)},e.prototype.beforeDestroy=function(){document.removeEventListener("mousedown",this.handleMousedown)},e.prototype.updated=function(t){var n=this.props,i=n.show,o=n.info;if(i&&o.pos&&t.show!==i){var a=k({},o.pos),s=this.refs.el.offsetWidth,l=mt(this.refs.el,"."+N("toolbar")),u=l.offsetWidth;a.left+s>=u&&(a.left=u-s-ase),nl(this.state.popupPos,a)||this.setState({popupPos:a})}},e.prototype.render=function(){var t=this,n=this.props,i=n.info,o=n.show,a=n.hidePopup,s=n.eventEmitter,l=n.execCommand,u=i||{},c=u.className,f=c===void 0?"":c,d=u.style,p=u.render,h=u.initialValues,v=h===void 0?{}:h,m=k(k({display:o?"block":"none"},d),this.state.popupPos);return X(gp||(gp=J([`
      <div
        class="`," ",`"
        style=`,`
        ref=`,`
        aria-role="dialog"
      >
        <div class="`,`">
          `,`
        </div>
      </div>
    `],[`
      <div
        class="`," ",`"
        style=`,`
        ref=`,`
        aria-role="dialog"
      >
        <div class="`,`">
          `,`
        </div>
      </div>
    `])),N("popup"),f,m,function(g){return t.refs.el=g},N("popup-body"),p&&p({eventEmitter:s,show:o,hidePopup:a,execCommand:l,initialValues:v}))},e})(Pe),gp,yp=6;function Dl(r){return(function(e){D(t,e);function t(n){var i=e.call(this,n)||this;return i.showTooltip=function(o){var a=i.props.item.tooltip;if(!i.props.disabled&&a){var s=i.getBound(o),l=s.left+yp+"px",u=s.top+yp+"px";gt(i.props.tooltipRef.current,{display:"block",left:l,top:u}),i.props.tooltipRef.current.querySelector(".text").textContent=a}},i.hideTooltip=function(){gt(i.props.tooltipRef.current,"display","none")},i.state={active:!1,disabled:n.disabled},i.addEvent(),i}return t.prototype.addEvent=function(){var n=this,i=this.props,o=i.item,a=i.eventEmitter;o.state&&a.listen("changeToolbarState",function(s){var l,u=s.toolbarState,c=(l=u[o.state])!==null&&l!==void 0?l:{},f=c.active,d=c.disabled;n.setState({active:!!f,disabled:d??n.props.disabled})})},t.prototype.getBound=function(n){var i=Xp(n,mt(n,"."+N("toolbar"))),o=i.offsetLeft,a=i.offsetTop;return{left:o,top:n.offsetHeight+a}},t.prototype.render=function(){return X(bp||(bp=J([`
        <`,`
          ...`,`
          active=`,`
          showTooltip=`,`
          hideTooltip=`,`
          getBound=`,`
          disabled=`,`
        />
      `],[`
        <`,`
          ...`,`
          active=`,`
          showTooltip=`,`
          hideTooltip=`,`
          getBound=`,`
          disabled=`,`
        />
      `])),r,this.props,this.state.active,this.showTooltip,this.hideTooltip,this.getBound,this.state.disabled||this.props.disabled)},t})(Pe)}var bp,lse=80,use=(function(r){D(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.showTooltip=function(){t.props.showTooltip(t.refs.el)},t.execCommand=function(){var n=t.props,i=n.item,o=n.execCommand,a=n.setPopupInfo,s=n.getBound,l=n.eventEmitter,u=i.command,c=i.name,f=i.popup;if(u)o(u);else{var d=f?"customPopupBody":c,p=l.emit("query","getPopupInitialValues",{popupName:d})[0],h=Al(d,{el:t.refs.el,pos:s(t.refs.el),popup:f,initialValues:p});h&&a(h)}},t}return e.prototype.mounted=function(){this.setItemWidth()},e.prototype.updated=function(t){t.item.name!==this.props.item.name&&this.setItemWidth()},e.prototype.setItemWidth=function(){var t=this.props,n=t.setItemWidth,i=t.item;n&&n(i.name,dl(this.refs.el)+(i.hidden?lse:0))},e.prototype.render=function(){var t=this,n=this.props,i=n.hideTooltip,o=n.disabled,a=n.item,s=n.active,l=k({display:a.hidden?"none":null},a.style),u=""+(a.className||"")+(s?" active":"");return X(wp||(wp=J([`
      <button
        ref=`,`
        type="button"
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
        disabled=`,`
        aria-label=`,`
      >
        `,`
      </button>
    `],[`
      <button
        ref=`,`
        type="button"
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
        disabled=`,`
        aria-label=`,`
      >
        `,`
      </button>
    `])),function(c){return t.refs.el=c},l,u,this.execCommand,this.showTooltip,i,!!o,a.text||a.tooltip||"",a.text||"")},e})(Pe),cse=Dl(use),wp,fse=(function(r){D(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.showTooltip=function(){t.props.showTooltip(t.refs.el)},t.showPopup=function(){var n=Al("customPopupBody",{el:t.refs.el,pos:t.props.getBound(t.refs.el),popup:t.props.item.popup});n&&t.props.setPopupInfo(n)},t}return e.prototype.mounted=function(){var t=this.props,n=t.setItemWidth,i=t.item;this.refs.el.appendChild(i.el),n&&n(i.name,dl(this.refs.el)),i.onMounted&&i.onMounted(this.props.execCommand)},e.prototype.updated=function(t){var n,i=this.props,o=i.item,a=i.active,s=i.disabled;(t.active!==a||t.disabled!==s)&&((n=o.onUpdated)===null||n===void 0||n.call(o,{active:a,disabled:s}))},e.prototype.render=function(){var t=this,n=this.props,i=n.disabled,o=n.item,a={display:o.hidden?"none":"inline-block"},s=function(l){return i?null:l};return X(Cp||(Cp=J([`
      <div
        ref=`,`
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
      ></div>
    `],[`
      <div
        ref=`,`
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
      ></div>
    `])),function(l){return t.refs.el=l},a,N("toolbar-item-wrapper"),s(this.showPopup),s(this.showTooltip),s(this.props.hideTooltip))},e})(Pe),dse=Dl(fse),Cp,Dv=(function(r){D(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.render=function(){var t=this,n=this.props,i=n.group,o=n.hiddenDivider,a=i.hidden?{display:"none"}:null,s=o?{display:"none"}:null;return X(kp||(kp=J([`
      <div class="`,'" style=',`>
        `,`
        <div class="`,'" style=',`></div>
      </div>
    `],[`
      <div class="`,'" style=',`>
        `,`
        <div class="`,'" style=',`></div>
      </div>
    `])),N("toolbar-group"),a,i.map(function(l){var u=l.el?dse:cse;return X(xp||(xp=J(["<"," key="," ..."," item="," />"],["<"," key="," ..."," item="," />"])),u,l.name,t.props,l)}),N("toolbar-divider"),s)},e})(Pe),xp,kp,pse=4,hse=(function(r){D(e,r);function e(t){var n=r.call(this,t)||this;return n.handleClickDocument=function(i){var o=i.target;!mt(o,"."+N("dropdown-toolbar"))&&!mt(o,".more")&&n.setState({showDropdown:!1,dropdownPos:null})},n.showTooltip=function(){n.props.showTooltip(n.refs.el)},n.state={showDropdown:!1,dropdownPos:null},n}return e.prototype.getBound=function(){var t=this.props.getBound(this.refs.el);return t.top+=pse,k(k({},t),{left:null,right:10})},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.updated=function(){this.state.showDropdown&&!this.state.dropdownPos&&this.setState({dropdownPos:this.getBound()})},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.render=function(){var t=this,n=this.state,i=n.showDropdown,o=n.dropdownPos,a=this.props,s=a.disabled,l=a.item,u=a.items,c=a.hideTooltip,f=u.filter(function(h){return!h.hidden}),d=f.length?null:{display:"none"},p=i?null:{display:"none"};return X(Ep||(Ep=J([`
      <div class="`,'" style=',`>
        <button
          ref=`,`
          type="button"
          class=`,`
          onClick=`,`
          onMouseover=`,`
          onMouseout=`,`
          disabled=`,`
        ></button>
        <div
          class="`,`"
          style=`,`
          ref=`,`
        >
          `,`
        </div>
      </div>
    `],[`
      <div class="`,'" style=',`>
        <button
          ref=`,`
          type="button"
          class=`,`
          onClick=`,`
          onMouseover=`,`
          onMouseout=`,`
          disabled=`,`
        ></button>
        <div
          class="`,`"
          style=`,`
          ref=`,`
        >
          `,`
        </div>
      </div>
    `])),N("toolbar-group"),d,function(h){return t.refs.el=h},l.className,function(){return t.setState({showDropdown:!0})},this.showTooltip,c,s,N("dropdown-toolbar"),k(k({},p),o),function(h){return t.refs.dropdownEl=h},f.length?f.map(function(h,v){var m;return X(Tp||(Tp=J([`
                  <`,`
                    group=`,`
                    hiddenDivider=`,`
                    ...`,`
                  />
                `],[`
                  <`,`
                    group=`,`
                    hiddenDivider=`,`
                    ...`,`
                  />
                `])),Dv,h,v===f.length-1||((m=f[v+1])===null||m===void 0?void 0:m.hidden),t.props)}):null)},e})(Pe),vse=Dl(hse),Tp,Ep,mse=50,gse=(function(r){D(e,r);function e(t){var n=r.call(this,t)||this;return n.toggleTab=function(i,o){var a=n.props.eventEmitter;if(n.state.activeTab!==o){var s=o==="write"?"changePreviewTabWrite":"changePreviewTabPreview";a.emit(s),n.setState({activeTab:o})}},n.setItemWidth=function(i,o){n.itemWidthMap[i]=o},n.setPopupInfo=function(i){n.setState({showPopup:!0,popupInfo:i})},n.openPopup=function(i,o){o===void 0&&(o={});var a=n.refs.el.querySelector("."+N("toolbar-group")+" ."+i);if(a){var s=Xp(a,mt(a,"."+N("toolbar"))),l=s.offsetLeft,u=s.offsetTop,c=Al(i,{el:a,pos:{left:l,top:a.offsetHeight+u},initialValues:o});c&&n.setPopupInfo(c)}},n.hidePopup=function(){n.state.showPopup&&n.setState({showPopup:!1})},n.execCommand=function(i,o){var a=n.props.eventEmitter;a.emit("command",i,o),n.hidePopup()},n.tabs=[{name:"write",text:"Write"},{name:"preview",text:"Preview"}],n.itemWidthMap={},n.initialItems=ise(t.toolbarItems||[],n.hiddenScrollSync()),n.state={items:n.initialItems,dropdownItems:[],showPopup:!1,popupInfo:{},activeTab:"write"},n.tooltipRef={current:null},n.resizeObserver=new Gae(function(){return n.handleResize()}),n.addEvent(),n}return e.prototype.insertToolbarItem=function(t,n){var i=t.groupIndex,o=t.itemIndex,a=this.initialItems[i];n=el(n),a?a.splice(o,0,n):this.initialItems.push([n]),this.setState(this.classifyToolbarItems())},e.prototype.removeToolbarItem=function(t){var n=this;un(this.initialItems,function(i){var o=!1;return un(i,function(a,s){return a.name===t?(o=!0,i.splice(s,1),n.setState(n.classifyToolbarItems()),!1):!0}),!o})},e.prototype.addEvent=function(){var t=this,n=this.props.eventEmitter;this.handleResize=Lae(function(){t.setState({items:t.initialItems,dropdownItems:[]}),t.setState(t.classifyToolbarItems())},200),n.listen("openPopup",this.openPopup)},e.prototype.appendTooltipToRoot=function(){var t='<div class="'+N("tooltip")+`" style="display:none">
        <div class="arrow"></div>
        <span class="text"></span>
      </div>`;this.tooltipRef.current=Jp(t,this.refs.el)},e.prototype.hiddenScrollSync=function(){return this.props.editorType==="wysiwyg"||this.props.previewStyle==="tab"},e.prototype.movePrevItemToDropdownToolbar=function(t,n,i,o){var a=function(l){var u=l.pop();u&&o.push(u)};if(t>1)a(i);else{var s=Re(n);s&&a(s)}},e.prototype.classifyToolbarItems=function(){var t=this,n=0,i=this.refs.el.clientWidth,o=this.refs.el.querySelector("."+N("toolbar-divider")),a=o?dl(o):0,s=[],l=[],u=!1;return this.initialItems.forEach(function(c,f){var d=[],p=[];c.forEach(function(h,v){h.hidden||(n+=t.itemWidthMap[h.name],n>i-mse?(u||(t.movePrevItemToDropdownToolbar(v,s,d,p),u=!0),p.push(h)):d.push(h))}),d.length&&(To(d),s.push(d)),p.length&&(To(p),l.push(p)),f<t.state.items.length-1&&(n+=a)}),{items:s,dropdownItems:l}},e.prototype.mounted=function(){this.props.previewStyle==="tab"&&this.props.eventEmitter.emit("changePreviewTabWrite",!0),this.setState(this.classifyToolbarItems()),this.appendTooltipToRoot(),this.resizeObserver.observe(this.refs.el)},e.prototype.updated=function(t){var n=this.props,i=n.editorType,o=n.previewStyle,a=n.eventEmitter,s=o!==t.previewStyle,l=i!==t.editorType;if(s||l){ose(this.initialItems,this.hiddenScrollSync());var u=this.classifyToolbarItems();(s||o==="tab"&&i==="markdown")&&(a.emit("changePreviewTabWrite"),u.activeTab="write"),this.setState(u)}},e.prototype.beforeDestroy=function(){window.removeEventListener("resize",this.handleResize),this.resizeObserver.disconnect(),Mr(this.tooltipRef.current)},e.prototype.render=function(){var t=this,n=this.props,i=n.previewStyle,o=n.eventEmitter,a=n.editorType,s=this.state,l=s.popupInfo,u=s.showPopup,c=s.activeTab,f=s.items,d=s.dropdownItems,p={eventEmitter:o,tooltipRef:this.tooltipRef,disabled:a==="markdown"&&i==="tab"&&c==="preview",execCommand:this.execCommand,setPopupInfo:this.setPopupInfo},h=i==="tab"?{borderTopLeftRadius:0}:null;return X(Mp||(Mp=J([`
      <div class="`,`">
        <div
          class="`,`"
          style="display: `,`"
        >
          <`," tabs="," activeTab="," onClick=",` />
        </div>
        <div
          class="`,`"
          ref=`,`
          style=`,`
        >
          `,`
          <`,`
            item=`,`
            items=`,`
            ...`,`
          />
        </div>
        <`,`
          info=`,`
          show=`,`
          eventEmitter=`,`
          hidePopup=`,`
          execCommand=`,`
        />
      </div>
    `],[`
      <div class="`,`">
        <div
          class="`,`"
          style="display: `,`"
        >
          <`," tabs="," activeTab="," onClick=",` />
        </div>
        <div
          class="`,`"
          ref=`,`
          style=`,`
        >
          `,`
          <`,`
            item=`,`
            items=`,`
            ...`,`
          />
        </div>
        <`,`
          info=`,`
          show=`,`
          eventEmitter=`,`
          hidePopup=`,`
          execCommand=`,`
        />
      </div>
    `])),N("toolbar"),N("md-tab-container"),a==="wysiwyg"||i==="vertical"?"none":"block",Av,this.tabs,c,this.toggleTab,N("defaultUI-toolbar"),function(v){return t.refs.el=v},h,f.map(function(v,m){var g;return X(Sp||(Sp=J([`
              <`,`
                group=`,`
                hiddenDivider=`,`
                setItemWidth=`,`
                ...`,`
              />
            `],[`
              <`,`
                group=`,`
                hiddenDivider=`,`
                setItemWidth=`,`
                ...`,`
              />
            `])),Dv,v,m===f.length-1||((g=f[m+1])===null||g===void 0?void 0:g.hidden),t.setItemWidth,p)}),vse,el("more"),d,p,sse,l,u,o,this.hidePopup,this.execCommand)},e})(Pe),Sp,Mp,yse=(function(r){D(e,r);function e(t){var n=r.call(this,t)||this;return n.handleClickDocument=function(i){mt(i.target,"."+N("context-menu"))||n.setState({pos:null})},n.state={pos:null,menuGroups:[]},n.addEvent(),n}return e.prototype.addEvent=function(){var t=this;this.props.eventEmitter.listen("contextmenu",function(n){var i=n.pos,o=n.menuGroups;t.setState({pos:i,menuGroups:o})})},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.getMenuGroupElements=function(){var t=this,n=this.state,i=n.pos,o=n.menuGroups;return i?o.reduce(function(a,s){var l=[];return s.forEach(function(u){var c=u.label,f=u.className,d=f===void 0?!1:f,p=u.disabled,h=u.onClick,v=function(){p||(h(),t.setState({pos:null}))};l.push(X(Op||(Op=J([`
                <li
                  onClick=`,`
                  class="menu-item`,`"
                  aria-role="menuitem"
                >
                  <span class="`,'">',`</span>
                </li>
              `],[`
                <li
                  onClick=`,`
                  class="menu-item`,`"
                  aria-role="menuitem"
                >
                  <span class="`,'">',`</span>
                </li>
              `])),v,p?" disabled":"",d,c))}),a.push(X(Lp||(Lp=J([`<ul class="menu-group">
              `,`
            </ul>`],[`<ul class="menu-group">
              `,`
            </ul>`])),l)),a},[]):[]},e.prototype.render=function(){var t=k({display:this.state.pos?"block":"none"},this.state.pos);return X(Ap||(Ap=J(['<div class="','" style=',` aria-role="menu">
      `,`
    </div>`],['<div class="','" style=',` aria-role="menu">
      `,`
    </div>`])),N("context-menu"),t,this.getMenuGroupElements())},e})(Pe),Op,Lp,Ap,bse=(function(r){D(e,r);function e(t){var n=r.call(this,t)||this;n.changeMode=function(a){a!==n.state.editorType&&n.setState({editorType:a})},n.changePreviewStyle=function(a){a!==n.state.previewStyle&&n.setState({previewStyle:a})},n.hide=function(){n.setState({hide:!0})},n.show=function(){n.setState({hide:!1})};var i=t.editorType,o=t.previewStyle;return n.state={editorType:i,previewStyle:o,hide:!1},n.addEvent(),n}return e.prototype.mounted=function(){var t=this.props.slots,n=t.wwEditor,i=t.mdEditor,o=t.mdPreview;this.refs.wwContainer.appendChild(n),this.refs.mdContainer.insertAdjacentElement("afterbegin",i),this.refs.mdContainer.appendChild(o)},e.prototype.insertToolbarItem=function(t,n){this.toolbar.insertToolbarItem(t,n)},e.prototype.removeToolbarItem=function(t){this.toolbar.removeToolbarItem(t)},e.prototype.render=function(){var t=this,n=this.props,i=n.eventEmitter,o=n.hideModeSwitch,a=n.toolbarItems,s=n.theme,l=this.state,u=l.hide,c=l.previewStyle,f=l.editorType,d=u?" hidden":"",p=N(f==="markdown"?"md-mode":"ww-mode"),h=N("md")+"-"+c+"-style",v=N([s!=="light",s+" "]);return X(Np||(Np=J([`
      <div
        class="`,"","",`"
        ref=`,`
      >
        <`,`
          ref=`,`
          eventEmitter=`,`
          previewStyle=`,`
          toolbarItems=`,`
          editorType=`,`
        />
        <div
          class="`," ",`"
          ref=`,`
        >
          <div class="`,`">
            <div
              class="`," ",`"
              ref=`,`
            >
              <div class="`,`"></div>
            </div>
            <div
              class="`,`"
              ref=`,`
            />
          </div>
        </div>
        `,`
        <`," eventEmitter=",` />
      </div>
    `],[`
      <div
        class="`,"","",`"
        ref=`,`
      >
        <`,`
          ref=`,`
          eventEmitter=`,`
          previewStyle=`,`
          toolbarItems=`,`
          editorType=`,`
        />
        <div
          class="`," ",`"
          ref=`,`
        >
          <div class="`,`">
            <div
              class="`," ",`"
              ref=`,`
            >
              <div class="`,`"></div>
            </div>
            <div
              class="`,`"
              ref=`,`
            />
          </div>
        </div>
        `,`
        <`," eventEmitter=",` />
      </div>
    `])),v,N("defaultUI"),d,function(m){return t.refs.el=m},gse,function(m){return t.toolbar=m},i,c,a,f,N("main"),p,function(m){return t.refs.editorSection=m},N("main-container"),N("md-container"),h,function(m){return t.refs.mdContainer=m},N("md-splitter"),N("ww-container"),function(m){return t.refs.wwContainer=m},!o&&X(Dp||(Dp=J(["<"," eventEmitter="," editorType="," />"],["<"," eventEmitter="," editorType="," />"])),Tae,i,f),yse,i)},e.prototype.addEvent=function(){var t=this.props.eventEmitter;t.listen("hide",this.hide),t.listen("show",this.show),t.listen("changeMode",this.changeMode),t.listen("changePreviewStyle",this.changePreviewStyle)},e})(Pe),Dp,Np,Nv=(function(r){D(e,r);function e(t){var n,i=r.call(this,t)||this,o,a=kae(i.options.el,X(Ip||(Ip=J([`
        <`,`
          ref=`,`
          eventEmitter=`,`
          slots=`,`
          hideModeSwitch=`,`
          toolbarItems=`,`
          previewStyle=`,`
          editorType=`,`
          theme=`,`
        />
      `],[`
        <`,`
          ref=`,`
          eventEmitter=`,`
          slots=`,`
          hideModeSwitch=`,`
          toolbarItems=`,`
          previewStyle=`,`
          editorType=`,`
          theme=`,`
        />
      `])),bse,function(s){return o=s},i.eventEmitter,i.getEditorElements(),i.options.hideModeSwitch,i.options.toolbarItems,i.options.previewStyle,i.options.initialEditType,i.options.theme));return i.setMinHeight(i.options.minHeight),i.setHeight(i.options.height),i.defaultUI={insertToolbarItem:o.insertToolbarItem.bind(o),removeToolbarItem:o.removeToolbarItem.bind(o),destroy:a},(n=i.pluginInfo.toolbarItems)===null||n===void 0||n.forEach(function(s){var l=s.groupIndex,u=s.itemIndex,c=s.item;i.defaultUI.insertToolbarItem({groupIndex:l,itemIndex:u},c)}),i.eventEmitter.emit("loadUI",i),i}return e.factory=function(t){return t.viewer?new bv(t):new e(t)},e.prototype.insertToolbarItem=function(t,n){this.defaultUI.insertToolbarItem(t,n)},e.prototype.removeToolbarItem=function(t){this.defaultUI.removeToolbarItem(t)},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.defaultUI.destroy()},e})(Cv),Ip;Cv.setLanguage(["en","en-US"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Write",Preview:"Preview",Headings:"Headings",Paragraph:"Paragraph",Bold:"Bold",Italic:"Italic",Strike:"Strike",Code:"Inline code",Line:"Line",Blockquote:"Blockquote","Unordered list":"Unordered list","Ordered list":"Ordered list",Task:"Task",Indent:"Indent",Outdent:"Outdent","Insert link":"Insert link","Insert CodeBlock":"Insert codeBlock","Insert table":"Insert table","Insert image":"Insert image",Heading:"Heading","Image URL":"Image URL","Select image file":"Select image file","Choose a file":"Choose a file","No file":"No file",Description:"Description",OK:"OK",More:"More",Cancel:"Cancel",File:"File",URL:"URL","Link text":"Link text","Add row to up":"Add row to up","Add row to down":"Add row to down","Add column to left":"Add column to left","Add column to right":"Add column to right","Remove row":"Remove row","Remove column":"Remove column","Align column to left":"Align column to left","Align column to center":"Align column to center","Align column to right":"Align column to right","Remove table":"Remove table","Would you like to paste as table?":"Would you like to paste as table?","Text color":"Text color","Auto scroll enabled":"Auto scroll enabled","Auto scroll disabled":"Auto scroll disabled","Choose language":"Choose language"});var Rv=Kv(Iv());(function(){try{let e=typeof window<"u"?window:typeof self<"u"?self:globalThis;e.toastui=e.toastui||{},e.toastui.Editor=Nv,e.toastui.Editor.plugin=e.toastui.Editor.plugin||{},e.toastui.Editor.plugin.colorSyntax=Rv.default}catch{}})();})();
/*! Bundled license information:

tui-color-picker/dist/tui-color-picker.js:
  (*!
   * TOAST UI Color Picker
   * @version 2.2.8
   * @author NHN Cloud FE Development Team <dl_javascript@nhn.com>
   * @license MIT
   *)

@toast-ui/editor-plugin-color-syntax/dist/toastui-editor-plugin-color-syntax.js:
  (*!
   * TOAST UI Editor : Color Syntax Plugin
   * @version 3.1.0 | Fri Aug 05 2022
   * @author NHN Cloud FE Development Lab <dl_javascript@nhn.com>
   * @license MIT
   *)

@toast-ui/editor/dist/esm/index.js:
  (**
   * @toast-ui/editor
   * @version 3.2.2 | Fri Feb 17 2023
   * @author NHN Cloud FE Development Lab <dl_javascript@nhn.com>
   * @license MIT
   *)
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)
  (*! http://mths.be/fromcodepoint v0.2.1 by @mathias *)
  (*! @license DOMPurify 2.3.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.3/LICENSE *)
*/
